{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{\"+kV9\":function(e,t,n){\"use strict\";var r=n(\"R4vf\"),o=n(\"OkLf\").MongoError;e.exports={getReadPreference:function(e,t){var n=e.readPreference||new r(\"primary\");if(t.readPreference&&(n=t.readPreference),\"string\"==typeof n&&(n=new r(n)),!(n instanceof r))throw new o(\"read preference must be a ReadPreference instance\");return n},MESSAGE_HEADER_SIZE:16,opcodes:{OP_REPLY:1,OP_UPDATE:2001,OP_INSERT:2002,OP_QUERY:2004,OP_GETMORE:2005,OP_DELETE:2006,OP_KILL_CURSORS:2007,OP_COMPRESSED:2012},parseHeader:function(e){return{length:e.readInt32LE(0),requestId:e.readInt32LE(4),responseTo:e.readInt32LE(8),opCode:e.readInt32LE(12)}}}},\"+kYq\":function(e,t,n){\"use strict\";const r=n(\"q64v\").BSON.Long,o=n(\"q64v\").MongoError,i=n(\"Bx6p\").toError,s=n(\"Bx6p\").handleCallback,a=n(\"Bx6p\").applyRetryableWrites,u=n(\"Bx6p\").applyWriteConcern,c=n(\"q64v\").BSON.ObjectID,l=n(\"q64v\").BSON,p=64,h=1,f=2,d=3,m=new l([l.Binary,l.Code,l.DBRef,l.Decimal128,l.Double,l.Int32,l.Long,l.Map,l.MaxKey,l.MinKey,l.ObjectId,l.BSONRegExp,l.Symbol,l.Timestamp]);class g{constructor(e){this.result=e}get ok(){return this.result.ok}get nInserted(){return this.result.nInserted}get nUpserted(){return this.result.nUpserted}get nMatched(){return this.result.nMatched}get nModified(){return this.result.nModified}get nRemoved(){return this.result.nRemoved}getInsertedIds(){return this.result.insertedIds}getUpsertedIds(){return this.result.upserted}getUpsertedIdAt(e){return this.result.upserted[e]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(e){return e<this.result.writeErrors.length?this.result.writeErrors[e]:null}getWriteErrors(){return this.result.writeErrors}getLastOp(){return this.result.lastOp}getWriteConcernError(){if(0===this.result.writeConcernErrors.length)return null;if(1===this.result.writeConcernErrors.length)return this.result.writeConcernErrors[0];{let e=\"\";for(let t=0;t<this.result.writeConcernErrors.length;t++)e+=this.result.writeConcernErrors[t].errmsg,0===t&&(e+=\" and \");return new y({errmsg:e,code:p})}}toJSON(){return this.result}toString(){return`BulkWriteResult(${this.toJSON(this.result)})`}isOk(){return 1===this.result.ok}}class y{constructor(e){this.err=e}get code(){return this.err.code}get errmsg(){return this.err.errmsg}toJSON(){return{code:this.err.code,errmsg:this.err.errmsg}}toString(){return`WriteConcernError(${this.err.errmsg})`}}class v{constructor(e){this.err=e}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}function b(e,t,n,o,i){if(o)i=o;else if(i&&i.result)i=i.result;else if(null==i)return;if(0===i.ok&&1===n.ok)return n.ok=0,void n.writeErrors.push(new v({index:0,code:i.code||0,errmsg:i.message,op:t.operations[0]}));if(0===i.ok&&0===n.ok)return;if(i.opTime||i.lastOp){const e=i.lastOp||i.opTime;let t=null,o=null;if(e&&\"Timestamp\"===e._bsontype)null==n.lastOp?n.lastOp=e:e.greaterThan(n.lastOp)&&(n.lastOp=e);else{n.lastOp&&(t=\"number\"==typeof n.lastOp.ts?r.fromNumber(n.lastOp.ts):n.lastOp.ts,o=\"number\"==typeof n.lastOp.t?r.fromNumber(n.lastOp.t):n.lastOp.t);const i=\"number\"==typeof e.ts?r.fromNumber(e.ts):e.ts,s=\"number\"==typeof e.t?r.fromNumber(e.t):e.t;null==n.lastOp?n.lastOp=e:i.greaterThan(t)?n.lastOp=e:i.equals(t)&&s.greaterThan(o)&&(n.lastOp=e)}}t.batchType===h&&i.n&&(n.nInserted=n.nInserted+i.n),t.batchType===d&&i.n&&(n.nRemoved=n.nRemoved+i.n);let s=0;if(Array.isArray(i.upserted)){s=i.upserted.length;for(let e=0;e<i.upserted.length;e++)n.upserted.push({index:i.upserted[e].index+t.originalZeroIndex,_id:i.upserted[e]._id})}else i.upserted&&(s=1,n.upserted.push({index:t.originalZeroIndex,_id:i.upserted}));if(t.batchType===f&&i.n){const e=i.nModified;n.nUpserted=n.nUpserted+s,n.nMatched=n.nMatched+(i.n-s),n.nModified=\"number\"==typeof e?n.nModified+e:null}if(Array.isArray(i.writeErrors))for(let r=0;r<i.writeErrors.length;r++)n.writeErrors.push(new v({index:t.originalZeroIndex+i.writeErrors[r].index,code:i.writeErrors[r].code,errmsg:i.writeErrors[r].errmsg,op:t.operations[i.writeErrors[r].index]}));i.writeConcernError&&n.writeConcernErrors.push(new y(i.writeConcernError))}class w extends o{constructor(e,t){super(e.err||e.errmsg||e.errMessage||e),Object.assign(this,e),this.name=\"BulkWriteError\",this.result=t}}class _{constructor(e){this.s=e.s}update(e){const t={q:this.s.currentOp.selector,u:e,multi:!0,upsert:\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert};return this.s.currentOp=null,this.s.options.addToOperationsList(this,f,t)}updateOne(e){const t={q:this.s.currentOp.selector,u:e,multi:!1,upsert:\"boolean\"==typeof this.s.currentOp.upsert&&this.s.currentOp.upsert};return this.s.currentOp=null,this.s.options.addToOperationsList(this,f,t)}replaceOne(e){this.updateOne(e)}upsert(){return this.s.currentOp.upsert=!0,this}deleteOne(){const e={q:this.s.currentOp.selector,limit:1};return this.s.currentOp=null,this.s.options.addToOperationsList(this,d,e)}delete(){const e={q:this.s.currentOp.selector,limit:0};return this.s.currentOp=null,this.s.options.addToOperationsList(this,d,e)}removeOne(){return this.deleteOne()}remove(){return this.delete()}}class S{constructor(e,t,n,r){this.isOrdered=r,n=null==n?{}:n;const o=t.collectionName,i=e.bson,s=e.lastIsMaster(),c=s&&s.maxBsonObjectSize?s.maxBsonObjectSize:16777216,l=s&&s.maxWriteBatchSize?s.maxWriteBatchSize:1e3;let p=Object.assign({},n);p=a(p,t.s.db),p=u(p,{collection:t},n);const h=n.promiseLibrary||Promise;this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentBatch:null,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:null,currentUpdateBatch:null,currentRemoveBatch:null,batches:[],writeConcern:p.writeConcern,maxBatchSizeBytes:c,maxWriteBatchSize:l,namespace:o,bson:i,topology:e,options:p,currentOp:null,executed:!1,collection:t,promiseLibrary:h,err:null,checkKeys:\"boolean\"!=typeof n.checkKeys||n.checkKeys},!0===n.bypassDocumentValidation&&(this.s.bypassDocumentValidation=!0)}insert(e){return!0!==this.s.collection.s.db.options.forceServerObjectId&&null==e._id&&(e._id=new c),this.s.options.addToOperationsList(this,h,e)}find(e){if(!e)throw i(\"Bulk find operation must specify a selector\");return this.s.currentOp={selector:e},new _(this)}raw(e){const t=Object.keys(e)[0],n=\"boolean\"==typeof this.s.options.forceServerObjectId?this.s.options.forceServerObjectId:this.s.collection.s.db.options.forceServerObjectId;if(e.updateOne&&e.updateOne.q||e.updateMany&&e.updateMany.q||e.replaceOne&&e.replaceOne.q)return e[t].multi=!e.updateOne&&!e.replaceOne,this.s.options.addToOperationsList(this,f,e[t]);if(e.updateOne||e.updateMany||e.replaceOne){const n={q:e[t].filter,u:e[t].update||e[t].replacement,multi:!e.updateOne&&!e.replaceOne};return this.isOrdered?(n.upsert=!!e[t].upsert,e.collation&&(n.collation=e.collation)):e[t].upsert&&(n.upsert=!0),e[t].arrayFilters&&(n.arrayFilters=e[t].arrayFilters),this.s.options.addToOperationsList(this,f,n)}if(e.removeOne||e.removeMany||e.deleteOne&&e.deleteOne.q||e.deleteMany&&e.deleteMany.q)return e[t].limit=e.removeOne?1:0,this.s.options.addToOperationsList(this,d,e[t]);if(e.deleteOne||e.deleteMany){const n={q:e[t].filter,limit:e.deleteOne?1:0};return this.isOrdered&&e.collation&&(n.collation=e.collation),this.s.options.addToOperationsList(this,d,n)}if(e.insertOne&&null==e.insertOne.document)return!0!==n&&null==e.insertOne._id&&(e.insertOne._id=new c),this.s.options.addToOperationsList(this,h,e.insertOne);if(e.insertOne&&e.insertOne.document)return!0!==n&&null==e.insertOne.document._id&&(e.insertOne.document._id=new c),this.s.options.addToOperationsList(this,h,e.insertOne.document);if(!e.insertMany)throw i(\"bulkWrite only supports insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, deleteOne, deleteMany\");for(let r=0;r<e.insertMany.length;r++)!0!==n&&null==e.insertMany[r]._id&&(e.insertMany[r]._id=new c),this.s.options.addToOperationsList(this,h,e.insertMany[r])}bulkExecute(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t=t||{},this.s.executed){const e=i(\"batch cannot be re-executed\");return\"function\"==typeof n?n(e,null):this.s.promiseLibrary.reject(e)}if(\"function\"==typeof e?n=e:e&&\"object\"==typeof e&&(this.s.writeConcern=e),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),0===this.s.batches.length){const e=i(\"Invalid Operation, no operations specified\");return\"function\"==typeof n?n(e,null):this.s.promiseLibrary.reject(e)}return{options:t,callback:n}}finalOptionsHandler(e,t){const n=Object.assign({ordered:this.isOrdered},e.options);null!=this.s.writeConcern&&(n.writeConcern=this.s.writeConcern),!0!==n.bypassDocumentValidation&&delete n.bypassDocumentValidation,this.operationId&&(e.resultHandler.operationId=this.operationId),this.s.options.serializeFunctions&&(n.serializeFunctions=!0),this.s.options.ignoreUndefined&&(n.ignoreUndefined=!0),!0===this.s.bypassDocumentValidation&&(n.bypassDocumentValidation=!0),!1===this.s.checkKeys&&(n.checkKeys=!1),n.retryWrites&&(e.batch.batchType===f&&(n.retryWrites=n.retryWrites&&!e.batch.operations.some(e=>e.multi)),e.batch.batchType===d&&(n.retryWrites=n.retryWrites&&!e.batch.operations.some(e=>0===e.limit)));try{e.batch.batchType===h?this.s.topology.insert(this.s.collection.namespace,e.batch.operations,n,e.resultHandler):e.batch.batchType===f?this.s.topology.update(this.s.collection.namespace,e.batch.operations,n,e.resultHandler):e.batch.batchType===d&&this.s.topology.remove(this.s.collection.namespace,e.batch.operations,n,e.resultHandler)}catch(n){n.ok=0,s(t,null,b(0,e.batch,this.s.bulkResult,n,null))}}handleWriteError(e,t){return this.s.bulkResult.writeErrors.length>0?1===this.s.bulkResult.writeErrors.length?(s(e,new w(i(this.s.bulkResult.writeErrors[0]),t),null),!0):(s(e,new w(i({message:\"write operation failed\",code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors}),t),null),!0):t.getWriteConcernError()?(s(e,new w(i(t.getWriteConcernError()),t),null),!0):void 0}}Object.defineProperty(S.prototype,\"length\",{enumerable:!0,get:function(){return this.s.currentIndex}}),e.exports={Batch:class{constructor(e,t){this.originalZeroIndex=t,this.currentIndex=0,this.originalIndexes=[],this.batchType=e,this.operations=[],this.size=0,this.sizeBytes=0}},BulkOperationBase:S,BulkWriteError:w,BulkWriteResult:g,bson:m,FindOperators:_,handleMongoWriteConcernError:function(e,t,n,r,o){b(0,e,t,null,r.result);const a=new y({errmsg:r.result.writeConcernError.errmsg,code:r.result.writeConcernError.result});return s(o,new w(i(a),new g(t)),null)},LegacyOp:class{constructor(e,t,n){this.batchType=e,this.index=n,this.operation=t}},mergeBatchResults:b,INVALID_BSON_ERROR:22,MULTIPLE_ERROR:65,UNKNOWN_ERROR:8,WRITE_CONCERN_ERROR:p,INSERT:h,UPDATE:f,REMOVE:d,WriteError:v,WriteConcernError:y}},\"+qE3\":function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return\"function\"==typeof e}function o(e){return\"object\"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,u,c;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw l.context=t,l}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError(\"listener must be a function\");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,s,a;if(!r(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},\"/iOP\":function(e,t){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);this._bsontype=\"DBRef\",this.namespace=e,this.oid=t,this.db=r}n.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?\"\":this.db}},e.exports=n,e.exports.DBRef=n},\"/teq\":function(e,t,n){\"use strict\";const r=n(\"+qE3\").EventEmitter;e.exports=class extends r{constructor(){super()}instrument(e,t){this.$MongoClient=e;const n=this.$prototypeConnect=e.prototype.connect,r=this;e.prototype.connect=function(e){return this.s.options.monitorCommands=!0,this.on(\"commandStarted\",e=>r.emit(\"started\",e)),this.on(\"commandSucceeded\",e=>r.emit(\"succeeded\",e)),this.on(\"commandFailed\",e=>r.emit(\"failed\",e)),n.call(this,e)},\"function\"==typeof t&&t(null,this)}uninstrument(){this.$MongoClient.prototype.connect=this.$prototypeConnect}}},\"04Xk\":function(e,t,n){\"use strict\";const r=n(!function(){var e=new Error(\"Cannot find module 'fs'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(!function(){var e=new Error(\"Cannot find module 'path'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i=n(\"t2HT\"),s=r.readFileSync(o.resolve(__dirname,\"../code-points.mem\"));let a=0;function u(){const e=s.readUInt32BE(a),t=s.slice(a+=4,a+e);return a+=e,i({buffer:t})}const c=u(),l=u(),p=u(),h=u(),f=u(),d=u();e.exports={unassigned_code_points:c,commonly_mapped_to_nothing:l,non_ASCII_space_characters:p,prohibited_characters:h,bidirectional_r_al:f,bidirectional_l:d}},\"0C3t\":function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(\"OkLf\").MongoError,i={},s={},a=null,u=process.pid,c=null,l=function(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},this.className=e,t.logger?c=t.logger:null==c&&(c=console.log),t.loggerLevel&&(a=t.loggerLevel||\"error\"),null==s[this.className]&&(i[this.className]=!0)};l.prototype.debug=function(e,t){if(this.isDebug()&&(Object.keys(s).length>0&&s[this.className]||0===Object.keys(s).length&&i[this.className])){var n=(new Date).getTime(),o=r(\"[%s-%s:%s] %s %s\",\"DEBUG\",this.className,u,n,e),a={type:\"debug\",message:e,className:this.className,pid:u,date:n};t&&(a.meta=t),c(o,a)}},l.prototype.warn=function(e,t){if(this.isWarn()&&(Object.keys(s).length>0&&s[this.className]||0===Object.keys(s).length&&i[this.className])){var n=(new Date).getTime(),o=r(\"[%s-%s:%s] %s %s\",\"WARN\",this.className,u,n,e),a={type:\"warn\",message:e,className:this.className,pid:u,date:n};t&&(a.meta=t),c(o,a)}},l.prototype.info=function(e,t){if(this.isInfo()&&(Object.keys(s).length>0&&s[this.className]||0===Object.keys(s).length&&i[this.className])){var n=(new Date).getTime(),o=r(\"[%s-%s:%s] %s %s\",\"INFO\",this.className,u,n,e),a={type:\"info\",message:e,className:this.className,pid:u,date:n};t&&(a.meta=t),c(o,a)}},l.prototype.error=function(e,t){if(this.isError()&&(Object.keys(s).length>0&&s[this.className]||0===Object.keys(s).length&&i[this.className])){var n=(new Date).getTime(),o=r(\"[%s-%s:%s] %s %s\",\"ERROR\",this.className,u,n,e),a={type:\"error\",message:e,className:this.className,pid:u,date:n};t&&(a.meta=t),c(o,a)}},l.prototype.isInfo=function(){return\"info\"===a||\"debug\"===a},l.prototype.isError=function(){return\"error\"===a||\"info\"===a||\"debug\"===a},l.prototype.isWarn=function(){return\"error\"===a||\"warn\"===a||\"info\"===a||\"debug\"===a},l.prototype.isDebug=function(){return\"debug\"===a},l.reset=function(){a=\"error\",s={}},l.currentLogger=function(){return c},l.setCurrentLogger=function(e){if(\"function\"!=typeof e)throw new o(\"current logger must be a function\");c=e},l.filter=function(e,t){\"class\"===e&&Array.isArray(t)&&(s={},t.forEach(function(e){s[e]=!0}))},l.setLevel=function(e){if(\"info\"!==e&&\"error\"!==e&&\"debug\"!==e&&\"warn\"!==e)throw new Error(r(\"%s is an illegal logging level\",e));a=e},e.exports=l},\"1gqn\":function(e,t){e.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},2:function(e,t,n){e.exports=n(\"zUnb\")},\"3m0N\":function(e,t,n){\"use strict\";const r=n(\"BvkA\").KillCursor,o=n(\"BvkA\").GetMore,i=n(\"6uN0\").calculateDurationInMs,s=new Set([\"authenticate\",\"saslStart\",\"saslContinue\",\"getnonce\",\"createUser\",\"updateUser\",\"copydbgetnonce\",\"copydbsaslstart\",\"copydb\"]),a=e=>Object.keys(e)[0],u=e=>e.ns,c=e=>e.ns.split(\".\")[1],l=e=>`${e.options.host}:${e.options.port}`,p=(e,t)=>s.has(e)?{}:t,h={$query:\"filter\",$orderby:\"sort\",$hint:\"hint\",$comment:\"comment\",$maxScan:\"maxScan\",$max:\"max\",$min:\"min\",$returnKey:\"returnKey\",$showDiskLoc:\"showRecordId\",$maxTimeMS:\"maxTimeMS\",$snapshot:\"snapshot\"},f={numberToSkip:\"skip\",numberToReturn:\"batchSize\",returnFieldsSelector:\"projection\"},d=[\"tailable\",\"oplogReplay\",\"noCursorTimeout\",\"awaitData\",\"partial\",\"exhaust\"],m=e=>{if(e instanceof o)return{getMore:e.cursorId,collection:c(e),batchSize:e.numberToReturn};if(e instanceof r)return{killCursors:c(e),cursors:e.cursorIds};if(e.query&&e.query.$query){let t;return\"admin.$cmd\"===e.ns?t=Object.assign({},e.query.$query):(t={find:c(e)},Object.keys(h).forEach(n=>{void 0!==e.query[n]&&(t[h[n]]=e.query[n])})),Object.keys(f).forEach(n=>{void 0!==e.options[n]&&(t[f[n]]=e.options[n])}),d.forEach(n=>{e[n]&&(t[n]=e[n])}),void 0!==e.pre32Limit&&(t.limit=e.pre32Limit),e.query.$explain?{explain:t}:t}return e.query?e.query:e};e.exports={CommandStartedEvent:class{constructor(e,t){const n=m(t),r=a(n);s.has(r)&&(this.commandObj={},this.commandObj[r]=!0),Object.assign(this,{command:n,databaseName:(e=>e.ns.split(\".\")[0])(t),commandName:r,requestId:t.requestId,connectionId:l(e)})}},CommandSucceededEvent:class{constructor(e,t,n,s){const c=m(t),h=a(c);Object.assign(this,{duration:i(s),commandName:h,reply:p(h,((e,t)=>e instanceof o?{ok:1,cursor:{id:t.message.cursorId,ns:u(e),nextBatch:t.message.documents}}:e instanceof r?{ok:1,cursorsUnknown:e.cursorIds}:e.query&&void 0!==e.query.$query?{ok:1,cursor:{id:t.message.cursorId,ns:u(e),firstBatch:t.message.documents}}:t.result)(t,n)),requestId:t.requestId,connectionId:l(e)})}},CommandFailedEvent:class{constructor(e,t,n,r){const o=m(t),s=a(o);Object.assign(this,{duration:i(r),commandName:s,failure:p(s,n),requestId:t.requestId,connectionId:l(e)})}}}},\"49sm\":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},\"5wz/\":function(e,t){e.exports=\"function\"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},\"6MUB\":function(e,t,n){\"use strict\";var r=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};e.exports=function(e,t,n,o){return t=t||\"&\",n=n||\"=\",null===e&&(e=void 0),\"object\"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(r(e))}).join(t):i+encodeURIComponent(r(e[o]))}).join(t):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(e)):\"\"}},\"6uN0\":function(e,t,n){\"use strict\";const r=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(\"Vx2P\");let i=null,s=null;try{const e=o(\"kerberos\");e&&(i=e.Kerberos,s=e.processes.MongoAuthProcess)}catch(e){console.warn(e.message)}const a=function(){throw new Error(\"The `mongodb-extjson` package was not found. Please install it and try again.\")};e.exports={uuidV4:()=>{const e=r.randomBytes(16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e},calculateDurationInMs:e=>{const t=process.hrtime(e);return(1e9*t[0]+t[1])/1e6},relayEvents:function(e,t,n){n.forEach(n=>e.on(n,e=>t.emit(n,e)))},Kerberos:i,MongoAuthProcess:s,collationNotSupported:function(e,t){return t&&t.collation&&e.ismaster&&e.ismaster.maxWireVersion<5},retrieveEJSON:function(){let e=null;try{e=o(\"mongodb-extjson\")}catch(e){}return e||(e={parse:a,deserialize:a,serialize:a,stringify:a,setBSONModule:a,BSON:a}),e}}},\"9b1L\":function(e,t,n){\"use strict\";const r=n(\"q64v\"),o=n(\"/teq\"),i=n(\"wcAq\").connect;i.MongoError=r.MongoError,i.MongoNetworkError=r.MongoNetworkError,i.Admin=n(\"IkSr\"),i.MongoClient=n(\"wcAq\"),i.Db=n(\"mn2F\"),i.Collection=n(\"Hwnt\"),i.Server=n(\"e1Yl\"),i.ReplSet=n(\"z+g+\"),i.Mongos=n(\"Jrgb\"),i.ReadPreference=n(\"q64v\").ReadPreference,i.GridStore=n(\"u30Y\"),i.Chunk=n(\"glTG\"),i.Logger=r.Logger,i.AggregationCursor=n(\"VeP1\"),i.CommandCursor=n(\"QVxV\"),i.Cursor=n(\"q6MH\"),i.GridFSBucket=n(\"JEId\"),i.CoreServer=n(\"q64v\").Server,i.CoreConnection=n(\"q64v\").Connection,i.Binary=r.BSON.Binary,i.Code=r.BSON.Code,i.Map=r.BSON.Map,i.DBRef=r.BSON.DBRef,i.Double=r.BSON.Double,i.Int32=r.BSON.Int32,i.Long=r.BSON.Long,i.MinKey=r.BSON.MinKey,i.MaxKey=r.BSON.MaxKey,i.ObjectID=r.BSON.ObjectID,i.ObjectId=r.BSON.ObjectID,i.Symbol=r.BSON.Symbol,i.Timestamp=r.BSON.Timestamp,i.BSONRegExp=r.BSON.BSONRegExp,i.Decimal128=r.BSON.Decimal128,i.connect=i,i.instrument=function(e,t){\"function\"==typeof e&&(t=e,e={});const n=new o;return n.instrument(i.MongoClient,t),n},e.exports=i},\"9k0L\":function(e,t,n){if(\"undefined\"!=typeof global)var r=n(\"tjlA\").Buffer;function o(e,t){if(!(this instanceof o))return new o(e,t);if(!(null==e||\"string\"==typeof e||r.isBuffer(e)||e instanceof Uint8Array||Array.isArray(e)))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");if(this._bsontype=\"Binary\",e instanceof Number?(this.sub_type=e,this.position=0):(this.sub_type=null==t?i:t,this.position=0),null==e||e instanceof Number)this.buffer=void 0!==r?new r(o.BUFFER_SIZE):\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(o.BUFFER_SIZE)):new Array(o.BUFFER_SIZE),this.position=0;else{if(\"string\"==typeof e)if(void 0!==r)this.buffer=new r(e);else{if(\"undefined\"==typeof Uint8Array&&\"[object Array]\"!==Object.prototype.toString.call(e))throw new Error(\"only String, Buffer, Uint8Array or Array accepted\");this.buffer=s(e)}else this.buffer=e;this.position=e.length}}o.prototype.put=function(e){if(null!=e.length&&\"number\"!=typeof e&&1!==e.length)throw new Error(\"only accepts single character String, Uint8Array or Array\");if(\"number\"!=typeof e&&e<0||e>255)throw new Error(\"only accepts number in a valid unsigned byte range 0-255\");var t;if(t=\"string\"==typeof e?e.charCodeAt(0):null!=e.length?e[0]:e,this.buffer.length>this.position)this.buffer[this.position++]=t;else if(void 0!==r&&r.isBuffer(this.buffer)){var n=new r(o.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=t}else{n=null,n=\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(o.BUFFER_SIZE+this.buffer.length)):new Array(o.BUFFER_SIZE+this.buffer.length);for(var i=0;i<this.buffer.length;i++)n[i]=this.buffer[i];this.buffer=n,this.buffer[this.position++]=t}},o.prototype.write=function(e,t){if(this.buffer.length<(t=\"number\"==typeof t?t:this.position)+e.length){var n=null;if(void 0!==r&&r.isBuffer(this.buffer))n=new r(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var o=0;o<this.position;o++)n[o]=this.buffer[o]}this.buffer=n}if(void 0!==r&&r.isBuffer(e)&&r.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==r&&\"string\"==typeof e&&r.isBuffer(this.buffer))this.buffer.write(e,t,\"binary\"),this.position=t+e.length>this.position?t+e.length:this.position;else if(\"[object Uint8Array]\"===Object.prototype.toString.call(e)||\"[object Array]\"===Object.prototype.toString.call(e)&&\"string\"!=typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if(\"string\"==typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}},o.prototype.read=function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n},o.prototype.value=function(e){if((e=null!=e&&e)&&void 0!==r&&r.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==r&&r.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString(\"binary\",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=\"[object Uint8Array]\"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return a(this.buffer,0,this.position)},o.prototype.length=function(){return this.position},o.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString(\"base64\"):\"\"},o.prototype.toString=function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):\"\"};var i=0,s=function(e){for(var t=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},a=function(e,t,n){for(var r=\"\",o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r};o.BUFFER_SIZE=256,o.SUBTYPE_DEFAULT=0,o.SUBTYPE_FUNCTION=1,o.SUBTYPE_BYTE_ARRAY=2,o.SUBTYPE_UUID_OLD=3,o.SUBTYPE_UUID=4,o.SUBTYPE_MD5=5,o.SUBTYPE_USER_DEFINED=128,e.exports=o,e.exports.Binary=o},\"9lTW\":function(e,t,n){\"use strict\";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return global.Buffer&&\"function\"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n(\"dXPX\"),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u=\"foo\"===(function(){}).name;function c(e){return Object.prototype.toString.call(e)}function l(e){return!o(e)&&\"function\"==typeof global.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var p=e.exports=y,h=/\\s*function\\s+([^\\(\\s]*)\\s*/;function f(e){if(i.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function d(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(u||!i.isFunction(e))return i.inspect(e);var t=f(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function g(e,t,n,r,o){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function y(e,t){e||g(e,!0,t,\"==\",p.ok)}function v(e,t,n,s){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(l(e)&&l(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=b(e),s=b(t);if(o&&!s||!o&&s)return!1;if(o)return v(e=a.call(e),t=a.call(t),n);var u,c,l=S(e),p=S(t);if(l.length!==p.length)return!1;for(l.sort(),p.sort(),c=l.length-1;c>=0;c--)if(l[c]!==p[c])return!1;for(c=l.length-1;c>=0;c--)if(!v(e[u=l[c]],t[u],n,r))return!1;return!0}(e,t,n,s))}return n?e===t:e==t}function b(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,n,r){var o;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?\" (\"+n.name+\").\":\".\")+(r?\" \"+r:\".\"),e&&!o&&g(o,n,\"Missing expected exception\"+r);var s=\"string\"==typeof r,a=!e&&i.isError(o),u=!e&&o&&!n;if((a&&s&&w(o,n)||u)&&g(o,n,\"Got unwanted exception\"+r),e&&o&&n&&!w(o,n)||!e&&o)throw o}p.AssertionError=function(e){var t;this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(m((t=this).actual),128)+\" \"+t.operator+\" \"+d(m(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=f(n),s=o.indexOf(\"\\n\"+i);if(s>=0){var a=o.indexOf(\"\\n\",s+1);o=o.substring(a+1)}this.stack=o}}},i.inherits(p.AssertionError,Error),p.fail=g,p.ok=y,p.equal=function(e,t,n){e!=t&&g(e,t,n,\"==\",p.equal)},p.notEqual=function(e,t,n){e==t&&g(e,t,n,\"!=\",p.notEqual)},p.deepEqual=function(e,t,n){v(e,t,!1)||g(e,t,n,\"deepEqual\",p.deepEqual)},p.deepStrictEqual=function(e,t,n){v(e,t,!0)||g(e,t,n,\"deepStrictEqual\",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){v(e,t,!1)&&g(e,t,n,\"notDeepEqual\",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){v(t,n,!0)&&g(t,n,r,\"notDeepStrictEqual\",e)},p.strictEqual=function(e,t,n){e!==t&&g(e,t,n,\"===\",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,\"!==\",p.notStrictEqual)},p.throws=function(e,t,n){_(!0,e,t,n)},p.doesNotThrow=function(e,t,n){_(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},B2Iy:function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype=\"Timestamp\",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error(\"radix out of range: \"+t);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var r=n.fromNumber(t),o=this.div(r),i=o.multiply(r).subtract(this);return o.toString(t)+i.toInt().toString(t)}return\"-\"+this.negate().toString(t)}var s=n.fromNumber(Math.pow(t,6));i=this;for(var a=\"\";!i.isZero();){var u=i.div(s),c=i.subtract(u.multiply(s)).toInt().toString(t);if((i=u).isZero())return c+a;for(;c.length<6;)c=\"0\"+c;a=\"\"+c+a}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=0,r=0,o=0,i=0;return o+=(i+=(65535&this.low_)+(65535&e.low_))>>>16,r+=(o+=(this.low_>>>16)+(e.low_>>>16))>>>16,t+=(r+=(65535&this.high_)+(65535&e.high_))>>>16,t+=(this.high_>>>16)+(e.high_>>>16),n.fromBits((o&=65535)<<16|(i&=65535),(t&=65535)<<16|(r&=65535))},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,i=65535&e.high_,s=e.low_>>>16,a=65535&e.low_,u=0,c=0,l=0,p=0;return l+=(p+=o*a)>>>16,c+=(l+=r*a)>>>16,l&=65535,c+=(l+=o*s)>>>16,u+=(c+=t*a)>>>16,c&=65535,u+=(c+=r*s)>>>16,c&=65535,u+=(c+=o*i)>>>16,u+=(this.high_>>>16)*a+t*s+r*i+o*(e.high_>>>16),n.fromBits((l&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535))},n.prototype.div=function(e){if(e.isZero())throw Error(\"division by zero\");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var r=this.subtract(e.multiply(t));return t.add(r.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var o=n.ZERO;for(r=this;r.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),s=i<=48?1:Math.pow(2,i-48),a=n.fromNumber(t),u=a.multiply(e);u.isNegative()||u.greaterThan(r);)u=(a=n.fromNumber(t-=s)).multiply(e);a.isZero()&&(a=n.ONE),o=o.add(a),r=r.subtract(u)}return o},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0==(e&=63))return this;var t=this.low_;return e<32?n.fromBits(t<<e,this.high_<<e|t>>>32-e):n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0==(e&=63))return this;var t=this.high_;return e<32?n.fromBits(this.low_>>>e|t<<32-e,t>>e):n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0==(e&=63))return this;var t=this.high_;return e<32?n.fromBits(this.low_>>>e|t<<32-e,t>>>e):n.fromBits(32===e?t:t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var r=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=r),r},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error(\"number format error: empty string\");var r=t||10;if(r<2||36<r)throw Error(\"radix out of range: \"+r);if(\"-\"===e.charAt(0))return n.fromString(e.substring(1),r).negate();if(e.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+e);for(var o=n.fromNumber(Math.pow(r,8)),i=n.ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);if(a<8){var c=n.fromNumber(Math.pow(r,a));i=i.multiply(c).add(n.fromNumber(u))}else i=(i=i.multiply(o)).add(n.fromNumber(u))}return i},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_31_DBL_=(n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_)/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_63_DBL_=(n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_)/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Timestamp=n},BvkA:function(e,t,n){\"use strict\";var r=(0,n(\"M9st\").retrieveBSON)().Long;const o=n(\"OkLf\").MongoError,i=n(\"hwdV\").Buffer;var s=0,a=n(\"+kV9\").opcodes,u=function(e,t,n,r){if(null==t)throw new Error(\"ns must be specified for query\");if(null==n)throw new Error(\"query must be specified for query\");if(-1!==t.indexOf(\"\\0\"))throw new Error(\"namespace cannot contain a null character\");this.bson=e,this.ns=t,this.query=n,this.options=r||{},this.numberToSkip=r.numberToSkip||0,this.numberToReturn=r.numberToReturn||0,this.returnFieldSelector=r.returnFieldSelector||null,this.requestId=u.getRequestId(),this.pre32Limit=r.pre32Limit,this.serializeFunctions=\"boolean\"==typeof r.serializeFunctions&&r.serializeFunctions,this.ignoreUndefined=\"boolean\"==typeof r.ignoreUndefined&&r.ignoreUndefined,this.maxBsonSize=r.maxBsonSize||16777216,this.checkKeys=\"boolean\"!=typeof r.checkKeys||r.checkKeys,this.batchSize=this.numberToReturn,this.tailable=!1,this.slaveOk=\"boolean\"==typeof r.slaveOk&&r.slaveOk,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1};u.prototype.incRequestId=function(){this.requestId=s++},u.nextRequestId=function(){return s+1},u.prototype.toBin=function(){var e=[],t=null,n=0;this.tailable&&(n|=2),this.slaveOk&&(n|=4),this.oplogReplay&&(n|=8),this.noCursorTimeout&&(n|=16),this.awaitData&&(n|=32),this.exhaust&&(n|=64),this.partial&&(n|=128),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);var r=i.alloc(20+i.byteLength(this.ns)+1+4+4);e.push(r);var o=this.bson.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(o),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(t=this.bson.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(t));var s=r.length+o.length+(t?t.length:0),u=4;return r[3]=s>>24&255,r[2]=s>>16&255,r[1]=s>>8&255,r[0]=255&s,r[u+3]=this.requestId>>24&255,r[u+2]=this.requestId>>16&255,r[u+1]=this.requestId>>8&255,r[u]=255&this.requestId,r[(u+=4)+3]=0,r[u+2]=0,r[u+1]=0,r[u]=0,r[(u+=4)+3]=a.OP_QUERY>>24&255,r[u+2]=a.OP_QUERY>>16&255,r[u+1]=a.OP_QUERY>>8&255,r[u]=255&a.OP_QUERY,r[(u+=4)+3]=n>>24&255,r[u+2]=n>>16&255,r[u+1]=n>>8&255,r[u]=255&n,r[(u=(u+=4)+r.write(this.ns,u,\"utf8\")+1)-1]=0,r[u+3]=this.numberToSkip>>24&255,r[u+2]=this.numberToSkip>>16&255,r[u+1]=this.numberToSkip>>8&255,r[u]=255&this.numberToSkip,r[(u+=4)+3]=this.numberToReturn>>24&255,r[u+2]=this.numberToReturn>>16&255,r[u+1]=this.numberToReturn>>8&255,r[u]=255&this.numberToReturn,u+=4,e},u.getRequestId=function(){return++s};var c=function(e,t,n,r){this.numberToReturn=(r=r||{}).numberToReturn||0,this.requestId=s++,this.bson=e,this.ns=t,this.cursorId=n};c.prototype.toBin=function(){var e=4+i.byteLength(this.ns)+1+4+8+16,t=0,n=i.alloc(e);return n[t+3]=e>>24&255,n[t+2]=e>>16&255,n[t+1]=e>>8&255,n[t]=255&e,n[(t+=4)+3]=this.requestId>>24&255,n[t+2]=this.requestId>>16&255,n[t+1]=this.requestId>>8&255,n[t]=255&this.requestId,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=a.OP_GETMORE>>24&255,n[t+2]=a.OP_GETMORE>>16&255,n[t+1]=a.OP_GETMORE>>8&255,n[t]=255&a.OP_GETMORE,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t=(t+=4)+n.write(this.ns,t,\"utf8\")+1)-1]=0,n[t+3]=this.numberToReturn>>24&255,n[t+2]=this.numberToReturn>>16&255,n[t+1]=this.numberToReturn>>8&255,n[t]=255&this.numberToReturn,n[(t+=4)+3]=this.cursorId.getLowBits()>>24&255,n[t+2]=this.cursorId.getLowBits()>>16&255,n[t+1]=this.cursorId.getLowBits()>>8&255,n[t]=255&this.cursorId.getLowBits(),n[(t+=4)+3]=this.cursorId.getHighBits()>>24&255,n[t+2]=this.cursorId.getHighBits()>>16&255,n[t+1]=this.cursorId.getHighBits()>>8&255,n[t]=255&this.cursorId.getHighBits(),t+=4,n};var l=function(e,t,n){this.ns=t,this.requestId=s++,this.cursorIds=n};l.prototype.toBin=function(){var e=24+8*this.cursorIds.length,t=0,n=i.alloc(e);n[t+3]=e>>24&255,n[t+2]=e>>16&255,n[t+1]=e>>8&255,n[t]=255&e,n[(t+=4)+3]=this.requestId>>24&255,n[t+2]=this.requestId>>16&255,n[t+1]=this.requestId>>8&255,n[t]=255&this.requestId,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=a.OP_KILL_CURSORS>>24&255,n[t+2]=a.OP_KILL_CURSORS>>16&255,n[t+1]=a.OP_KILL_CURSORS>>8&255,n[t]=255&a.OP_KILL_CURSORS,n[(t+=4)+3]=0,n[t+2]=0,n[t+1]=0,n[t]=0,n[(t+=4)+3]=this.cursorIds.length>>24&255,n[t+2]=this.cursorIds.length>>16&255,n[t+1]=this.cursorIds.length>>8&255,n[t]=255&this.cursorIds.length,t+=4;for(var r=0;r<this.cursorIds.length;r++)n[t+3]=this.cursorIds[r].getLowBits()>>24&255,n[t+2]=this.cursorIds[r].getLowBits()>>16&255,n[t+1]=this.cursorIds[r].getLowBits()>>8&255,n[t]=255&this.cursorIds[r].getLowBits(),n[(t+=4)+3]=this.cursorIds[r].getHighBits()>>24&255,n[t+2]=this.cursorIds[r].getHighBits()>>16&255,n[t+1]=this.cursorIds[r].getHighBits()>>8&255,n[t]=255&this.cursorIds[r].getHighBits(),t+=4;return n};var p=function(e,t,n,o,i){i=i||{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1},this.parsed=!1,this.raw=t,this.data=o,this.bson=e,this.opts=i,this.length=n.length,this.requestId=n.requestId,this.responseTo=n.responseTo,this.opCode=n.opCode,this.fromCompressed=n.fromCompressed,this.responseFlags=o.readInt32LE(0),this.cursorId=new r(o.readInt32LE(4),o.readInt32LE(8)),this.startingFrom=o.readInt32LE(12),this.numberReturned=o.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=0!=(0&this.responseFlags),this.queryFailure=0!=(2&this.responseFlags),this.shardConfigStale=0!=(4&this.responseFlags),this.awaitCapable=0!=(8&this.responseFlags),this.promoteLongs=\"boolean\"!=typeof i.promoteLongs||i.promoteLongs,this.promoteValues=\"boolean\"!=typeof i.promoteValues||i.promoteValues,this.promoteBuffers=\"boolean\"==typeof i.promoteBuffers&&i.promoteBuffers};p.prototype.isParsed=function(){return this.parsed},p.prototype.parse=function(e){if(!this.parsed){var t,n,i=(e=e||{}).raw||!1,s=e.documentsReturnedIn||null;if(n={promoteLongs:\"boolean\"==typeof e.promoteLongs?e.promoteLongs:this.opts.promoteLongs,promoteValues:\"boolean\"==typeof e.promoteValues?e.promoteValues:this.opts.promoteValues,promoteBuffers:\"boolean\"==typeof e.promoteBuffers?e.promoteBuffers:this.opts.promoteBuffers},this.index=20,1===this.numberReturned&&null!=s&&i){var a=this.data.slice(this.index,this.index+(t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24)),u={};u[s]=!0,n.fieldsAsRaw=u;var c=this.bson.deserialize(a,n);if(c instanceof Error)throw c;if(c.errmsg)throw new o(c.errmsg);if(!c.cursor)throw new o(\"Cursor not found\");return this.documents=c.cursor[s],this.numberReturned=this.documents.length,this.cursorId=\"number\"==typeof c.cursor.id?r.fromNumber(c.cursor.id):c.cursor.id,this.index=this.index+t,void(this.parsed=!0)}for(var l=0;l<this.numberReturned;l++)t=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,this.documents[l]=i?this.data.slice(this.index,this.index+t):this.bson.deserialize(this.data.slice(this.index,this.index+t),n),this.index=this.index+t;this.parsed=!0}},e.exports={Query:u,GetMore:c,Response:p,KillCursor:l}},Bx6p:function(e,t,n){\"use strict\";const r=n(\"q64v\").MongoError,o=n(\"q64v\").ReadPreference;var i=t.formatSortValue=function(e){switch((\"\"+e).toLowerCase()){case\"ascending\":case\"asc\":case\"1\":return 1;case\"descending\":case\"desc\":case\"-1\":return-1;default:throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\")}},s=t.formattedOrderClause=function(e){var t={};if(null==e)return null;if(Array.isArray(e)){if(0===e.length)return null;for(var n=0;n<e.length;n++)e[n].constructor===String?t[e[n]]=1:t[e[n][0]]=i(e[n][1])}else if(null!=e&&\"object\"==typeof e)t=e;else{if(\"string\"!=typeof e)throw new Error(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");t[e]=1}return t},a=t.isObject=function(e){return\"[object Object]\"===Object.prototype.toString.call(e)},u=[\"w\",\"j\",\"wtimeout\",\"fsync\"];const c=process.emitWarning?e=>process.emitWarning(e,\"DeprecationWarning\"):e=>console.error(e);function l(e,t){return`${e} option [${t}] is deprecated and will be removed in a later version.`}e.exports={filterOptions:function(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n},mergeOptions:function(e,t){for(var n in t)e[n]=t[n];return e},translateOptions:function(e,t){var n={sslCA:\"ca\",sslCRL:\"crl\",sslValidate:\"rejectUnauthorized\",sslKey:\"key\",sslCert:\"cert\",sslPass:\"passphrase\",socketTimeoutMS:\"socketTimeout\",connectTimeoutMS:\"connectionTimeout\",replicaSet:\"setName\",rs_name:\"setName\",secondaryAcceptableLatencyMS:\"acceptableLatency\",connectWithNoPrimary:\"secondaryOnlyConnectionAllowed\",acceptableLatencyMS:\"localThresholdMS\"};for(var r in t)n[r]?e[n[r]]=t[r]:e[r]=t[r];return e},shallowClone:function(e){var t={};for(var n in e)t[n]=e[n];return t},getSingleProperty:function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},checkCollectionName:function(e){if(\"string\"!=typeof e)throw new r(\"collection name must be a String\");if(!e||-1!==e.indexOf(\"..\"))throw new r(\"collection names cannot be empty\");if(-1!==e.indexOf(\"$\")&&null==e.match(/((^\\$cmd)|(oplog\\.\\$main))/))throw new r(\"collection names must not contain '$'\");if(null!=e.match(/^\\.|\\.$/))throw new r(\"collection names must not start or end with '.'\");if(-1!==e.indexOf(\"\\0\"))throw new r(\"collection names cannot contain a null character\")},toError:function(e){if(e instanceof Error)return e;for(var t=r.create({message:e.err||e.errmsg||e.errMessage||e,driver:!0}),n=\"object\"==typeof e?Object.keys(e):[],o=0;o<n.length;o++)try{t[n[o]]=e[n[o]]}catch(e){}return t},formattedOrderClause:s,parseIndexOptions:function(e){var t,n={},r=[];return\"string\"==typeof e?(r.push(e+\"_1\"),n[e]=1):Array.isArray(e)?e.forEach(function(e){\"string\"==typeof e?(r.push(e+\"_1\"),n[e]=1):Array.isArray(e)?(r.push(e[0]+\"_\"+(e[1]||1)),n[e[0]]=e[1]||1):a(e)&&(t=Object.keys(e)).forEach(function(t){r.push(t+\"_\"+e[t]),n[t]=e[t]})}):a(e)&&(t=Object.keys(e)).forEach(function(t){r.push(t+\"_\"+e[t]),n[t]=e[t]}),{name:r.join(\"_\"),keys:t,fieldHash:n}},normalizeHintField:function(e){var t=null;if(\"string\"==typeof e)t=e;else if(Array.isArray(e))t={},e.forEach(function(e){t[e]=1});else if(null!=e&&\"object\"==typeof e)for(var n in t={},e)t[n]=e[n];return t},handleCallback:function(e,t,n,r){try{if(null==e)return;if(e)return r?e(t,n,r):e(t,n)}catch(t){return process.nextTick(function(){throw t}),!1}return!0},decorateCommand:function(e,t,n){for(var r in t)null==n[r]&&(e[r]=t[r]);return e},isObject:a,debugOptions:function(e,t){var n={};return e.forEach(function(e){n[e]=t[e]}),n},MAX_JS_INT:Number.MAX_SAFE_INTEGER+1,mergeOptionsAndWriteConcern:function(e,t,n,r){for(var o=0;o<n.length;o++)e[n[o]]||void 0===t[n[o]]||(e[n[o]]=t[n[o]]);if(!r)return e;var i=!1;for(o=0;o<u.length;o++)if(e[u[o]]){i=!0;break}if(!i)for(o=0;o<u.length;o++)t[u[o]]&&(e[u[o]]=t[u[o]]);return e},translateReadPreference:function(e){var t;if(!e.readPreference)return e;if(\"string\"==typeof(t=e.readPreference))e.readPreference=new o(t);else if(!t||t instanceof o||\"object\"!=typeof t){if(!(t instanceof o))throw new TypeError(\"Invalid read preference: \"+t)}else{const n=t.mode||t.preference;n&&\"string\"==typeof n&&(e.readPreference=new o(n,t.tags,{maxStalenessSeconds:t.maxStalenessSeconds}))}return e},executeOperation:(e,t,n,o)=>{if(null==e)throw new TypeError(\"This method requires a valid topology instance\");if(!Array.isArray(n))throw new TypeError(\"This method requires an array of arguments to apply\");const i=e.s.promiseLibrary;let s,a,u,c=(o=o||{}).resultMutator,l=n[n.length-1];if(!o.skipSessions&&e.hasSessionSupport())if(null==(a=n[n.length-2])||null==a.session){u=Symbol(),s=e.startSession({owner:u});const t=n.length-2;n[t]=Object.assign({},n[t],{session:s})}else if(a.session&&a.session.hasEnded)throw new r(\"Use of expired sessions is not permitted\");const p=(e,t)=>(function(n,r){if(s&&s.owner===u&&!o.returnsCursor)s.endSession(()=>(delete a.session,n?t(n):c?e(c(r)):void e(r)));else{if(n)return t(n);if(c)return e(c(r));e(r)}});if(\"function\"==typeof l){l=n.pop();const e=p(e=>l(null,e),e=>l(e,null));n.push(e);try{return t.apply(null,n)}catch(t){throw e(t),t}}if(null!=n[n.length-1])throw new TypeError(\"final argument to `executeOperation` must be a callback\");return new i(function(e,r){const o=p(e,r);n[n.length-1]=o;try{return t.apply(null,n)}catch(e){o(e)}})},applyRetryableWrites:function(e,t){return t&&t.s.options.retryWrites&&(e.retryWrites=!0),e},applyWriteConcern:function(e,t,n){const r=t.db,o=t.collection;if((n=n||{}).session&&n.session.inTransaction())return e.writeConcern&&delete e.writeConcern,e;if(null!=n.w||null!=n.j||null!=n.fsync){const t={};return null!=n.w&&(t.w=n.w),null!=n.wtimeout&&(t.wtimeout=n.wtimeout),null!=n.j&&(t.j=n.j),null!=n.fsync&&(t.fsync=n.fsync),Object.assign(e,{writeConcern:t})}return!o||null==o.writeConcern.w&&null==o.writeConcern.j&&null==o.writeConcern.fsync?!r||null==r.writeConcern.w&&null==r.writeConcern.j&&null==r.writeConcern.fsync?e:Object.assign(e,{writeConcern:Object.assign({},r.writeConcern)}):Object.assign(e,{writeConcern:Object.assign({},o.writeConcern)})},resolveReadPreference:function(e,t){e=e||{};const n=(t=t||{}).db,r=t.collection,i=t.default,s=e.session;let a;if(e.readPreference?a=e.readPreference:s&&s.inTransaction()&&s.transaction.options.readPreference?a=s.transaction.options.readPreference:r&&r.s.readPreference?a=r.s.readPreference:n&&n.s.readPreference?a=n.s.readPreference:i&&(a=i),null==a)return null;if(\"string\"==typeof a)a=new o(a);else if(!a||a instanceof o||\"object\"!=typeof a){if(!(a instanceof o))throw new TypeError(\"Invalid read preference: \"+a)}else{const e=a.mode||a.preference;e&&\"string\"==typeof e&&(a=new o(e,a.tags,{maxStalenessSeconds:a.maxStalenessSeconds}))}return a},isPromiseLike:function(e){return e&&\"function\"==typeof e.then},decorateWithCollation:function(e,t,n){if(!t.s||!t.s.topology)throw new TypeError('parameter \"target\" is missing a topology');const r=t.s.topology.capabilities();r&&r.commandsTakeCollation&&n.collation&&\"object\"==typeof n.collation&&(e.collation=n.collation)},decorateWithReadConcern:function(e,t){let n=Object.assign({},e.readConcern||{});t.s.readConcern&&Object.assign(n,t.s.readConcern),Object.keys(n).length>0&&Object.assign(e,{readConcern:n})},deprecateOptions:function(e,t){if(!0===process.noDeprecation)return t;const n=e.msgHandler?e.msgHandler:l,r=new Set;function o(){const o=arguments[e.optionsIndex];return a(o)&&0!==Object.keys(o).length?(e.deprecatedOptions.forEach(t=>{if(o.hasOwnProperty(t)&&!r.has(t)){r.add(t);const o=n(e.name,t);if(c(o),this&&this.getLogger){const e=this.getLogger();e&&e.warn(o)}}}),t.apply(this,arguments)):t.apply(this,arguments)}return Object.setPrototypeOf(o,t),t.prototype&&(o.prototype=t.prototype),o}}},Ch8i:function(e,t,n){\"use strict\";const r=n(\"0C3t\"),o=n(\"M9st\").retrieveBSON,i=n(\"OkLf\").MongoError,s=n(\"OkLf\").MongoNetworkError,a=n(\"OkLf\").mongoErrorContextSymbol,u=n(\"MCLT\").format,c=n(\"6uN0\").collationNotSupported;var l=o().Long,p=function(e,t,n,o,i,s){o=o||{},this.pool=null,this.server=null,this.disconnectHandler=o.disconnectHandler,this.bson=e,this.ns=t,this.cmd=n,this.options=o,this.topology=i,this.cursorState={cursorId:null,cmd:n,documents:o.documents||[],cursorIndex:0,dead:!1,killed:!1,init:!1,notified:!1,limit:o.limit||n.limit||0,skip:o.skip||n.skip||0,batchSize:o.batchSize||n.batchSize||1e3,currentLimit:0,transforms:o.transforms},\"object\"==typeof o.session&&(this.cursorState.session=o.session),\"boolean\"==typeof s.promoteLongs?this.cursorState.promoteLongs=s.promoteLongs:\"boolean\"==typeof o.promoteLongs&&(this.cursorState.promoteLongs=o.promoteLongs),\"boolean\"==typeof s.promoteValues?this.cursorState.promoteValues=s.promoteValues:\"boolean\"==typeof o.promoteValues&&(this.cursorState.promoteValues=o.promoteValues),\"boolean\"==typeof s.promoteBuffers?this.cursorState.promoteBuffers=s.promoteBuffers:\"boolean\"==typeof o.promoteBuffers&&(this.cursorState.promoteBuffers=o.promoteBuffers),s.reconnect&&(this.cursorState.reconnect=s.reconnect),this.logger=r(\"Cursor\",s),\"number\"==typeof n?(this.cursorState.cursorId=l.fromNumber(n),this.cursorState.lastCursorId=this.cursorState.cursorId):n instanceof l&&(this.cursorState.cursorId=n,this.cursorState.lastCursorId=n)};p.prototype.setCursorBatchSize=function(e){this.cursorState.batchSize=e},p.prototype.cursorBatchSize=function(){return this.cursorState.batchSize},p.prototype.setCursorLimit=function(e){this.cursorState.limit=e},p.prototype.cursorLimit=function(){return this.cursorState.limit},p.prototype.setCursorSkip=function(e){this.cursorState.skip=e},p.prototype.cursorSkip=function(){return this.cursorState.skip},p.prototype._endSession=function(e,t){\"function\"==typeof e&&(t=e,e={}),e=e||{};const n=this.cursorState.session;return n&&(e.force||n.owner===this)?(this.cursorState.session=void 0,n.endSession(t),!0):(t&&t(),!1)};var h=function(e,t,n){try{e(t,n)}catch(t){process.nextTick(function(){throw t})}};p.prototype._find=function(e){var t=this;t.logger.isDebug()&&t.logger.debug(u(\"issue initial query [%s] with flags [%s]\",JSON.stringify(t.cmd),JSON.stringify(t.query)));var n={};(t.options.raw||t.cmd.raw)&&(n.raw=t.options.raw||t.cmd.raw),\"string\"==typeof t.query.documentsReturnedIn&&(n.documentsReturnedIn=t.query.documentsReturnedIn),\"boolean\"==typeof t.cursorState.promoteLongs&&(n.promoteLongs=t.cursorState.promoteLongs),\"boolean\"==typeof t.cursorState.promoteValues&&(n.promoteValues=t.cursorState.promoteValues),\"boolean\"==typeof t.cursorState.promoteBuffers&&(n.promoteBuffers=t.cursorState.promoteBuffers),\"object\"==typeof t.cursorState.session&&(n.session=t.cursorState.session),t.server.s.pool.write(t.query,n,function(n,r){if(n)return e(n);var o=r.message;if(o.queryFailure)return e(new i(o.documents[0]),null);if(Array.isArray(o.documents)&&1===o.documents.length&&(!t.cmd.find||t.cmd.find&&!1===t.cmd.virtual)&&(\"string\"!=typeof o.documents[0].cursor||o.documents[0].$err||o.documents[0].errmsg||Array.isArray(o.documents[0].result))){if(o.documents[0].$err||o.documents[0].errmsg)return e(new i(o.documents[0]),null);if(null!=o.documents[0].cursor&&\"string\"!=typeof o.documents[0].cursor){var s=o.documents[0].cursor.id;return o.documents[0].cursor.ns&&(t.ns=o.documents[0].cursor.ns),t.cursorState.cursorId=\"number\"==typeof s?l.fromNumber(s):s,t.cursorState.lastCursorId=t.cursorState.cursorId,t.cursorState.operationTime=o.documents[0].operationTime,Array.isArray(o.documents[0].cursor.firstBatch)&&(t.cursorState.documents=o.documents[0].cursor.firstBatch),e(null,o)}if(Array.isArray(o.documents[0].result))return t.cursorState.documents=o.documents[0].result,t.cursorState.cursorId=l.ZERO,e(null,o)}t.cursorState.cursorId=o.cursorId,t.cursorState.documents=o.documents,t.cursorState.lastCursorId=o.cursorId,t.cursorState.transforms&&\"function\"==typeof t.cursorState.transforms.query&&(t.cursorState.documents=t.cursorState.transforms.query(o)),e(null,o)})},p.prototype._getmore=function(e){this.logger.isDebug()&&this.logger.debug(u(\"schedule getMore call for query [%s]\",JSON.stringify(this.query)));var t=this.cursorState.batchSize;this.cursorState.limit>0&&this.cursorState.currentLimit+t>this.cursorState.limit&&(t=this.cursorState.limit-this.cursorState.currentLimit),this.server.wireProtocolHandler.getMore(this.bson,this.ns,this.cursorState,t,this.options.raw||this.cmd.raw,this.server.s.pool,this.options,e)},p.prototype.clone=function(){return this.topology.cursor(this.ns,this.cmd,this.options)},p.prototype.isDead=function(){return!0===this.cursorState.dead},p.prototype.isKilled=function(){return!0===this.cursorState.killed},p.prototype.isNotified=function(){return!0===this.cursorState.notified},p.prototype.bufferedCount=function(){return this.cursorState.documents.length-this.cursorState.cursorIndex},p.prototype.readBufferedDocuments=function(e){var t=this.cursorState.documents.length-this.cursorState.cursorIndex,n=this.cursorState.documents.slice(this.cursorState.cursorIndex,this.cursorState.cursorIndex+(e<t?e:t));if(this.cursorState.transforms&&\"function\"==typeof this.cursorState.transforms.doc)for(var r=0;r<n.length;r++)n[r]=this.cursorState.transforms.doc(n[r]);return this.cursorState.limit>0&&this.cursorState.currentLimit+n.length>this.cursorState.limit&&(n=n.slice(0,this.cursorState.limit-this.cursorState.currentLimit),this.kill()),this.cursorState.currentLimit=this.cursorState.currentLimit+n.length,this.cursorState.cursorIndex=this.cursorState.cursorIndex+n.length,n},p.prototype.kill=function(e){this.cursorState.dead=!0,this.cursorState.killed=!0,this.cursorState.documents=[],null==this.cursorState.cursorId||this.cursorState.cursorId.isZero()||!1===this.cursorState.init?e&&e(null,null):this.server.wireProtocolHandler.killCursor(this.bson,this.ns,this.cursorState,this.server.s.pool,e)},p.prototype.rewind=function(){this.cursorState.init&&(this.cursorState.dead||this.kill(),this.cursorState.currentLimit=0,this.cursorState.init=!1,this.cursorState.dead=!1,this.cursorState.killed=!1,this.cursorState.notified=!1,this.cursorState.documents=[],this.cursorState.cursorId=null,this.cursorState.cursorIndex=0)};var f=function(e,t){if(e.pool&&e.pool.isDestroyed()){e.cursorState.killed=!0;const n=new s(u(\"connection to host %s:%s was destroyed\",e.pool.host,e.pool.port));return g(e,()=>t(n)),!0}return!1},d=function(e,t){e.cursorState.dead=!0,m(e,t)},m=function(e,t){g(e,()=>h(t,null,null))},g=function(e,t){return e.cursorState.notified=!0,e.cursorState.documents=[],e.cursorState.cursorIndex=0,e._endSession?e._endSession(void 0,()=>t()):t()},y=function(e,t){if(e.cursorState.notified)return t(new Error(\"cursor is exhausted\"));if(!function(e,t){return!!e.cursorState.killed&&(m(e,t),!0)}(e,t)&&!function(e,t){return!(!e.cursorState.dead||e.cursorState.killed||(e.cursorState.killed=!0,m(e,t),0))}(e,t)&&!function(e,t){return!(!e.cursorState.dead||!e.cursorState.killed||(h(t,new i(\"cursor is dead\")),0))}(e,t)){if(!e.cursorState.init)return function(e,t){if(!e.topology.isConnected(e.options)){if(\"server\"===e.topology._type&&!e.topology.s.options.reconnect)return t(new i(\"no connection available\"));if(null!=e.disconnectHandler)return e.topology.isDestroyed()?t(new i(\"Topology was destroyed\")):e.disconnectHandler.addObjectAndMethod(\"cursor\",e,\"next\",[t],t)}return e.topology.selectServer(e.options,(n,r)=>{if(n)return null!=e.disconnectHandler?e.disconnectHandler.addObjectAndMethod(\"cursor\",e,\"next\",[t],t):t(n);if(e.server=r,e.cursorState.init=!0,c(e.server,e.cmd))return t(new i(`server ${e.server.name} does not support collation`));try{if(e.query=e.server.wireProtocolHandler.command(e.bson,e.ns,e.cmd,e.cursorState,e.topology,e.options),e.query instanceof i)return t(e.query);y(e,t)}catch(n){return t(n)}})}(e,t);if(null==e.cursorState.cursorId){if(f(e,t))return;if(e.topology.isDestroyed())return t(new s(\"connection destroyed, not possible to instantiate cursor\"));e._find(function(n){return n?h(t,n,null):(e.cursorState.cursorId&&e.cursorState.cursorId.isZero()&&e._endSession&&e._endSession(),0===e.cursorState.documents.length&&e.cursorState.cursorId&&e.cursorState.cursorId.isZero()&&!e.cmd.tailable&&!e.cmd.awaitData?m(e,t):void y(e,t))})}else{if(e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit)return e.kill(),d(e,t);if(e.cursorState.cursorIndex!==e.cursorState.documents.length||l.ZERO.equals(e.cursorState.cursorId)){if(e.cursorState.documents.length===e.cursorState.cursorIndex&&e.cmd.tailable&&l.ZERO.equals(e.cursorState.cursorId))return h(t,new i({message:\"No more documents in tailed cursor\",tailable:e.cmd.tailable,awaitData:e.cmd.awaitData}));if(e.cursorState.documents.length===e.cursorState.cursorIndex&&l.ZERO.equals(e.cursorState.cursorId))d(e,t);else{if(e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit)return e.kill(),d(e,t);e.cursorState.currentLimit+=1;var n=e.cursorState.documents[e.cursorState.cursorIndex++];if(!n||n.$err)return e.kill(),d(e,function(){h(t,new i(n?n.$err:void 0))});e.cursorState.transforms&&\"function\"==typeof e.cursorState.transforms.doc&&(n=e.cursorState.transforms.doc(n)),h(t,null,n)}}else{if(e.cursorState.documents=[],e.cursorState.cursorIndex=0,e.topology.isDestroyed())return t(new s(\"connection destroyed, not possible to instantiate cursor\"));if(f(e,t))return;e._getmore(function(n,r,o){return n?(n instanceof i&&(n[a].isGetMore=!0),h(t,n)):(e.cursorState.cursorId&&e.cursorState.cursorId.isZero()&&e._endSession&&e._endSession(),e.connection=o,0===e.cursorState.documents.length&&e.cmd.tailable&&l.ZERO.equals(e.cursorState.cursorId)?h(t,new i({message:\"No more documents in tailed cursor\",tailable:e.cmd.tailable,awaitData:e.cmd.awaitData})):0===e.cursorState.documents.length&&e.cmd.tailable&&!l.ZERO.equals(e.cursorState.cursorId)?y(e,t):e.cursorState.limit>0&&e.cursorState.currentLimit>=e.cursorState.limit?d(e,t):void y(e,t))})}}}};p.prototype.next=function(e){y(this,e)},e.exports=p},CxY0:function(e,t,n){\"use strict\";var r=n(\"rWzI\"),o=n(\"Nehr\");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,c=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),l=[\"'\"].concat(c),p=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(l),h=[\"/\",\"?\",\"#\"],f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,\"javascript:\":!0},g={javascript:!0,\"javascript:\":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},v=n(\"r8II\");function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof e);var i=e.indexOf(\"?\"),a=-1!==i&&i<e.indexOf(\"#\")?\"?\":\"#\",c=e.split(a);c[0]=c[0].replace(/\\\\/g,\"/\");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split(\"#\").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\"\",this.query={}),this}var _=s.exec(b);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,b=b.substr(_.length)}if(n||_||b.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var C=\"//\"===b.substr(0,2);!C||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(C||_&&!y[_])){for(var O,E,T=-1,x=0;x<h.length;x++)-1!==(N=b.indexOf(h[x]))&&(-1===T||N<T)&&(T=N);for(-1!==(E=-1===T?b.lastIndexOf(\"@\"):b.lastIndexOf(\"@\",T))&&(O=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(O)),T=-1,x=0;x<p.length;x++){var N;-1!==(N=b.indexOf(p[x]))&&(-1===T||N<T)&&(T=N)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||\"\";var A=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\\./),k=(x=0,I.length);x<k;x++){var P=I[x];if(P&&!P.match(f)){for(var R=\"\",M=0,D=P.length;M<D;M++)P.charCodeAt(M)>127?R+=\"x\":R+=P[M];if(!R.match(f)){var B=I.slice(0,x),L=I.slice(x+1),j=P.match(d);j&&(B.push(j[1]),L.unshift(j[2])),L.length&&(b=\"/\"+L.join(\".\")+b),this.hostname=B.join(\".\");break}}}this.hostname=this.hostname.length>255?\"\":this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var U=this.port?\":\"+this.port:\"\";this.host=(this.hostname||\"\")+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==b[0]&&(b=\"/\"+b))}if(!m[S])for(x=0,k=l.length;x<k;x++){var V=l[x];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var q=b.indexOf(\"#\");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var F=b.indexOf(\"?\");return-1!==F?(this.search=b.substr(F),this.query=b.substr(F+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,F)):t&&(this.search=\"\",this.query={}),b&&(this.pathname=b),y[S]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),(this.pathname||this.search)&&(this.path=(U=this.pathname||\"\")+(this.search||\"\")),this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||\"\";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\":\"),e+=\"@\");var t=this.protocol||\"\",n=this.pathname||\"\",r=this.hash||\"\",i=!1,s=\"\";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(i+=\":\"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return t&&\":\"!==t.substr(-1)&&(t+=\":\"),this.slashes||(!t||y[t])&&!1!==i?(i=\"//\"+(i||\"\"),n&&\"/\"!==n.charAt(0)&&(n=\"/\"+n)):i||(i=\"\"),r&&\"#\"!==r.charAt(0)&&(r=\"#\"+r),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace(\"#\",\"%23\"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,\"\"===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];\"protocol\"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname=\"/\"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var f=p[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||\"\").split(\"/\");d.length&&!(e.host=d.shift()););e.host||(e.host=\"\"),e.hostname||(e.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),n.pathname=d.join(\"/\")}return n.search=e.search,n.query=e.query,n.host=e.host||\"\",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||\"\")+(n.search||\"\")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&\"/\"===n.pathname.charAt(0),v=e.host||e.pathname&&\"/\"===e.pathname.charAt(0),b=v||m||n.host&&e.pathname,w=b,_=n.pathname&&n.pathname.split(\"/\")||[],S=(d=e.pathname&&e.pathname.split(\"/\")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname=\"\",n.port=null,n.host&&(\"\"===_[0]?_[0]=n.host:_.unshift(n.host)),n.host=\"\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\"\"===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(\"\"===d[0]||\"\"===_[0])),v)n.host=e.host||\"\"===e.host?e.host:n.host,n.hostname=e.hostname||\"\"===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=_.shift(),(x=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.path=n.search?\"/\"+n.search:null,n.href=n.format(),n;for(var C=_.slice(-1)[0],O=(n.host||e.host||_.length>1)&&(\".\"===C||\"..\"===C)||\"\"===C,E=0,T=_.length;T>=0;T--)\".\"===(C=_[T])?_.splice(T,1):\"..\"===C?(_.splice(T,1),E++):E&&(_.splice(T,1),E--);if(!b&&!w)for(;E--;E)_.unshift(\"..\");!b||\"\"===_[0]||_[0]&&\"/\"===_[0].charAt(0)||_.unshift(\"\"),O&&\"/\"!==_.join(\"/\").substr(-1)&&_.push(\"\");var x,N=\"\"===_[0]||_[0]&&\"/\"===_[0].charAt(0);return S&&(n.hostname=n.host=N?\"\":_.length?_.shift():\"\",(x=!!(n.host&&n.host.indexOf(\"@\")>0)&&n.host.split(\"@\"))&&(n.auth=x.shift(),n.host=n.hostname=x.shift())),(b=b||n.host&&_.length)&&!N&&_.unshift(\"\"),_.length?n.pathname=_.join(\"/\"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:\"\")+(n.search?n.search:\"\")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(\":\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},DQsy:function(e,t,n){\"use strict\";e.exports={normalizedFunctionString:function(e){return e.toString().replace(/function *\\(/,\"function (\")}}},\"H+jr\":function(e,t,n){\"use strict\";const r=n(\"BvkA\").Query,o=n(\"M9st\").retrieveBSON,i=n(\"OkLf\").MongoError,s=n(\"OkLf\").MongoNetworkError,a=n(\"+kV9\").getReadPreference,u=o(),c=u.Long,l=n(\"R4vf\"),p=n(\"lrrP\").TxnState,h=function(){};function f(e,t,n){if(!t)return;const r=t.serverSession,o=t.inTransaction()||function(e){return!(!e.commitTransaction&&!e.abortTransaction)}(e);if(r.txnNumber&&(n.willRetryWrite||o)&&(e.txnNumber=u.Long.fromNumber(r.txnNumber)),!o)return t.transaction.state!==p.NO_TRANSACTION&&t.transaction.transition(p.NO_TRANSACTION),void(t.supports.causalConsistency&&t.operationTime&&(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime})));if(n.readPreference&&!n.readPreference.equals(l.primary))return new i(`Read preference in a transaction must be primary, not: ${n.readPreference.mode}`);if(e.autocommit=!1,t.transaction.state===p.STARTING_TRANSACTION){t.transaction.transition(p.TRANSACTION_IN_PROGRESS),e.startTransaction=!0;const n=t.transaction.options.readConcern||t.clientOptions.readConcern;n&&(e.readConcern=n),t.supports.causalConsistency&&t.operationTime&&(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime}))}}function d(e,t,n,o,s,a,u,c){if(0===a.length)throw new i(\"insert must contain at least one document\");\"function\"==typeof u&&(c=u,u=(u={})||{});const l=s.split(\".\"),p=l.shift(),h=\"boolean\"!=typeof u.ordered||u.ordered,d=u.writeConcern,m={};if(m[n]=l.join(\".\"),m[o]=a,m.ordered=h,d&&Object.keys(d).length>0&&(m.writeConcern=d),u.collation)for(let r=0;r<m[o].length;r++)m[o][r].collation||(m[o][r].collation=u.collation);!0===u.bypassDocumentValidation&&(m.bypassDocumentValidation=u.bypassDocumentValidation);const g=f(m,u.session,u);if(g)return c(g,null);const y={command:!0};void 0!==u.session&&(y.session=u.session);const v={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"===n&&(v.checkKeys=!0),\"boolean\"==typeof u.checkKeys&&(v.checkKeys=u.checkKeys),u.serializeFunctions&&(v.serializeFunctions=u.serializeFunctions),u.ignoreUndefined&&(v.ignoreUndefined=u.ignoreUndefined);try{const n=new r(t,`${p}.$cmd`,m,v);e.write(n,y,c)}catch(g){c(g)}}h.prototype.insert=function(e,t,n,r,o,i){d(e,n,\"insert\",\"documents\",t,r,o,i)},h.prototype.update=function(e,t,n,r,o,i){d(e,n,\"update\",\"updates\",t,r,o,i)},h.prototype.remove=function(e,t,n,r,o,i){d(e,n,\"delete\",\"deletes\",t,r,o,i)},h.prototype.killCursor=function(e,t,n,o,a){const u=t.split(/\\./),c=`${u.shift()}.$cmd`,l=n.cursorId,p={killCursors:u.join(\".\"),cursors:[l]},h=new r(e,c,p,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null});function f(e,t){if(e){if(\"function\"!=typeof a)return;return a(e)}const n=t.message;if(0!=(1&n.responseFlags)){if(\"function\"!=typeof a)return;return a(new s(\"cursor killed or timed out\"),null)}if(!Array.isArray(n.documents)||0===n.documents.length){if(\"function\"!=typeof a)return;return a(new i(`invalid killCursors result returned for cursor id ${l}`))}\"function\"==typeof a&&a(null,n.documents[0])}const d={command:!0};if(\"object\"==typeof n.session&&(d.session=n.session),o&&o.isConnected())try{o.write(h,d,f)}catch(e){f(e,null)}else\"function\"==typeof a&&a(null,null)},h.prototype.getMore=function(e,t,n,o,a,u,l,p){l=l||{};const h=t.split(/\\./),d=`${h.shift()}.$cmd`,m={getMore:n.cursorId,collection:h.join(\".\"),batchSize:Math.abs(o)},g=f(m,l.session,l);if(g)return p(g,null);n.cmd.tailable&&\"number\"==typeof n.cmd.maxAwaitTimeMS&&(m.maxTimeMS=n.cmd.maxAwaitTimeMS);const y=new r(e,d,m,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,returnFieldSelector:null}),v={command:!0};a&&(v.raw=a),v.documentsReturnedIn=\"nextBatch\",\"boolean\"==typeof n.promoteLongs&&(v.promoteLongs=n.promoteLongs),\"boolean\"==typeof n.promoteValues&&(v.promoteValues=n.promoteValues),\"boolean\"==typeof n.promoteBuffers&&(v.promoteBuffers=n.promoteBuffers),\"object\"==typeof n.session&&(v.session=n.session),u.write(y,v,function(e,t){if(e)return p(e);const r=t.message;if(0!=(1&r.responseFlags))return p(new s(\"cursor killed or timed out\"),null);if(a)return n.documents=r.documents,n.cursorId=r.cursorId,p(null,r.documents);if(0===r.documents[0].ok)return p(new i(r.documents[0]));const o=\"number\"==typeof r.documents[0].cursor.id?c.fromNumber(r.documents[0].cursor.id):r.documents[0].cursor.id;n.documents=r.documents[0].cursor.nextBatch,n.cursorId=o,p(null,r.documents[0],r.connection)})},h.prototype.command=function(e,t,n,o,s,u){let c;if(u=u||{},n.find&&(\"boolean\"!=typeof u.wireProtocolCommand||u.wireProtocolCommand))c=function(e,t,n,o,i,s){const u=a(n,s=s||{});o.batchSize=n.batchSize||o.batchSize;const c=t.split(/\\./),l=`${c.shift()}.$cmd`;let p={find:c.join(\".\")};n.query&&(p.filter=n.query.$query?n.query.$query:n.query);let h=n.sort;if(Array.isArray(h)){const e={};if(h.length>0&&!Array.isArray(h[0])){let t=h[1];\"asc\"===t?t=1:\"desc\"===t&&(t=-1),e[h[0]]=t}else for(var d=0;d<h.length;d++){let t=h[d][1];\"asc\"===t?t=1:\"desc\"===t&&(t=-1),e[h[d][0]]=t}h=e}n.sort&&(p.sort=h),n.fields&&(p.projection=n.fields),n.hint&&(p.hint=n.hint),n.skip&&(p.skip=n.skip),n.limit&&(p.limit=n.limit),n.limit<0&&(p.limit=Math.abs(n.limit),p.singleBatch=!0),\"number\"==typeof n.batchSize&&(n.batchSize<0&&(0!==n.limit&&Math.abs(n.batchSize)<Math.abs(n.limit)&&(p.limit=Math.abs(n.batchSize)),p.singleBatch=!0),p.batchSize=Math.abs(n.batchSize)),n.comment&&(p.comment=n.comment),n.maxScan&&(p.maxScan=n.maxScan),n.maxTimeMS&&(p.maxTimeMS=n.maxTimeMS),n.min&&(p.min=n.min),n.max&&(p.max=n.max),p.returnKey=!!n.returnKey&&n.returnKey,p.showRecordId=!!n.showDiskLoc&&n.showDiskLoc,n.snapshot&&(p.snapshot=n.snapshot),n.tailable&&(p.tailable=n.tailable),n.oplogReplay&&(p.oplogReplay=n.oplogReplay),n.noCursorTimeout&&(p.noCursorTimeout=n.noCursorTimeout),n.awaitData&&(p.awaitData=n.awaitData),n.awaitdata&&(p.awaitData=n.awaitdata),n.partial&&(p.partial=n.partial),n.collation&&(p.collation=n.collation),n.explain&&(p={explain:p}),n.readConcern&&(p.readConcern=n.readConcern);const m=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,g=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined;\"mongos\"===i.type&&u&&\"primary\"!==u.preference&&(p={$query:p,$readPreference:u.toJSON()});const y=f(p,s.session,s);if(y)return y;const v=new r(e,l,p,{numberToSkip:0,numberToReturn:1,checkKeys:!1,returnFieldSelector:null,serializeFunctions:m,ignoreUndefined:g});return v.slaveOk=u.slaveOk(),v}(e,t,n,o,s,u),n.virtual=!1,c.documentsReturnedIn=\"firstBatch\";else{if(null!=o.cursorId)return;if(!n)return new i(`command ${JSON.stringify(n)} does not return a cursor`);c=function(e,t,n,o,i,s){const u=a(n,s=s||{});let c={};for(let r in n)c[r]=n[r];const l=t.split(/\\./),p=\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,h=\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined;\"mongos\"===i.type&&u&&\"primary\"!==u.preference&&(c={$query:c,$readPreference:u.toJSON()});const d=f(c,s.session,s);if(d)return d;const m=new r(e,`${l.shift()}.$cmd`,c,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:p,ignoreUndefined:h});return m.slaveOk=u.slaveOk(),m}(e,t,n,0,s,u)}return c instanceof i?c:f(c.query,u.session,u)||c},e.exports=h},H7XF:function(e,t,n){\"use strict\";t.byteLength=function(e){var t=c(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],s=n[1],a=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),u=0,l=s>0?r-4:r,p=0;p<l;p+=4)t=o[e.charCodeAt(p)]<<18|o[e.charCodeAt(p+1)]<<12|o[e.charCodeAt(p+2)]<<6|o[e.charCodeAt(p+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(p)]<<2|o[e.charCodeAt(p+1)]>>4,a[u++]=255&t),1===s&&(t=o[e.charCodeAt(p)]<<10|o[e.charCodeAt(p+1)]<<4|o[e.charCodeAt(p+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(l(e,s,s+16383>a?a:s+16383));return 1===o?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+\"==\"):2===o&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+\"=\"),i.join(\"\")};for(var r=[],o=[],i=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,u=s.length;a<u;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i=[],s=t;s<n;s+=3)i.push(r[(o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join(\"\")}o[\"-\".charCodeAt(0)]=62,o[\"_\".charCodeAt(0)]=63},Hk6q:function(e,t,n){\"use strict\";const r=n(\"CxY0\"),o=n(\"r8II\"),i=n(!function(){var e=new Error(\"Cannot find module 'dns'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),s=n(\"OkLf\").MongoParseError,a=n(\"R4vf\"),u=/(mongodb(?:\\+srv|)):\\/\\/(?: (?:[^:]*) (?: : ([^@]*) )? @ )?([^/?]*)(?:\\/|)(.*)/;function c(e,t){const n=/^.*?\\./,r=`.${e.replace(n,\"\")}`,o=`.${t.replace(n,\"\")}`;return r.endsWith(o)}function l(e,t){if(Array.isArray(t))1===(t=t.filter((e,n)=>t.indexOf(e)===n)).length&&(t=t[0]);else if(t.indexOf(\":\")>0)t=t.split(\",\").reduce((t,n)=>{const r=n.split(\":\");return t[r[0]]=l(e,r[1]),t},{});else if(t.indexOf(\",\")>0)t=t.split(\",\").map(t=>l(e,t));else if(\"true\"===t.toLowerCase()||\"false\"===t.toLowerCase())t=\"true\"===t.toLowerCase();else if(!Number.isNaN(t)&&!h.has(e)){const e=parseFloat(t);Number.isNaN(e)||(t=parseFloat(t))}return t}const p=new Set([\"slaveok\",\"slave_ok\",\"sslvalidate\",\"fsync\",\"safe\",\"retrywrites\",\"j\"]),h=new Set([\"authsource\"]),f=new Set([\"GSSAPI\",\"MONGODB-X509\",\"MONGODB-CR\",\"DEFAULT\",\"SCRAM-SHA-1\",\"SCRAM-SHA-256\",\"PLAIN\"]),d={replicaset:\"replicaSet\",connecttimeoutms:\"connectTimeoutMS\",sockettimeoutms:\"socketTimeoutMS\",maxpoolsize:\"maxPoolSize\",minpoolsize:\"minPoolSize\",maxidletimems:\"maxIdleTimeMS\",waitqueuemultiple:\"waitQueueMultiple\",waitqueuetimeoutms:\"waitQueueTimeoutMS\",wtimeoutms:\"wtimeoutMS\",readconcern:\"readConcern\",readconcernlevel:\"readConcernLevel\",readpreference:\"readPreference\",maxstalenessseconds:\"maxStalenessSeconds\",readpreferencetags:\"readPreferenceTags\",authsource:\"authSource\",authmechanism:\"authMechanism\",authmechanismproperties:\"authMechanismProperties\",gssapiservicename:\"gssapiServiceName\",localthresholdms:\"localThresholdMS\",serverselectiontimeoutms:\"serverSelectionTimeoutMS\",serverselectiontryonce:\"serverSelectionTryOnce\",heartbeatfrequencyms:\"heartbeatFrequencyMS\",appname:\"appName\",retrywrites:\"retryWrites\",uuidrepresentation:\"uuidRepresentation\",zlibcompressionlevel:\"zlibCompressionLevel\"};function m(e,t,n,r){if(\"journal\"===t?t=\"j\":\"wtimeoutms\"===t&&(t=\"wtimeout\"),p.has(t)?n=\"true\"===n||!0===n:\"appname\"===t?n=decodeURIComponent(n):\"readconcernlevel\"===t&&(t=\"readconcern\",n={level:n}),\"compressors\"===t&&!(n=Array.isArray(n)?n:[n]).every(e=>\"snappy\"===e||\"zlib\"===e))throw new s(\"Value for `compressors` must be at least one of: `snappy`, `zlib`\");if(\"authmechanism\"===t&&!f.has(n))throw new s(\"Value for `authMechanism` must be one of: `DEFAULT`, `GSSAPI`, `PLAIN`, `MONGODB-X509`, `SCRAM-SHA-1`, `SCRAM-SHA-256`\");if(\"readpreference\"===t&&!a.isValid(n))throw new s(\"Value for `readPreference` must be one of: `primary`, `primaryPreferred`, `secondary`, `secondaryPreferred`, `nearest`\");if(\"zlibcompressionlevel\"===t&&(n<-1||n>9))throw new s(\"zlibCompressionLevel must be an integer between -1 and 9\");\"compressors\"!==t&&\"zlibcompressionlevel\"!==t||(e.compression=e.compression||{},e=e.compression),\"authmechanismproperties\"===t&&(\"string\"==typeof n.SERVICE_NAME&&(e.gssapiServiceName=n.SERVICE_NAME),\"string\"==typeof n.SERVICE_REALM&&(e.gssapiServiceRealm=n.SERVICE_REALM),void 0!==n.CANONICALIZE_HOST_NAME&&(e.gssapiCanonicalizeHostName=n.CANONICALIZE_HOST_NAME)),r.caseTranslate&&d[t]?e[d[t]]=n:e[t]=n}const g=new Set([\"GSSAPI\",\"MONGODB-CR\",\"PLAIN\",\"SCRAM-SHA-1\",\"SCRAM-SHA-256\"]),y=[\"mongodb\",\"mongodb+srv\"];e.exports=function e(t,n,a){\"function\"==typeof n&&(a=n,n={}),n=Object.assign({},{caseTranslate:!0},n);try{r.parse(t)}catch(e){return a(new s(\"URI malformed, cannot be parsed\"))}const p=t.match(u);if(!p)return a(new s(\"Invalid connection string\"));const h=p[1];if(-1===y.indexOf(h))return a(new s(\"Invalid protocol provided\"));if(\"mongodb+srv\"===h)return function(t,n,o){const a=r.parse(t,!0);return a.hostname.split(\".\").length<3?o(new s(\"URI does not have hostname, domain name and tld\")):(a.domainLength=a.hostname.split(\".\").length,a.pathname&&a.pathname.match(\",\")?o(new s(\"Invalid URI, cannot contain multiple hostnames\")):a.port?o(new s(\"Ports not accepted with 'mongodb+srv' URIs\")):void i.resolveSrv(`_mongodb._tcp.${a.host}`,(t,r)=>{if(t)return o(t);if(0===r.length)return o(new s(\"No addresses found at host\"));for(let e=0;e<r.length;e++)if(!c(r[e].name,a.hostname))return o(new s(\"Server record does not share hostname with parent URI\"));let u=a.auth?`mongodb://${a.auth}@`:\"mongodb://\",l=`${r.map((e,t)=>0===t?`${u}${e.name}:${e.port}`:`${e.name}:${e.port}`).join(\",\")}/`,p=[];if(a.path){let e=a.path.slice(1);-1!==e.indexOf(\"?\")&&(e=e.slice(0,e.indexOf(\"?\"))),l+=e}n.ssl||a.search&&null!=a.query.ssl||p.push(\"ssl=true\"),a.search&&p.push(a.search.replace(\"?\",\"\")),i.resolveTxt(a.host,(t,r)=>{if(t){if(\"ENODATA\"!==t.code)return o(t);r=null}if(r){if(r.length>1)return o(new s(\"Multiple text records not allowed\"));if(-1===(r=(r=r[0]).length>1?r.join(\"\"):r[0]).indexOf(\"authSource\")&&-1===r.indexOf(\"replicaSet\"))return o(new s(\"Text record must only set `authSource` or `replicaSet`\"));p.push(r)}p.length&&(l+=`?${p.join(\"&\")}`),e(l,n,o)})}))}(t,n,a);const f=p[4].split(\"?\"),d=f.length>0?f[0]:null,v=f.length>1?f[1]:null;let b;try{b=function(e,t){const n={};let r=o.parse(e);for(const o in r){const e=r[o];if(\"\"===e||null==e)throw new s(\"Incomplete key value pair for option\");const i=o.toLowerCase();m(n,i,l(i,e),t)}return n.wtimeout&&n.wtimeoutms&&(delete n.wtimeout,console.warn(\"Unsupported option `wtimeout` specified\")),Object.keys(n).length?n:null}(v,n)}catch(e){return a(e)}b=Object.assign({},b,n);const w={username:null,password:null,db:d&&\"\"!==d?o.unescape(d):null};if(-1!==p[4].split(\"?\")[0].indexOf(\"@\"))return a(new s(\"Unescaped slash in userinfo section\"));const _=p[3].split(\"@\");if(_.length>2)return a(new s(\"Unescaped at-sign in authority section\"));if(_.length>1){const e=_.shift().split(\":\");if(e.length>2)return a(new s(\"Unescaped colon in authority section\"));w.username=o.unescape(e[0]),w.password=e[1]?o.unescape(e[1]):null}let S=null;const C=_.shift().split(\",\").map(e=>{let t=r.parse(`mongodb://${e}`);if(\"/:\"===t.path)return S=new s(\"Double colon in host identifier\"),null;if(e.match(/\\.sock/)&&(t.hostname=o.unescape(e),t.port=null),Number.isNaN(t.port))return void(S=new s(\"Invalid port (non-numeric string)\"));const n={host:t.hostname,port:t.port?parseInt(t.port):27017};if(0!==n.port)if(n.port>65535)S=new s(\"Invalid port (larger than 65535) with hostname\");else{if(!(n.port<0))return n;S=new s(\"Invalid port (negative number)\")}else S=new s(\"Invalid port (zero) with hostname\")}).filter(e=>!!e);if(S)return a(S);if(0===C.length||\"\"===C[0].host||null===C[0].host)return a(new s(\"No hostname or hostnames provided in connection string\"));const O={hosts:C,auth:w.db||w.username?w:null,options:Object.keys(b).length?b:null};O.auth&&O.auth.db&&(O.defaultDatabase=O.auth.db);try{!function(e){if(null==e.options)return;const t=e.options,n=t.authsource||t.authSource;null!=n&&(e.auth=Object.assign({},e.auth,{db:n}));const r=t.authmechanism||t.authMechanism;if(null!=r){if(g.has(r)&&(!e.auth||null==e.auth.username))throw new s(`Username required for mechanism \\`${r}\\``);if(\"GSSAPI\"===r){if(null!=n&&\"$external\"!==n)throw new s(`Invalid source \\`${n}\\` for mechanism \\`${r}\\` specified.`);e.auth=Object.assign({},e.auth,{db:\"$external\"})}if(\"MONGODB-X509\"===r){if(e.auth&&null!=e.auth.password)throw new s(`Password not allowed for mechanism \\`${r}\\``);if(null!=n&&\"$external\"!==n)throw new s(`Invalid source \\`${n}\\` for mechanism \\`${r}\\` specified.`);e.auth=Object.assign({},e.auth,{db:\"$external\"})}\"PLAIN\"===r&&e.auth&&null==e.auth.db&&(e.auth=Object.assign({},e.auth,{db:\"$external\"}))}e.auth&&null==e.auth.db&&(e.auth=Object.assign({},e.auth,{db:\"admin\"}))}(O)}catch(e){return a(e)}a(null,O)}},Hwnt:function(e,t,n){\"use strict\";const r=n(\"MCLT\").deprecate,o=n(\"Bx6p\").deprecateOptions,i=n(\"Bx6p\").checkCollectionName,s=n(\"q64v\").BSON.ObjectID,a=n(\"VeP1\"),u=n(\"q64v\").MongoError,c=n(\"Bx6p\").toError,l=n(\"Bx6p\").normalizeHintField,p=n(\"Bx6p\").handleCallback,h=n(\"Bx6p\").decorateWithCollation,f=n(\"Bx6p\").decorateWithReadConcern,d=n(\"Bx6p\").formattedOrderClause,m=n(\"q64v\").ReadPreference,g=n(\"QVxV\"),y=n(\"iPq3\"),v=n(\"LKkM\"),b=n(\"gCFD\"),w=n(\"Bx6p\").executeOperation,_=n(\"Bx6p\").applyWriteConcern,S=n(\"Bx6p\").resolveReadPreference,C=n(\"xAVX\").bulkWrite,O=n(\"xAVX\").checkForAtomicOperators,E=n(\"xAVX\").count,T=n(\"xAVX\").countDocuments,x=n(\"xAVX\").createIndex,N=n(\"xAVX\").createIndexes,A=n(\"xAVX\").deleteMany,I=n(\"xAVX\").deleteOne,k=n(\"xAVX\").distinct,P=n(\"xAVX\").dropIndex,R=n(\"xAVX\").dropIndexes,M=n(\"xAVX\").ensureIndex,D=n(\"xAVX\").findAndModify,B=n(\"xAVX\").findAndRemove,L=n(\"xAVX\").findOne,j=n(\"xAVX\").findOneAndDelete,U=n(\"xAVX\").findOneAndReplace,V=n(\"xAVX\").findOneAndUpdate,z=n(\"xAVX\").geoHaystackSearch,q=n(\"xAVX\").group,F=n(\"xAVX\").indexes,H=n(\"xAVX\").indexExists,W=n(\"xAVX\").indexInformation,$=n(\"xAVX\").insertOne,Y=n(\"xAVX\").isCapped,G=n(\"xAVX\").mapReduce,K=n(\"xAVX\").optionsOp,Z=n(\"xAVX\").parallelCollectionScan,Q=n(\"xAVX\").prepareDocs,J=n(\"xAVX\").reIndex,X=n(\"xAVX\").removeDocuments,ee=n(\"xAVX\").rename,te=n(\"xAVX\").replaceOne,ne=n(\"xAVX\").save,re=n(\"xAVX\").stats,oe=n(\"xAVX\").updateDocuments,ie=n(\"xAVX\").updateMany,se=n(\"xAVX\").updateOne,ae=[\"ignoreUndefined\"];function ue(e,t,n,r,o,a){i(r);let u=null;const c=`${n}.${r}`,l=a.promiseLibrary||Promise;a&&a.readPreference?u=a.readPreference:e.options.readPreference&&(u=e.options.readPreference),this.s={pkFactory:o=null==o?s:o,db:e,topology:t,dbName:n,options:a,namespace:c,readPreference:u,slaveOk:null==a||null==a.slaveOk?e.slaveOk:a.slaveOk,serializeFunctions:null==a||null==a.serializeFunctions?e.s.options.serializeFunctions:a.serializeFunctions,raw:null==a||null==a.raw?e.s.options.raw:a.raw,promoteLongs:null==a||null==a.promoteLongs?e.s.options.promoteLongs:a.promoteLongs,promoteValues:null==a||null==a.promoteValues?e.s.options.promoteValues:a.promoteValues,promoteBuffers:null==a||null==a.promoteBuffers?e.s.options.promoteBuffers:a.promoteBuffers,internalHint:null,collectionHint:null,name:r,promiseLibrary:l,readConcern:a.readConcern,writeConcern:a.writeConcern}}Object.defineProperty(ue.prototype,\"dbName\",{enumerable:!0,get:function(){return this.s.dbName}}),Object.defineProperty(ue.prototype,\"collectionName\",{enumerable:!0,get:function(){return this.s.name}}),Object.defineProperty(ue.prototype,\"namespace\",{enumerable:!0,get:function(){return this.s.namespace}}),Object.defineProperty(ue.prototype,\"readConcern\",{enumerable:!0,get:function(){return this.s.readConcern||{level:\"local\"}}}),Object.defineProperty(ue.prototype,\"writeConcern\",{enumerable:!0,get:function(){let e={};return this.s.writeConcern?this.s.writeConcern:(null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e)}}),Object.defineProperty(ue.prototype,\"hint\",{enumerable:!0,get:function(){return this.s.collectionHint},set:function(e){this.s.collectionHint=l(e)}});const ce=[\"maxScan\",\"fields\",\"snapshot\"];ue.prototype.find=o({name:\"collection.find\",deprecatedOptions:ce,optionsIndex:1},function(e,t,n){\"object\"==typeof n&&console.warn(\"Third parameter to `find()` must be a callback or undefined\");let r=e;\"function\"!=typeof n&&(\"function\"==typeof t?(n=t,t=void 0):null==t&&(n=\"function\"==typeof r?r:void 0,r=\"object\"==typeof r?r:void 0));const o=r=null==r?{}:r;if(Buffer.isBuffer(o)){const e=o[0]|o[1]<<8|o[2]<<16|o[3]<<24;if(e!==o.length){const t=new Error(\"query selector raw message size does not match message header size [\"+o.length+\"] != [\"+e+\"]\");throw t.name=\"MongoError\",t}}null!=r&&\"ObjectID\"===r._bsontype&&(r={_id:r}),t||(t={});let i=t.projection||t.fields;i&&!Buffer.isBuffer(i)&&Array.isArray(i)&&(i=i.length?i.reduce((e,t)=>(e[t]=1,e),{}):{_id:1});let s=Object.assign({},t);for(let u in this.s.options)-1!==ae.indexOf(u)&&(s[u]=this.s.options[u]);if(s.skip=t.skip?t.skip:0,s.limit=t.limit?t.limit:0,s.raw=\"boolean\"==typeof t.raw?t.raw:this.s.raw,s.hint=null!=t.hint?l(t.hint):this.s.collectionHint,s.timeout=void 0===t.timeout?void 0:t.timeout,s.slaveOk=null!=t.slaveOk?t.slaveOk:this.s.db.slaveOk,s.readPreference=S(s,{db:this.s.db,collection:this}),null==s.readPreference||\"primary\"===s.readPreference&&\"primary\"===s.readPreference.mode||(s.slaveOk=!0),null!=r&&\"object\"!=typeof r)throw u.create({message:\"query selector must be an object\",driver:!0});const a={find:this.s.namespace,limit:s.limit,skip:s.skip,query:r};\"boolean\"==typeof s.awaitdata&&(s.awaitData=s.awaitdata),\"boolean\"==typeof s.timeout&&(s.noCursorTimeout=s.timeout);for(let u in s)null!=s[u]&&\"session\"!==u&&(a[u]=s[u]);i&&(a.fields=i),s.db=this.s.db,s.promiseLibrary=this.s.promiseLibrary,null==s.raw&&\"boolean\"==typeof this.s.raw&&(s.raw=this.s.raw),null==s.promoteLongs&&\"boolean\"==typeof this.s.promoteLongs&&(s.promoteLongs=this.s.promoteLongs),null==s.promoteValues&&\"boolean\"==typeof this.s.promoteValues&&(s.promoteValues=this.s.promoteValues),null==s.promoteBuffers&&\"boolean\"==typeof this.s.promoteBuffers&&(s.promoteBuffers=this.s.promoteBuffers),a.sort&&(a.sort=d(a.sort)),f(a,this,t),h(a,this,t);const c=this.s.topology.cursor(this.s.namespace,a,s);return\"function\"==typeof n?p(n,null,c):c}),ue.prototype.insertOne=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t||{},this.s.options.ignoreUndefined&&((t=Object.assign({},t)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,$,[this,e,t,n])},ue.prototype.insertMany=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t?Object.assign({},t):{ordered:!0},Array.isArray(e)||\"function\"!=typeof n?Array.isArray(e)?(t.serializeFunctions=t.serializeFunctions||this.s.serializeFunctions,e=Q(this,e,t),w(this.s.topology,C,[this,[{insertMany:e}],t,n],{resultMutator:t=>(function(e,t){const n={result:{ok:1,n:t.insertedCount},ops:e,insertedCount:t.insertedCount,insertedIds:t.insertedIds};return t.getLastOp()&&(n.result.opTime=t.getLastOp()),n})(e,t)})):new this.s.promiseLibrary((e,t)=>{t(u.create({message:\"docs parameter must be an array of documents\",driver:!0}))}):n(u.create({message:\"docs parameter must be an array of documents\",driver:!0}))},ue.prototype.bulkWrite=function(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t=t||{ordered:!0},!Array.isArray(e))throw u.create({message:\"operations must be an array of documents\",driver:!0});return w(this.s.topology,C,[this,e,t,n])},ue.prototype.insert=r(function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t||{ordered:!1},e=Array.isArray(e)?e:[e],!0===t.keepGoing&&(t.ordered=!1),this.insertMany(e,t,n)},\"collection.insert is deprecated. Use insertOne, insertMany or bulkWrite instead.\"),ue.prototype.updateOne=function(e,t,n,r){\"function\"==typeof n&&(r=n,n={}),n=n||{};const o=O(t);return o?\"function\"==typeof r?r(o):this.s.promiseLibrary.reject(o):(n=Object.assign({},n),this.s.options.ignoreUndefined&&((n=Object.assign({},n)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,se,[this,e,t,n,r]))},ue.prototype.replaceOne=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),n=Object.assign({},n),this.s.options.ignoreUndefined&&((n=Object.assign({},n)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,te,[this,e,t,n,r])},ue.prototype.updateMany=function(e,t,n,r){\"function\"==typeof n&&(r=n,n={}),n=n||{};const o=O(t);return o?\"function\"==typeof r?r(o):this.s.promiseLibrary.reject(o):(n=Object.assign({},n),this.s.options.ignoreUndefined&&((n=Object.assign({},n)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,ie,[this,e,t,n,r]))},ue.prototype.update=r(function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),n=n||{},this.s.options.ignoreUndefined&&((n=Object.assign({},n)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,oe,[this,e,t,n,r])},\"collection.update is deprecated. Use updateOne, updateMany, or bulkWrite instead.\"),ue.prototype.removeOne=ue.prototype.deleteOne=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=Object.assign({},t),this.s.options.ignoreUndefined&&((t=Object.assign({},t)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,I,[this,e,t,n])},ue.prototype.removeMany=ue.prototype.deleteMany=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=Object.assign({},t),this.s.options.ignoreUndefined&&((t=Object.assign({},t)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,A,[this,e,t,n])},ue.prototype.remove=r(function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t||{},this.s.options.ignoreUndefined&&((t=Object.assign({},t)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,X,[this,e,t,n])},\"collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead.\"),ue.prototype.save=r(function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=t||{},this.s.options.ignoreUndefined&&((t=Object.assign({},t)).ignoreUndefined=this.s.options.ignoreUndefined),w(this.s.topology,ne,[this,e,t,n])},\"collection.save is deprecated. Use insertOne, insertMany, updateOne, or updateMany instead.\"),ue.prototype.findOne=o({name:\"collection.find\",deprecatedOptions:ce,optionsIndex:1},function(e,t,n){return\"object\"==typeof n&&console.warn(\"Third parameter to `findOne()` must be a callback or undefined\"),\"function\"==typeof e&&(n=e,e={},t={}),\"function\"==typeof t&&(n=t,t={}),w(this.s.topology,L,[this,e=e||{},t=t||{},n])}),ue.prototype.rename=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=Object.assign({},t,{readPreference:m.PRIMARY}),w(this.s.topology,ee,[this,e,t,n])},ue.prototype.drop=function(e,t){return\"function\"==typeof e&&(t=e,e={}),e=e||{},w(this.s.topology,this.s.db.dropCollection.bind(this.s.db),[this.s.name,e,t])},ue.prototype.options=function(e,t){return\"function\"==typeof e&&(t=e,e={}),w(this.s.topology,K,[this,e=e||{},t])},ue.prototype.isCapped=function(e,t){return\"function\"==typeof e&&(t=e,e={}),w(this.s.topology,Y,[this,e=e||{},t])},ue.prototype.createIndex=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),w(this.s.topology,x,[this,e,t=t||{},n])},ue.prototype.createIndexes=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),\"number\"!=typeof(t=t?Object.assign({},t):{}).maxTimeMS&&delete t.maxTimeMS,w(this.s.topology,N,[this,e,t,n])},ue.prototype.dropIndex=function(e,t,n){const r=Array.prototype.slice.call(arguments,1);return n=\"function\"==typeof r[r.length-1]?r.pop():void 0,(t=r.length&&r.shift()||{}).readPreference=m.PRIMARY,w(this.s.topology,P,[this,e,t,n])},ue.prototype.dropAllIndexes=r(ue.prototype.dropIndexes=function(e,t){return\"function\"==typeof e&&(t=e,e={}),\"number\"!=typeof(e=e?Object.assign({},e):{}).maxTimeMS&&delete e.maxTimeMS,w(this.s.topology,R,[this,e,t])},\"collection.dropAllIndexes is deprecated. Use dropIndexes instead.\"),ue.prototype.reIndex=function(e,t){return\"function\"==typeof e&&(t=e,e={}),w(this.s.topology,J,[this,e=e||{},t])},ue.prototype.listIndexes=function(e){if(e=e||{},(e=Object.assign({},e)).readPreference=S(e,{db:this.s.db,collection:this}),e.cursorFactory=g,e.promiseLibrary=this.s.promiseLibrary,!this.s.topology.capabilities())throw new u(\"cannot connect to server\");let t=e.batchSize?{batchSize:e.batchSize}:{};if(this.s.topology.capabilities().hasListIndexesCommand)return t=this.s.topology.cursor(`${this.s.dbName}.$cmd`,{listIndexes:this.s.name,cursor:t},e),e.readPreference&&t.setReadPreference(e.readPreference),t;const n=`${this.s.dbName}.system.indexes`;return t=this.s.topology.cursor(n,{find:n,query:{ns:this.s.namespace}},e),e.readPreference&&t.setReadPreference(e.readPreference),e.batchSize&&(t=t.batchSize(e.batchSize)),t},ue.prototype.ensureIndex=r(function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),w(this.s.topology,M,[this,e,t=t||{},n])},\"collection.ensureIndex is deprecated. Use createIndexes instead.\"),ue.prototype.indexExists=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),w(this.s.topology,H,[this,e,t=t||{},n])},ue.prototype.indexInformation=function(e,t){const n=Array.prototype.slice.call(arguments,0);return t=\"function\"==typeof n[n.length-1]?n.pop():void 0,e=n.length&&n.shift()||{},w(this.s.topology,W,[this,e,t])},ue.prototype.count=r(function(e,t,n){const r=Array.prototype.slice.call(arguments,0);return n=\"function\"==typeof r[r.length-1]?r.pop():void 0,e=r.length&&r.shift()||{},t=r.length&&r.shift()||{},w(this.s.topology,E,[this,e,t,n])},\"collection.count is deprecated, and will be removed in a future version. Use collection.countDocuments or collection.estimatedDocumentCount instead\"),ue.prototype.estimatedDocumentCount=function(e,t){return\"function\"==typeof e&&(t=e,e={}),w(this.s.topology,E,[this,null,e=\"number\"==typeof(e=e||{}).maxTimeMS?e:{},t])},ue.prototype.countDocuments=function(e,t,n){const r=Array.prototype.slice.call(arguments,0);return n=\"function\"==typeof r[r.length-1]?r.pop():void 0,e=r.length&&r.shift()||{},t=r.length&&r.shift()||{},w(this.s.topology,T,[this,e,t,n])},ue.prototype.distinct=function(e,t,n,r){const o=Array.prototype.slice.call(arguments,1);r=\"function\"==typeof o[o.length-1]?o.pop():void 0;const i=o.length&&o.shift()||{},s=o.length&&o.shift()||{};return w(this.s.topology,k,[this,e,i,s,r])},ue.prototype.indexes=function(e,t){return\"function\"==typeof e&&(t=e,e={}),w(this.s.topology,F,[this,e=e||{},t])},ue.prototype.stats=function(e,t){const n=Array.prototype.slice.call(arguments,0);return t=\"function\"==typeof n[n.length-1]?n.pop():void 0,e=n.length&&n.shift()||{},w(this.s.topology,re,[this,e,t])},ue.prototype.findOneAndDelete=function(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t=t||{},null==e||\"object\"!=typeof e)throw c(\"filter parameter must be an object\");return w(this.s.topology,j,[this,e,t,n])},ue.prototype.findOneAndReplace=function(e,t,n,r){if(\"function\"==typeof n&&(r=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw c(\"filter parameter must be an object\");if(null==t||\"object\"!=typeof t)throw c(\"replacement parameter must be an object\");return w(this.s.topology,U,[this,e,t,n,r])},ue.prototype.findOneAndUpdate=function(e,t,n,r){if(\"function\"==typeof n&&(r=n,n={}),n=n||{},null==e||\"object\"!=typeof e)throw c(\"filter parameter must be an object\");if(null==t||\"object\"!=typeof t)throw c(\"update parameter must be an object\");const o=O(t);return o?\"function\"==typeof r?r(o):this.s.promiseLibrary.reject(o):w(this.s.topology,V,[this,e,t,n,r])},ue.prototype.findAndModify=r(function(e,t,n,r,o){const i=Array.prototype.slice.call(arguments,1);return o=\"function\"==typeof i[i.length-1]?i.pop():void 0,t=i.length&&i.shift()||[],n=i.length?i.shift():null,r=i.length&&i.shift()||{},(r=Object.assign({},r)).readPreference=m.PRIMARY,w(this.s.topology,D,[this,e,t,n,r,o])},\"collection.findAndModify is deprecated. Use findOneAndUpdate, findOneAndReplace or findOneAndDelete instead.\"),ue.prototype.findAndRemove=r(function(e,t,n,r){const o=Array.prototype.slice.call(arguments,1);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,t=o.length&&o.shift()||[],n=o.length&&o.shift()||{},w(this.s.topology,B,[this,e,t,n,r])},\"collection.findAndRemove is deprecated. Use findOneAndDelete instead.\"),ue.prototype.aggregate=function(e,t,n){if(Array.isArray(e))\"function\"==typeof t&&(n=t,t={}),null==t&&null==n&&(t={});else{const r=Array.prototype.slice.call(arguments,0);n=r.pop();const o=r[r.length-1];t=o&&(o.readPreference||o.explain||o.cursor||o.out||o.maxTimeMS||o.hint||o.allowDiskUse)?r.pop():{},e=r}let r=!1;const o={aggregate:this.s.name,pipeline:e};if(\"string\"==typeof t.out?(e.push({$out:t.out}),r=!0):e.length>0&&e[e.length-1].$out&&(r=!0),e.length>0&&e[e.length-1].$out&&this.s.topology.capabilities().commandsTakeWriteConcern&&_(o,{db:this.s.db,collection:this},t),h(o,this,t),!0===t.bypassDocumentValidation&&(o.bypassDocumentValidation=t.bypassDocumentValidation),r||f(o,this,t),t.allowDiskUse&&(o.allowDiskUse=t.allowDiskUse),\"number\"==typeof t.maxTimeMS&&(o.maxTimeMS=t.maxTimeMS),t.hint&&(o.hint=t.hint),(t=Object.assign({},t)).readPreference=S(t,{db:this.s.db,collection:this}),t.explain){if(o.readConcern||o.writeConcern)throw c('\"explain\" cannot be used on an aggregate call with readConcern/writeConcern');o.explain=t.explain}if(\"string\"==typeof t.comment&&(o.comment=t.comment),null!=t.cursor&&\"object\"!=typeof t.cursor)throw c(\"cursor options must be an object\");if(t.cursor=t.cursor||{},t.batchSize&&(t.cursor.batchSize=t.batchSize),o.cursor=t.cursor,t.promiseLibrary=this.s.promiseLibrary,t.cursorFactory=a,\"function\"!=typeof n){if(!this.s.topology.capabilities())throw new u(\"cannot connect to server\");return\"boolean\"==typeof t.allowDiskUse&&(o.allowDiskUse=t.allowDiskUse),\"number\"==typeof t.maxTimeMS&&(o.maxTimeMS=t.maxTimeMS),this.s.topology.cursor(this.s.namespace,o,t)}return p(n,null,this.s.topology.cursor(this.s.namespace,o,t))},ue.prototype.watch=function(e,t){return e=e||[],t=t||{},Array.isArray(e)||(t=e,e=[]),new b(this,e,t)},ue.prototype.parallelCollectionScan=function(e,t){return\"function\"==typeof e&&(t=e,e={numCursors:1}),e.numCursors=e.numCursors||1,e.batchSize=e.batchSize||1e3,(e=Object.assign({},e)).readPreference=S(e,{db:this.s.db,collection:this}),e.promiseLibrary=this.s.promiseLibrary,e.session&&(e.session=void 0),w(this.s.topology,Z,[this,e,t],{skipSessions:!0})},ue.prototype.geoHaystackSearch=function(e,t,n,r){const o=Array.prototype.slice.call(arguments,2);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,n=o.length&&o.shift()||{},w(this.s.topology,z,[this,e,t,n,r])},ue.prototype.group=r(function(e,t,n,r,o,i,s,a){const u=Array.prototype.slice.call(arguments,3);return a=\"function\"==typeof u[u.length-1]?u.pop():void 0,r=u.length?u.shift():null,o=u.length?u.shift():null,i=u.length?u.shift():null,s=u.length&&u.shift()||{},\"function\"!=typeof o&&(i=o,o=null),!Array.isArray(e)&&e instanceof Object&&\"function\"!=typeof e&&\"Code\"!==e._bsontype&&(e=Object.keys(e)),\"function\"==typeof r&&(r=r.toString()),\"function\"==typeof o&&(o=o.toString()),w(this.s.topology,q,[this,e,t,n,r,o,i=null==i||i,s,a])},\"MongoDB 3.6 or higher no longer supports the group command. We recommend rewriting using the aggregation framework.\"),ue.prototype.mapReduce=function(e,t,n,r){if(\"function\"==typeof n&&(r=n,n={}),null==n.out)throw new Error(\"the out option parameter must be defined, see mongodb docs for possible values\");return\"function\"==typeof e&&(e=e.toString()),\"function\"==typeof t&&(t=t.toString()),\"function\"==typeof n.finalize&&(n.finalize=n.finalize.toString()),w(this.s.topology,G,[this,e,t,n,r])},ue.prototype.initializeUnorderedBulkOp=function(e){return(e=e||{}).promiseLibrary=this.s.promiseLibrary,y(this.s.topology,this,e)},ue.prototype.initializeOrderedBulkOp=function(e){return(e=e||{}).promiseLibrary=this.s.promiseLibrary,v(this.s.topology,this,e)},ue.prototype.getLogger=function(){return this.s.db.s.logger},e.exports=ue},IQKq:function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(\"BvkA\").Query,i=n(\"OkLf\").MongoError,s=function(e,t,n){this.db=e,this.username=t,this.password=n};s.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var a=function(e){this.bson=e,this.authStore=[]};a.prototype.auth=function(e,t,n,a,c,l){var p=this,h=t.length;if(0===h)return l(null,null);for(var f=0,d=null;t.length>0;)!function(t){process.nextTick(function(){var m,g;m=t,g={authenticate:1,mechanism:\"MONGODB-X509\"},a&&(g.user=a),e(m,new o(p.bson,\"$external.$cmd\",g,{numberToSkip:0,numberToReturn:1}),function(e,t){h-=1,e?d=e:t.result.$err?d=t.result:t.result.errmsg?d=t.result:f+=1,0===h&&f>0?(u(p.authStore,new s(n,a,c)),l(null,!0)):0===h&&(null==d&&(d=new i(r(\"failed to authenticate using mongocr\"))),l(d,!1))})})}(t.shift())};var u=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};a.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},a.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,function(e){0==(o-=1)&&n(e,null)})},e.exports=a},IkSr:function(e,t,n){\"use strict\";const r=n(\"Bx6p\").executeOperation,o=n(\"Bx6p\").applyWriteConcern,i=n(\"upQV\").addUser,s=n(\"upQV\").executeDbAdminCommand,a=n(\"upQV\").removeUser,u=n(\"KqlY\").replSetGetStatus,c=n(\"KqlY\").serverStatus,l=n(\"KqlY\").validateCollection;function p(e,t,n){if(!(this instanceof p))return new p(e,t);this.s={db:e,topology:t,promiseLibrary:n}}p.prototype.command=function(e,t,n){const o=Array.prototype.slice.call(arguments,1);return n=\"function\"==typeof o[o.length-1]?o.pop():void 0,t=o.length?o.shift():{},r(this.s.db.s.topology,s.bind(this.s.db),[this.s.db,e,t,n])},p.prototype.buildInfo=function(e,t){return\"function\"==typeof e&&(t=e,e={}),e=e||{},r(this.s.db.s.topology,s.bind(this.s.db),[this.s.db,{buildinfo:1},e,t])},p.prototype.serverInfo=function(e,t){return\"function\"==typeof e&&(t=e,e={}),e=e||{},r(this.s.db.s.topology,s.bind(this.s.db),[this.s.db,{buildinfo:1},e,t])},p.prototype.serverStatus=function(e,t){return\"function\"==typeof e&&(t=e,e={}),r(this.s.db.s.topology,c,[this,e=e||{},t])},p.prototype.ping=function(e,t){return\"function\"==typeof e&&(t=e,e={}),e=e||{},r(this.s.db.s.topology,s.bind(this.s.db),[this.s.db,{ping:1},e,t])},p.prototype.addUser=function(e,t,n,s){const a=Array.prototype.slice.call(arguments,2);return s=\"function\"==typeof a[a.length-1]?a.pop():void 0,n=a.length?a.shift():{},n=Object.assign({},n),(n=o(n,{db:this.s.db})).dbName=\"admin\",r(this.s.db.s.topology,i,[this.s.db,e,t,n,s])},p.prototype.removeUser=function(e,t,n){const i=Array.prototype.slice.call(arguments,1);return n=\"function\"==typeof i[i.length-1]?i.pop():void 0,t=i.length?i.shift():{},t=Object.assign({},t),(t=o(t,{db:this.s.db})).dbName=\"admin\",r(this.s.db.s.topology,a,[this.s.db,e,t,n])},p.prototype.validateCollection=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),r(this.s.db.s.topology,l,[this,e,t=t||{},n])},p.prototype.listDatabases=function(e,t){\"function\"==typeof e&&(t=e,e={});const n={listDatabases:1};return(e=e||{}).nameOnly&&(n.nameOnly=Number(n.nameOnly)),r(this.s.db.s.topology,s.bind(this.s.db),[this.s.db,n,e,t])},p.prototype.replSetGetStatus=function(e,t){return\"function\"==typeof e&&(t=e,e={}),r(this.s.db.s.topology,u,[this,e=e||{},t])},e.exports=p},JEId:function(e,t,n){\"use strict\";var r=n(\"+qE3\").EventEmitter,o=n(\"r6Vy\"),i=n(\"UmKr\"),s=n(\"Bx6p\").shallowClone,a=n(\"Bx6p\").toError,u=n(\"MCLT\"),c=n(\"Bx6p\").executeOperation,l={bucketName:\"fs\",chunkSizeBytes:261120};function p(e,t){if(r.apply(this),this.setMaxListeners(0),t&&\"object\"==typeof t){t=s(t);for(var n=Object.keys(l),o=0;o<n.length;++o)t[n[o]]||(t[n[o]]=l[n[o]])}else t=l;this.s={db:e,options:t,_chunksCollection:e.collection(t.bucketName+\".chunks\"),_filesCollection:e.collection(t.bucketName+\".files\"),checkedIndexes:!1,calledOpenUploadStream:!1,promiseLibrary:e.s.promiseLibrary||Promise}}function h(e,t,n){e.s._filesCollection.deleteOne({_id:t},function(r,o){if(r)return n(r);e.s._chunksCollection.deleteMany({files_id:t},function(e){return e?n(e):o.result.n?void n():n(new Error(\"FileNotFound: no file with id \"+t+\" found\"))})})}function f(e,t,n,r){e.s._filesCollection.updateOne({_id:t},{$set:{filename:n}},function(e,n){return e?r(e):n.result.n?void r():r(a(\"File with id \"+t+\" not found\"))})}function d(e,t){e.s._filesCollection.drop(function(n){if(n)return t(n);e.s._chunksCollection.drop(function(e){return e?t(e):t()})})}e.exports=p,u.inherits(p,r),p.prototype.openUploadStream=function(e,t){return(t=t?s(t):{}).chunkSizeBytes||(t.chunkSizeBytes=this.s.options.chunkSizeBytes),new i(this,e,t)},p.prototype.openUploadStreamWithId=function(e,t,n){return(n=n?s(n):{}).chunkSizeBytes||(n.chunkSizeBytes=this.s.options.chunkSizeBytes),n.id=e,new i(this,t,n)},p.prototype.openDownloadStream=function(e,t){return new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:e},t={start:t&&t.start,end:t&&t.end})},p.prototype.delete=function(e,t){return c(this.s.db.s.topology,h,[this,e,t],{skipSessions:!0})},p.prototype.find=function(e,t){e=e||{},t=t||{};var n=this.s._filesCollection.find(e);return null!=t.batchSize&&n.batchSize(t.batchSize),null!=t.limit&&n.limit(t.limit),null!=t.maxTimeMS&&n.maxTimeMS(t.maxTimeMS),null!=t.noCursorTimeout&&n.addCursorFlag(\"noCursorTimeout\",t.noCursorTimeout),null!=t.skip&&n.skip(t.skip),null!=t.sort&&n.sort(t.sort),n},p.prototype.openDownloadStreamByName=function(e,t){var n={uploadDate:-1},r=null;return t&&null!=t.revision&&(t.revision>=0?(n={uploadDate:1},r=t.revision):r=-t.revision-1),new o(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:e},t={sort:n,skip:r,start:t&&t.start,end:t&&t.end})},p.prototype.rename=function(e,t,n){return c(this.s.db.s.topology,f,[this,e,t,n],{skipSessions:!0})},p.prototype.drop=function(e){return c(this.s.db.s.topology,d,[this,e],{skipSessions:!0})},p.prototype.getLogger=function(){return this.s.db.s.logger}},Jr2G:function(e,t,n){\"use strict\";var r=n(\"M9st\").retrieveSnappy(),o=n(!function(){var e=new Error(\"Cannot find module 'zlib'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i={snappy:1,zlib:2};e.exports={compressorIDs:i,uncompressibleCommands:[\"ismaster\",\"saslStart\",\"saslContinue\",\"getnonce\",\"authenticate\",\"createUser\",\"updateUser\",\"copydbSaslStart\",\"copydbgetnonce\",\"copydb\"],compress:function(e,t,n){switch(e.options.agreedCompressor){case\"snappy\":r.compress(t,n);break;case\"zlib\":var i={};e.options.zlibCompressionLevel&&(i.level=e.options.zlibCompressionLevel),o.deflate(t,i,n);break;default:throw new Error('Attempt to compress message using unknown compressor \"'+e.options.agreedCompressor+'\".')}},decompress:function(e,t,n){if(e<0||e>i.length)throw new Error(\"Server sent message compressed using an unsupported compressor. (Received compressor ID \"+e+\")\");switch(e){case i.snappy:r.uncompress(t,n);break;case i.zlib:o.inflate(t,n);break;default:n(null,t)}}}},Jrgb:function(e,t,n){\"use strict\";const r=n(\"qvTl\").TopologyBase,o=n(\"q64v\").MongoError,i=n(\"q64v\").Mongos,s=n(\"q6MH\"),a=n(\"e1Yl\"),u=n(\"qvTl\").Store,c=n(\"Bx6p\").MAX_JS_INT,l=n(\"Bx6p\").translateOptions,p=n(\"Bx6p\").filterOptions,h=n(\"Bx6p\").mergeOptions;var f=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"ciphers\",\"ecdhCurve\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"promiseLibrary\",\"monitorCommands\"];class d extends r{constructor(e,t){super(),t=p(t=t||{},f);for(var n=0;n<e.length;n++)if(!(e[n]instanceof a))throw o.create({message:\"all seed list instances must be of the Server type\",driver:!0});var r={force:!1,bufferMaxEntries:\"number\"==typeof t.bufferMaxEntries?t.bufferMaxEntries:c},d=t.store||new u(this,r),m=e.map(function(e){return{host:e.host,port:e.port}}),g=\"boolean\"!=typeof t.auto_reconnect||t.auto_reconnect,y=h({},{disconnectHandler:d,cursorFactory:s,reconnect:g=\"boolean\"==typeof t.autoReconnect?t.autoReconnect:g,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5,monitorCommands:\"boolean\"==typeof t.monitorCommands&&t.monitorCommands});y=l(y,t);var v=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;(y=l(y,v)).clientInfo=this.clientInfo,t.appname&&(y.clientInfo.application={name:t.appname}),this.s={coreTopology:new i(m,y),sCapabilities:null,debug:y.debug,storeOptions:r,clonedOptions:y,store:d,options:t,sessionPool:null,sessions:[],promiseLibrary:t.promiseLibrary||Promise}}connect(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),null==e&&(e={}),\"function\"!=typeof t&&(t=null),e=Object.assign({},this.s.clonedOptions,e),n.s.options=e,n.s.storeOptions.bufferMaxEntries=\"number\"==typeof e.bufferMaxEntries?e.bufferMaxEntries:-1;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){n.removeListener(e,r)}),n.s.coreTopology.removeListener(\"connect\",r),n.close(!0);try{t(e)}catch(e){process.nextTick(function(){throw e})}}},o=function(e){return function(t){\"error\"!==e&&n.emit(e,t)}},i=function(e){return function(t,r){n.emit(e,t,r)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"commandStarted\",\"commandSucceeded\",\"commandFailed\"].forEach(function(e){n.s.coreTopology.removeAllListeners(e)}),n.s.coreTopology.on(\"serverDescriptionChanged\",i(\"serverDescriptionChanged\")),n.s.coreTopology.on(\"serverHeartbeatStarted\",i(\"serverHeartbeatStarted\")),n.s.coreTopology.on(\"serverHeartbeatSucceeded\",i(\"serverHeartbeatSucceeded\")),n.s.coreTopology.on(\"serverHeartbeatFailed\",i(\"serverHeartbeatFailed\")),n.s.coreTopology.on(\"serverOpening\",i(\"serverOpening\")),n.s.coreTopology.on(\"serverClosed\",i(\"serverClosed\")),n.s.coreTopology.on(\"topologyOpening\",i(\"topologyOpening\")),n.s.coreTopology.on(\"topologyClosed\",i(\"topologyClosed\")),n.s.coreTopology.on(\"topologyDescriptionChanged\",i(\"topologyDescriptionChanged\")),n.s.coreTopology.on(\"commandStarted\",i(\"commandStarted\")),n.s.coreTopology.on(\"commandSucceeded\",i(\"commandSucceeded\")),n.s.coreTopology.on(\"commandFailed\",i(\"commandFailed\")),n.s.coreTopology.once(\"timeout\",r(\"timeout\")),n.s.coreTopology.once(\"error\",r(\"error\")),n.s.coreTopology.once(\"close\",r(\"close\")),n.s.coreTopology.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"fullsetup\"].forEach(function(e){n.s.coreTopology.removeAllListeners(e)}),n.s.coreTopology.on(\"timeout\",o(\"timeout\")),n.s.coreTopology.on(\"error\",o(\"error\")),n.s.coreTopology.on(\"close\",o(\"close\")),n.s.coreTopology.on(\"fullsetup\",function(){n.emit(\"fullsetup\",n)}),n.emit(\"open\",null,n);try{t(null,n)}catch(e){process.nextTick(function(){throw e})}}),n.s.coreTopology.on(\"joined\",i(\"joined\")),n.s.coreTopology.on(\"left\",i(\"left\")),n.s.coreTopology.on(\"reconnect\",function(){n.emit(\"reconnect\"),n.s.store.execute()}),n.s.coreTopology.connect(e)}}Object.defineProperty(d.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.coreTopology.s.haInterval}}),e.exports=d},KqlY:function(e,t,n){\"use strict\";const r=n(\"upQV\").executeCommand,o=n(\"upQV\").executeDbAdminCommand;e.exports={replSetGetStatus:function(e,t,n){o(e.s.db,{replSetGetStatus:1},t,n)},serverStatus:function(e,t,n){o(e.s.db,{serverStatus:1},t,n)},validateCollection:function(e,t,n,o){const i={validate:t},s=Object.keys(n);for(let r=0;r<s.length;r++)n.hasOwnProperty(s[r])&&\"session\"!==s[r]&&(i[s[r]]=n[s[r]]);r(e.s.db,i,n,(e,n)=>null!=e?o(e,null):0===n.ok?o(new Error(\"Error with validate command\"),null):null!=n.result&&n.result.constructor!==String?o(new Error(\"Error with validation data\"),null):null!=n.result&&null!=n.result.match(/exception|corrupt/)?o(new Error(\"Error: invalid collection \"+t),null):null==n.valid||n.valid?o(null,n):o(new Error(\"Error: invalid collection \"+t),null))}}},\"L/N5\":function(e,t,n){\"use strict\";const r=n(\"q64v\").MongoNetworkError,o=n(\"q64v\").mongoErrorContextSymbol,i=new Set([136,237,11601]);e.exports={GET_MORE_NON_RESUMABLE_CODES:i,isResumableError:function(e){return!!function(e){if(e[o])return e[o].isGetMore}(e)&&!!(e instanceof r||!i.has(e.code)||e.message.match(/not master/)||e.message.match(/node is recovering/))}}},\"L7+4\":function(e,t,n){\"use strict\";var r=n(\"MqoK\").Long,o=n(\"OgGp\").Double,i=n(\"B2Iy\").Timestamp,s=n(\"czSF\").ObjectID,a=n(\"cfbU\").Symbol,u=n(\"vXaj\").BSONRegExp,c=n(\"kHNH\").Code,l=n(\"qchN\"),p=n(\"Oxqu\").MinKey,h=n(\"kpKE\").MaxKey,f=n(\"/iOP\").DBRef,d=n(\"9k0L\").Binary,m=n(\"DQsy\").normalizedFunctionString,g=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},y=function(e,t,n){var r=5;if(Array.isArray(e))for(var o=0;o<e.length;o++)r+=v(o.toString(),e[o],t,!0,n);else for(var i in e.toBSON&&(e=e.toBSON()),e)r+=v(i,e[i],t,!1,n);return r};function v(e,t,n,v,w){switch(t&&t.toBSON&&(t=t.toBSON()),typeof t){case\"string\":return 1+Buffer.byteLength(e,\"utf8\")+1+4+Buffer.byteLength(t,\"utf8\")+1;case\"number\":return Math.floor(t)===t&&t>=b.JS_INT_MIN&&t<=b.JS_INT_MAX&&t>=b.BSON_INT32_MIN&&t<=b.BSON_INT32_MAX?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+5:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;case\"undefined\":return v||!w?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1:0;case\"boolean\":return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+2;case\"object\":if(null==t||t instanceof p||t instanceof h||\"MinKey\"===t._bsontype||\"MaxKey\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1;if(t instanceof s||\"ObjectID\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+13;if(t instanceof Date||g(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(\"undefined\"!=typeof Buffer&&Buffer.isBuffer(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+6+t.length;if(t instanceof r||t instanceof o||t instanceof i||\"Long\"===t._bsontype||\"Double\"===t._bsontype||\"Timestamp\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+9;if(t instanceof l||\"Decimal128\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+17;if(t instanceof c||\"Code\"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1+y(t.scope,n,w):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(t.code.toString(),\"utf8\")+1;if(t instanceof d||\"Binary\"===t._bsontype)return t.sub_type===d.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+(t.position+1+4+1);if(t instanceof a||\"Symbol\"===t._bsontype)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+Buffer.byteLength(t.value,\"utf8\")+4+1+1;if(t instanceof f||\"DBRef\"===t._bsontype){var _={$ref:t.namespace,$id:t.oid};return null!=t.db&&(_.$db=t.db),(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+y(_,n,w)}return t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:t instanceof u||\"BSONRegExp\"===t._bsontype?(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.pattern,\"utf8\")+1+Buffer.byteLength(t.options,\"utf8\")+1:(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+y(t,n,w)+1;case\"function\":if(t instanceof RegExp||\"[object RegExp]\"===Object.prototype.toString.call(t)||\"[object RegExp]\"===String.call(t))return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+Buffer.byteLength(t.source,\"utf8\")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+4+Buffer.byteLength(m(t),\"utf8\")+1+y(t.scope,n,w);if(n)return(null!=e?Buffer.byteLength(e,\"utf8\")+1:0)+1+4+Buffer.byteLength(m(t),\"utf8\")+1}return 0}var b={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992};e.exports=y},LDTe:function(e,t){function n(e){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=\"LDTe\"},LKkM:function(e,t,n){\"use strict\";const r=n(\"+kYq\"),o=r.BulkOperationBase,i=n(\"Bx6p\"),s=i.toError,a=i.handleCallback,u=r.BulkWriteResult,c=r.Batch,l=r.mergeBatchResults,p=i.executeOperation,h=n(\"q64v\").MongoWriteConcernError,f=n(\"+kYq\").handleMongoWriteConcernError,d=r.bson;function m(e,t,n){const o=d.calculateObjectSize(n,{checkKeys:!1});if(o>=e.s.maxBatchSizeBytes)throw s(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(null==e.s.currentBatch&&(e.s.currentBatch=new c(t,e.s.currentIndex)),e.s.currentBatchSize+1>=e.s.maxWriteBatchSize||e.s.currentBatchSizeBytes+e.s.currentBatchSizeBytes>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!==t?(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new c(t,e.s.currentIndex),e.s.currentBatchSize=0,e.s.currentBatchSizeBytes=0):(e.s.currentBatchSize=e.s.currentBatchSize+1,e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+o),t===r.INSERT&&e.s.bulkResult.insertedIds.push({index:e.s.currentIndex,_id:n._id}),Array.isArray(n))throw s(\"operation passed in cannot be an Array\");return e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentBatch.operations.push(n),e.s.currentBatchSizeBytes=e.s.currentBatchSizeBytes+o,e.s.currentIndex=e.s.currentIndex+1,e}class g extends o{constructor(e,t,n){n=n||{},super(e,t,n=Object.assign(n,{addToOperationsList:m}),!0)}execute(e,t,n){const r=this.bulkExecute(e,t,n);return p(this.s.topology,y,[this,t=r.options,n=r.callback])}}function y(e,t,n){if(0===e.s.batches.length)return a(n,null,new u(e.s.bulkResult));const r=e.s.batches.shift();e.finalOptionsHandler({options:t,batch:r,resultHandler:function(o,i){if((o&&o.driver||o&&o.message)&&!(o instanceof h))return a(n,o);if(o&&(o.ok=0),o instanceof h)return f(r,e.s.bulkResult,!0,o,n);const s=new u(e.s.bulkResult);if(null!=l(!0,r,e.s.bulkResult,o,i))return a(n,null,s);e.handleWriteError(n,s)||y(e,t,n)}},n)}function v(e,t,n){return new g(e,t,n)}v.OrderedBulkOperation=g,e.exports=v,e.exports.Bulk=g},M9st:function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(\"Vx2P\"),i=function(){throw new Error(\"Attempted to use Snappy compression, but Snappy is not installed. Install or disable Snappy compression and try again.\")};t.setProperty=function(e,t,n,o){Object.defineProperty(e,t.name,{enumerable:!0,set:function(e){if(\"boolean\"!=typeof e)throw new Error(r(\"%s required a boolean\",t.name));!0===e&&(o.flags|=n),!1===e&&(o.flags&n)===n&&(o.flags^=n),t.value=e},get:function(){return t.value}})},t.getProperty=function(e,t,n,r,o){Object.defineProperty(e,t,{enumerable:!0,get:function(){return null==r[n]&&e.isParsed&&!e.isParsed()&&e.parse(),\"function\"==typeof o?o(r[n]):r[n]}})},t.getSingleProperty=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},t.copy=function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},t.debugOptions=function(e,t){var n={};return e.forEach(function(e){n[e]=t[e]}),n},t.retrieveBSON=function(){var e=n(\"W30b\");e.native=!1;try{var t=o(\"bson-ext\");if(t)return t.native=!0,t}catch(e){}return e},t.retrieveSnappy=function(){var e=null;try{e=o(\"snappy\")}catch(e){}return e||(e={compress:i,uncompress:i,compressSync:i,uncompressSync:i}),e}},MCLT:function(e,t,n){var r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(\" \")}n=1;for(var o=arguments,i=o.length,a=String(e).replace(r,function(e){if(\"%%\"===e)return\"%\";if(n>=i)return e;switch(e){case\"%s\":return String(o[n++]);case\"%d\":return Number(o[n++]);case\"%j\":try{return JSON.stringify(o[n++])}catch(e){return\"[Circular]\"}default:return e}}),u=o[n];n<i;u=o[++n])d(u)||!b(u)?a+=\" \"+u:a+=\" \"+s(u);return a},t.deprecate=function(e,n){if(y(global.process))return function(){return t.deprecate(e,n).apply(this,arguments)};if(!0===process.noDeprecation)return e;var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var o,i={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=s.styles[t];return n?\"\\x1b[\"+s.colors[n][0]+\"m\"+e+\"\\x1b[\"+s.colors[n][1]+\"m\":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return g(o)||(o=c(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize(\"undefined\",\"undefined\");if(g(t)){var n=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(n,\"string\")}return m(t)?e.stylize(\"\"+t,\"number\"):f(t)?e.stylize(\"\"+t,\"boolean\"):d(t)?e.stylize(\"null\",\"null\"):void 0}(e,n);if(i)return i;var s,a=Object.keys(n),u=(s={},a.forEach(function(e,t){s[e]=!0}),s);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(n);if(0===a.length){if(S(n))return e.stylize(\"[Function\"+(n.name?\": \"+n.name:\"\")+\"]\",\"special\");if(v(n))return e.stylize(RegExp.prototype.toString.call(n),\"regexp\");if(w(n))return e.stylize(Date.prototype.toString.call(n),\"date\");if(_(n))return l(n)}var b,C=\"\",O=!1,E=[\"{\",\"}\"];return h(n)&&(O=!0,E=[\"[\",\"]\"]),S(n)&&(C=\" [Function\"+(n.name?\": \"+n.name:\"\")+\"]\"),v(n)&&(C=\" \"+RegExp.prototype.toString.call(n)),w(n)&&(C=\" \"+Date.prototype.toUTCString.call(n)),_(n)&&(C=\" \"+l(n)),0!==a.length||O&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),\"regexp\"):e.stylize(\"[Object]\",\"special\"):(e.seen.push(n),b=O?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)T(t,String(s))?i.push(p(e,t,n,r,String(s),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}(e,n,r,u,a):a.map(function(t){return p(e,n,r,u,t,O)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf(\"\\n\"),e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?n[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+n[1]:n[0]+t+\" \"+e.join(\", \")+\" \"+n[1]}(b,C,E)):E[0]+C+E[1]}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function p(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=e.stylize(u.set?\"[Getter/Setter]\":\"[Getter]\",\"special\"):u.set&&(a=e.stylize(\"[Setter]\",\"special\")),T(r,o)||(s=\"[\"+o+\"]\"),a||(e.seen.indexOf(u.value)<0?(a=d(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf(\"\\n\")>-1&&(a=i?a.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+a.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\")):a=e.stylize(\"[Circular]\",\"special\")),y(s)){if(i&&o.match(/^\\d+$/))return a;(s=JSON.stringify(\"\"+o)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=e.stylize(s,\"string\"))}return s+\": \"+a}function h(e){return Array.isArray(e)}function f(e){return\"boolean\"==typeof e}function d(e){return null===e}function m(e){return\"number\"==typeof e}function g(e){return\"string\"==typeof e}function y(e){return void 0===e}function v(e){return b(e)&&\"[object RegExp]\"===C(e)}function b(e){return\"object\"==typeof e&&null!==e}function w(e){return b(e)&&\"[object Date]\"===C(e)}function _(e){return b(e)&&(\"[object Error]\"===C(e)||e instanceof Error)}function S(e){return\"function\"==typeof e}function C(e){return Object.prototype.toString.call(e)}function O(e){return e<10?\"0\"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=process.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!i[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(o)){var n=process.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error(\"%s %d: %s\",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},t.isArray=h,t.isBoolean=f,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=b,t.isDate=w,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=n(\"1gqn\");var E=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log(\"%s - %s\",(n=[O((e=new Date).getHours()),O(e.getMinutes()),O(e.getSeconds())].join(\":\"),[e.getDate(),E[e.getMonth()],n].join(\" \")),t.format.apply(t,arguments))},t.inherits=n(\"P7XM\"),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},MqoK:function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype=\"Long\",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error(\"radix out of range: \"+t);if(this.isZero())return\"0\";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var r=n.fromNumber(t),o=this.div(r),i=o.multiply(r).subtract(this);return o.toString(t)+i.toInt().toString(t)}return\"-\"+this.negate().toString(t)}var s=n.fromNumber(Math.pow(t,6));i=this;for(var a=\"\";!i.isZero();){var u=i.div(s),c=i.subtract(u.multiply(s)).toInt().toString(t);if((i=u).isZero())return c+a;for(;c.length<6;)c=\"0\"+c;a=\"\"+c+a}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=0,r=0,o=0,i=0;return o+=(i+=(65535&this.low_)+(65535&e.low_))>>>16,r+=(o+=(this.low_>>>16)+(e.low_>>>16))>>>16,t+=(r+=(65535&this.high_)+(65535&e.high_))>>>16,t+=(this.high_>>>16)+(e.high_>>>16),n.fromBits((o&=65535)<<16|(i&=65535),(t&=65535)<<16|(r&=65535))},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,i=65535&e.high_,s=e.low_>>>16,a=65535&e.low_,u=0,c=0,l=0,p=0;return l+=(p+=o*a)>>>16,c+=(l+=r*a)>>>16,l&=65535,c+=(l+=o*s)>>>16,u+=(c+=t*a)>>>16,c&=65535,u+=(c+=r*s)>>>16,c&=65535,u+=(c+=o*i)>>>16,u+=(this.high_>>>16)*a+t*s+r*i+o*(e.high_>>>16),n.fromBits((l&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535))},n.prototype.div=function(e){if(e.isZero())throw Error(\"division by zero\");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var r=this.subtract(e.multiply(t));return t.add(r.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var o=n.ZERO;for(r=this;r.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),s=i<=48?1:Math.pow(2,i-48),a=n.fromNumber(t),u=a.multiply(e);u.isNegative()||u.greaterThan(r);)u=(a=n.fromNumber(t-=s)).multiply(e);a.isZero()&&(a=n.ONE),o=o.add(a),r=r.subtract(u)}return o},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0==(e&=63))return this;var t=this.low_;return e<32?n.fromBits(t<<e,this.high_<<e|t>>>32-e):n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0==(e&=63))return this;var t=this.high_;return e<32?n.fromBits(this.low_>>>e|t<<32-e,t>>e):n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0==(e&=63))return this;var t=this.high_;return e<32?n.fromBits(this.low_>>>e|t<<32-e,t>>>e):n.fromBits(32===e?t:t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var r=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=r),r},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error(\"number format error: empty string\");var r=t||10;if(r<2||36<r)throw Error(\"radix out of range: \"+r);if(\"-\"===e.charAt(0))return n.fromString(e.substring(1),r).negate();if(e.indexOf(\"-\")>=0)throw Error('number format error: interior \"-\" character: '+e);for(var o=n.fromNumber(Math.pow(r,8)),i=n.ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);if(a<8){var c=n.fromNumber(Math.pow(r,a));i=i.multiply(c).add(n.fromNumber(u))}else i=(i=i.multiply(o)).add(n.fromNumber(u))}return i},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_31_DBL_=(n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_)/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_63_DBL_=(n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_)/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Long=n},Nehr:function(e,t,n){\"use strict\";e.exports={isString:function(e){return\"string\"==typeof e},isObject:function(e){return\"object\"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},Nnq7:function(e,t,n){\"use strict\";var r=n(\"MCLT\").inherits,o=n(\"+qE3\").EventEmitter,i=n(!function(){var e=new Error(\"Cannot find module 'net'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),s=n(!function(){var e=new Error(\"Cannot find module 'tls'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),a=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),u=n(\"MCLT\").format,c=n(\"M9st\").debugOptions,l=n(\"+kV9\").parseHeader,p=n(\"Jr2G\").decompress,h=n(\"BvkA\").Response,f=n(\"OkLf\").MongoNetworkError,d=n(\"0C3t\"),m=n(\"+kV9\").opcodes.OP_COMPRESSED,g=n(\"+kV9\").MESSAGE_HEADER_SIZE,y=n(\"hwdV\").Buffer,v=0,b=[\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"checkServerIdentity\"],w=void 0,_=!1,S={},C=function(e,t){if(o.call(this),this.options=t||{},this.id=v++,this.logger=d(\"Connection\",t),!t.bson)throw new Error(\"must pass in valid bson parser\");this.bson=t.bson,this.tag=t.tag,this.messageHandler=e,this.maxBsonMessageSize=t.maxBsonMessageSize||67108864,this.logger.isDebug()&&this.logger.debug(u(\"creating connection %s with options [%s]\",this.id,JSON.stringify(c(b,t)))),this.port=t.port||27017,this.host=t.host||\"localhost\",this.family=\"number\"==typeof t.family?t.family:void 0,this.keepAlive=\"boolean\"!=typeof t.keepAlive||t.keepAlive,this.keepAliveInitialDelay=\"number\"==typeof t.keepAliveInitialDelay?t.keepAliveInitialDelay:3e5,this.noDelay=\"boolean\"!=typeof t.noDelay||t.noDelay,this.connectionTimeout=\"number\"==typeof t.connectionTimeout?t.connectionTimeout:3e4,this.socketTimeout=\"number\"==typeof t.socketTimeout?t.socketTimeout:36e4,this.keepAliveInitialDelay>this.socketTimeout&&(this.keepAliveInitialDelay=Math.round(this.socketTimeout/2)),this.destroyed=!1,this.domainSocket=-1!==this.host.indexOf(\"/\"),this.singleBufferSerializtion=\"boolean\"!=typeof t.singleBufferSerializtion||t.singleBufferSerializtion,this.serializationFunction=this.singleBufferSerializtion?\"toBinUnified\":\"toBin\",this.ca=t.ca||null,this.crl=t.crl||null,this.cert=t.cert||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.ciphers=t.ciphers||null,this.ecdhCurve=t.ecdhCurve||null,this.ssl=\"boolean\"==typeof t.ssl&&t.ssl,this.rejectUnauthorized=\"boolean\"!=typeof t.rejectUnauthorized||t.rejectUnauthorized,this.checkServerIdentity=\"boolean\"!=typeof t.checkServerIdentity&&\"function\"!=typeof t.checkServerIdentity||t.checkServerIdentity,this.ssl||(this.rejectUnauthorized=!1),this.responseOptions={promoteLongs:\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,promoteValues:\"boolean\"!=typeof t.promoteValues||t.promoteValues,promoteBuffers:\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers},this.flushing=!1,this.queue=[],this.connection=null,this.writeStream=null;var n=a.createHash(\"sha1\");n.update(u(\"%s:%s\",this.host,this.port)),this.hashedName=n.digest(\"hex\"),this.workItems=[]};function O(e){delete S[e],w&&w.deleteConnection(e)}r(C,o),C.prototype.setSocketTimeout=function(e){this.connection&&this.connection.setTimeout(e)},C.prototype.resetSocketTimeout=function(){this.connection&&this.connection.setTimeout(this.socketTimeout)},C.enableConnectionAccounting=function(e){e&&(w=e),_=!0,S={}},C.disableConnectionAccounting=function(){_=!1,w=void 0},C.connections=function(){return S};var E=function(e){return function(){_&&O(e.id),e.logger.isDebug()&&e.logger.debug(u(\"connection %s for [%s:%s] timed out\",e.id,e.host,e.port)),e.emit(\"timeout\",new f(u(\"connection %s to %s:%s timed out\",e.id,e.host,e.port)),e)}},T=function(e){return function(t){_&&O(e.id),e.logger.isDebug()&&e.logger.debug(u(\"connection %s with for [%s:%s] closed\",e.id,e.host,e.port)),t||e.emit(\"close\",new f(u(\"connection %s to %s:%s closed\",e.id,e.host,e.port)),e)}},x=function(e,t){var n=l(t);if(n.opCode===m){n.fromCompressed=!0;var r=g;n.opCode=t.readInt32LE(r),n.length=t.readInt32LE(r+=4),p(t[r+=4],t.slice(++r),function(r,o){if(r)throw r;if(o.length!==n.length)throw new Error(\"Decompressing a compressed message from the server failed. The message is corrupt.\");e.messageHandler(new h(e.bson,t,n,o,e.responseOptions),e)})}else e.messageHandler(new h(e.bson,t,n,t.slice(g),e.responseOptions),e)},N=function(e){return function(t){for(;t.length>0;)if(e.bytesRead>0&&e.sizeOfMessage>0){var n=e.sizeOfMessage-e.bytesRead;if(n>t.length)t.copy(e.buffer,e.bytesRead),e.bytesRead=e.bytesRead+t.length,t=y.alloc(0);else{t.copy(e.buffer,e.bytesRead,0,n),t=t.slice(n);try{var r=e.buffer;e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,x(e,r)}catch(t){var o={err:\"socketHandler\",trace:t,bin:e.buffer,parseState:{sizeOfMessage:e.sizeOfMessage,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}};e.emit(\"parseError\",o,e)}}}else if(null!=e.stubBuffer&&e.stubBuffer.length>0)if(e.stubBuffer.length+t.length>4){var i=y.alloc(e.stubBuffer.length+t.length);e.stubBuffer.copy(i,0),t.copy(i,e.stubBuffer.length),t=i,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null}else{var s=y.alloc(e.stubBuffer.length+t.length);e.stubBuffer.copy(s,0),t.copy(s,e.stubBuffer.length),t=y.alloc(0)}else if(t.length>4){var a=t[0]|t[1]<<8|t[2]<<16|t[3]<<24;if(a<0||a>e.maxBsonMessageSize)return void e.emit(\"parseError\",o={err:\"socketHandler\",trace:\"\",bin:e.buffer,parseState:{sizeOfMessage:a,bytesRead:e.bytesRead,stubBuffer:e.stubBuffer}},e);if(a>4&&a<e.maxBsonMessageSize&&a>t.length)e.buffer=y.alloc(a),t.copy(e.buffer,0),e.bytesRead=t.length,e.sizeOfMessage=a,e.stubBuffer=null,t=y.alloc(0);else if(a>4&&a<e.maxBsonMessageSize&&a===t.length)try{r=t,e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=y.alloc(0),x(e,r)}catch(t){e.emit(\"parseError\",t,e)}else a<=4||a>e.maxBsonMessageSize?(e.emit(\"parseError\",o={err:\"socketHandler\",trace:null,bin:t,parseState:{sizeOfMessage:a,bytesRead:0,buffer:null,stubBuffer:null}},e),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=y.alloc(0)):(r=t.slice(0,a),e.buffer=null,e.sizeOfMessage=0,e.bytesRead=0,e.stubBuffer=null,t=t.slice(a),x(e,r))}else e.stubBuffer=y.alloc(t.length),t.copy(e.stubBuffer,0),t=y.alloc(0)}},A=[\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"NPNProtocols\",\"ALPNProtocols\",\"servername\",\"ecdhCurve\",\"secureProtocol\",\"secureContext\",\"session\",\"minDHSize\"];function I(e,t){for(var n in t)null!=t[n]&&-1!==A.indexOf(n)&&(e[n]=t[n])}function k(e,t,n,r){e.connection=e.ssl?function(e,t){let n={socket:e.connection,rejectUnauthorized:e.rejectUnauthorized};I(n,e.options),I(n,t),e.ca&&(n.ca=e.ca),e.crl&&(n.crl=e.crl),e.cert&&(n.cert=e.cert),e.key&&(n.key=e.key),e.passphrase&&(n.passphrase=e.passphrase),!1===e.checkServerIdentity?n.checkServerIdentity=function(){}:\"function\"==typeof e.checkServerIdentity&&(n.checkServerIdentity=e.checkServerIdentity),null==n.servername&&(n.servername=e.host);const r=s.connect(e.port,e.host,n,function(){if(r.authorizationError&&e.rejectUnauthorized)return e.emit(\"error\",r.authorizationError,e,{ssl:!0});r.setTimeout(e.socketTimeout),e.emit(\"connect\",e)});return r.setKeepAlive(e.keepAlive,e.keepAliveInitialDelay),r.setTimeout(e.connectionTimeout),r.setNoDelay(e.noDelay),r}(e,n):function(e,t){let n;e.domainSocket?n={path:e.host}:(n={port:e.port,host:e.host}).family=t;const r=i.createConnection(n);return r.setKeepAlive(e.keepAlive,e.keepAliveInitialDelay),r.setTimeout(e.connectionTimeout),r.setNoDelay(e.noDelay),r.once(\"connect\",function(){r.setTimeout(e.socketTimeout),e.emit(\"connect\",e)}),r}(e,t),e.connection.once(\"error\",r),e.connection.once(\"timeout\",E(e)),e.connection.once(\"close\",T(e)),e.connection.on(\"data\",N(e))}C.prototype.connect=function(e){var t,n;e=e||{},_&&(S[t=this.id]=n=this,w&&w.addConnection(t,n)),\"boolean\"==typeof e.promoteLongs&&(this.responseOptions.promoteLongs=e.promoteLongs,this.responseOptions.promoteValues=e.promoteValues,this.responseOptions.promoteBuffers=e.promoteBuffers);const r=(o=this,function(e){_&&O(o.id),o.logger.isDebug()&&o.logger.debug(u(\"connection %s for [%s:%s] errored out with [%s]\",o.id,o.host,o.port,JSON.stringify(e))),o.listeners(\"error\").length>0&&o.emit(\"error\",new f(e),o)});var o;return void 0!==this.family?k(this,this.family,e,r):k(this,6,e,t=>(this.logger.isDebug()&&this.logger.debug(u(\"connection %s for [%s:%s] errored out with [%s]\",this.id,this.host,this.port,JSON.stringify(t))),this.connection.removeAllListeners(\"error\"),this.connection.removeAllListeners(\"timeout\"),this.connection.removeAllListeners(\"close\"),this.connection.removeAllListeners(\"data\"),this.connection=void 0,k(this,4,e,r)))},C.prototype.unref=function(){if(this.connection)this.connection.unref();else{var e=this;this.once(\"connect\",function(){e.connection.unref()})}},C.prototype.destroy=function(){if(_&&O(this.id),this.connection){try{this.connection.end()}catch(e){}this.connection.destroy()}this.destroyed=!0},C.prototype.write=function(e){var t;if(this.logger.isDebug())if(Array.isArray(e))for(t=0;t<e.length;t++)this.logger.debug(u(\"writing buffer [%s] to %s:%s\",e[t].toString(\"hex\"),this.host,this.port));else this.logger.debug(u(\"writing buffer [%s] to %s:%s\",e.toString(\"hex\"),this.host,this.port));if(!1===this.connection.destroyed){if(!Array.isArray(e))return this.connection.write(e,\"binary\"),!0;for(t=0;t<e.length;t++)this.connection.write(e[t],\"binary\");return!0}return!1},C.prototype.toString=function(){return\"\"+this.id},C.prototype.toJSON=function(){return{id:this.id,host:this.host,port:this.port}},C.prototype.isConnected=function(){return!this.destroyed&&!this.connection.destroyed&&this.connection.writable},e.exports=C},OgGp:function(e,t){function n(e){if(!(this instanceof n))return new n(e);this._bsontype=\"Double\",this.value=e}n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Double=n},OkLf:function(e,t,n){\"use strict\";const r=Symbol(\"mongoErrorContextSymbol\");class o extends Error{constructor(e){if(e instanceof Error)super(e.message),this.stack=e.stack;else{if(\"string\"==typeof e)super(e);else for(var t in super(e.message||e.errmsg||e.$err||\"n/a\"),e)this[t]=e[t];Error.captureStackTrace(this,this.constructor)}this.name=\"MongoError\",this[r]=this[r]||{}}static create(e){return new o(e)}}class i extends o{constructor(e){super(e),this.name=\"MongoNetworkError\",this.errorLabels=[\"TransientTransactionError\"]}}const s=new Set([6,7,89,91,189,9001,10107,11600,11602,13435,13436]);e.exports={MongoError:o,MongoNetworkError:i,MongoParseError:class extends o{constructor(e){super(e),this.name=\"MongoParseError\"}},MongoTimeoutError:class extends o{constructor(e){super(e),this.name=\"MongoTimeoutError\"}},MongoWriteConcernError:class extends o{constructor(e,t){super(e),this.name=\"MongoWriteConcernError\",null!=t&&(this.result=t)}},mongoErrorContextSymbol:r,isRetryableError:function(e){return s.has(e.code)||e instanceof i||e.message.match(/not master/)||e.message.match(/node is recovering/)}}},Oxqu:function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype=\"MinKey\"}e.exports=n,e.exports.MinKey=n},P7XM:function(e,t){e.exports=\"function\"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},PrLZ:function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(\"M9st\").retrieveBSON,i=n(\"BvkA\").Query,s=n(\"OkLf\").MongoError,a=o().Binary,u=function(e,t,n){this.db=e,this.username=t,this.password=n};u.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var c=function(e){this.bson=e,this.authStore=[]};c.prototype.auth=function(e,t,n,o,c,p){var h=this,f=t.length;if(0===f)return p(null,null);for(var d=0,m=null;t.length>0;)!function(t){process.nextTick(function(){var g,y;g=t,y=new a(r(\"\\0%s\\0%s\",o,c)),e(g,new i(h.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"PLAIN\",payload:y,autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(e,t){f-=1,e?m=e:t.result.$err?m=t.result:t.result.errmsg?m=t.result:d+=1,0===f&&d>0?(l(h.authStore,new u(n,o,c)),p(null,!0)):0===f&&(null==m&&(m=new s(r(\"failed to authenticate using mongocr\"))),p(m,!1))})})}(t.shift())};var l=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};c.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},c.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,function(e){0==(o-=1)&&n(e,null)})},e.exports=c},QVxV:function(e,t,n){\"use strict\";const r=n(\"MCLT\").inherits,o=n(\"q64v\").ReadPreference,i=n(\"q64v\").MongoError,s=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).Readable,a=n(\"q6MH\");var u=function(e,t,n,r,o,i){a.apply(this,Array.prototype.slice.call(arguments,0));var c=u.INIT,l=r.promiseLibrary||Promise;s.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:c,streamOptions:{},bson:e,ns:t,cmd:n,options:r,topology:o,topologyOptions:i,promiseLibrary:l,session:r.session}};r(u,s);for(var c=[\"_next\",\"next\",\"hasNext\",\"each\",\"forEach\",\"toArray\",\"rewind\",\"bufferedCount\",\"readBufferedDocuments\",\"close\",\"isClosed\",\"kill\",\"setCursorBatchSize\",\"_find\",\"_getmore\",\"_killcursor\",\"isDead\",\"explain\",\"isNotified\",\"isKilled\",\"_endSession\",\"_initImplicitSession\"],l=0;l<c.length;l++)u.prototype[c[l]]=a.prototype[c[l]];u.prototype.setReadPreference=function(e){if(this.s.state===u.CLOSED||this.isDead())throw i.create({message:\"Cursor is closed\",driver:!0});if(this.s.state!==u.INIT)throw i.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});if(e instanceof o)this.s.options.readPreference=e;else{if(\"string\"!=typeof e)throw new TypeError(\"Invalid read preference: \"+e);this.s.options.readPreference=new o(e)}return this},u.prototype.batchSize=function(e){if(this.s.state===u.CLOSED||this.isDead())throw i.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw i.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},u.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},u.prototype.getLogger=function(){return this.logger},u.prototype.get=u.prototype.toArray,u.INIT=0,u.OPEN=1,u.CLOSED=2,e.exports=u},R4vf:function(e,t,n){\"use strict\";const r=function(e,t,n){if(t&&!Array.isArray(t)&&(console.warn(\"ReadPreference tags must be an array, this will change in the next major version\"),void 0!==t.maxStalenessSeconds?(n=t,t=void 0):t=[t]),this.mode=e,this.tags=t,null!=(n=n||{}).maxStalenessSeconds){if(n.maxStalenessSeconds<=0)throw new TypeError(\"maxStalenessSeconds must be a positive integer\");this.maxStalenessSeconds=n.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===r.PRIMARY||!0===this.mode){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new TypeError(\"Primary read preference cannot be combined with tags\");if(this.maxStalenessSeconds)throw new TypeError(\"Primary read preference cannot be combined with maxStalenessSeconds\")}};Object.defineProperty(r.prototype,\"preference\",{enumerable:!0,get:function(){return this.mode}}),r.PRIMARY=\"primary\",r.PRIMARY_PREFERRED=\"primaryPreferred\",r.SECONDARY=\"secondary\",r.SECONDARY_PREFERRED=\"secondaryPreferred\",r.NEAREST=\"nearest\";const o=[r.PRIMARY,r.PRIMARY_PREFERRED,r.SECONDARY,r.SECONDARY_PREFERRED,r.NEAREST,!0,!1,null];r.isValid=function(e){return-1!==o.indexOf(e)},r.prototype.isValid=function(e){return r.isValid(\"string\"==typeof e?e:this.mode)};const i=[\"primaryPreferred\",\"secondary\",\"secondaryPreferred\",\"nearest\"];r.prototype.slaveOk=function(){return-1!==i.indexOf(this.mode)},r.prototype.equals=function(e){return e.mode===this.mode},r.prototype.toJSON=function(){const e={mode:this.mode};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),e},r.primary=new r(\"primary\"),r.primaryPreferred=new r(\"primaryPreferred\"),r.secondary=new r(\"secondary\"),r.secondaryPreferred=new r(\"secondaryPreferred\"),r.nearest=new r(\"nearest\"),e.exports=r},Tvfz:function(e,t,n){\"use strict\";var r=n(\"MCLT\").inherits,o=n(\"MCLT\").format,i=n(\"+qE3\").EventEmitter,s=n(\"R4vf\"),a=n(\"0C3t\"),u=n(\"M9st\").debugOptions,c=n(\"M9st\").retrieveBSON,l=n(\"r9BW\"),p=n(\"BvkA\").Query,h=n(\"OkLf\").MongoError,f=n(\"OkLf\").MongoNetworkError,d=n(\"j8Uq\"),m=n(\"H+jr\"),g=n(\"Ch8i\"),y=n(\"U18u\"),v=n(\"U18u\").createClientInfo,b=n(\"U18u\").createCompressionInfo,w=n(\"U18u\").resolveClusterTime,_=n(\"U18u\").SessionMixins,S=n(\"6uN0\").relayEvents;const C=n(\"6uN0\").collationNotSupported;var O=[\"reconnect\",\"reconnectTries\",\"reconnectInterval\",\"emitError\",\"cursorFactory\",\"host\",\"port\",\"size\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectionTimeout\",\"checkServerIdentity\",\"socketTimeout\",\"singleBufferSerializtion\",\"ssl\",\"ca\",\"crl\",\"cert\",\"key\",\"rejectUnauthorized\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"servername\"],E=0,T=!1,x={},N=c(),A=function(e){e=e||{},i.call(this),this.id=E++,this.s={options:e,logger:a(\"Server\",e),Cursor:e.cursorFactory||g,bson:e.bson||new N([N.Binary,N.Code,N.DBRef,N.Decimal128,N.Double,N.Int32,N.Long,N.Map,N.MaxKey,N.MinKey,N.ObjectId,N.BSONRegExp,N.Symbol,N.Timestamp]),pool:null,disconnectHandler:e.disconnectHandler,monitoring:\"boolean\"!=typeof e.monitoring||e.monitoring,inTopology:!!e.parent,monitoringInterval:\"number\"==typeof e.monitoringInterval?e.monitoringInterval:5e3,topologyId:-1,compression:{compressors:b(e)},parent:e.parent},this.s.parent||(this.s.clusterTime=null),this.ismaster=null,this.lastIsMasterMS=-1,this.monitoringProcessId=null,this.initialConnect=!0,this.wireProtocolHandler=new d,this._type=\"server\",this.clientInfo=v(e),this.lastUpdateTime=0,this.lastWriteDate=0,this.staleness=0};function I(e,t,n,r,i,s){return e.s.pool.isConnected()||!e.s.options.reconnect||null==e.s.disconnectHandler||i.monitoring?e.s.pool.isConnected()?void 0:(s(new h(o(\"no connection available to server %s\",e.name))),!0):(e.s.disconnectHandler.add(t,n,r,i,s),!0)}r(A,i),Object.assign(A.prototype,_),Object.defineProperty(A.prototype,\"type\",{enumerable:!0,get:function(){return this._type}}),Object.defineProperty(A.prototype,\"parserType\",{enumerable:!0,get:function(){return N.native?\"c++\":\"js\"}}),Object.defineProperty(A.prototype,\"logicalSessionTimeoutMinutes\",{enumerable:!0,get:function(){return this.ismaster&&this.ismaster.logicalSessionTimeoutMinutes||null}}),Object.defineProperty(A.prototype,\"clusterTime\",{enumerable:!0,set:function(e){w(this.s.parent?this.s.parent:this.s,e)},get:function(){return(this.s.parent?this.s.parent:this.s).clusterTime||null}}),A.enableServerAccounting=function(){T=!0,x={}},A.disableServerAccounting=function(){T=!1},A.servers=function(){return x},Object.defineProperty(A.prototype,\"name\",{enumerable:!0,get:function(){return this.s.options.host+\":\"+this.s.options.port}});var k=function(e,t){return function(n){if(e.s.logger.isInfo()){var r=n instanceof h?JSON.stringify(n):{};e.s.logger.info(o(\"server %s fired event %s out with message %s\",e.name,t,r))}if(\"connect\"===t){var i=new p(e.s.bson,\"admin.$cmd\",Object.assign({ismaster:!0,client:e.clientInfo,compression:e.s.compression&&e.s.compression.compressors?e.s.compression.compressors:[]},function(e){if(!e)return{};const t=e.auth||[],n=t[0]||e.authMechanism,r=t[1]||e.authSource||e.dbName||\"admin\",o=t[2]||e.user;return\"string\"==typeof n&&\"DEFAULT\"!==n.toUpperCase()?{}:o?{saslSupportedMechs:`${r}.${o}`}:{}}(e.s.options)),{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),s=(new Date).getTime();e.s.pool.write(i,{socketTimeout:e.s.options.connectionTimeout||2e3},function(t,n){e.lastIsMasterMS=(new Date).getTime()-s;const r=function(e,t){return e||(t&&t.result&&0===t.result.ok?new h(t.result):void 0)}(t,n);if(r)return e.destroy(),e.emit(\"error\",r);if(!((i=n.result)&&\"number\"==typeof i.maxWireVersion&&i.maxWireVersion>=2))return e.destroy(),e.emit(\"error\",new h(\"Server at \"+e.s.options.host+\":\"+e.s.options.port+\" reports wire version \"+(n.result.maxWireVersion||0)+\", but this version of Node.js Driver requires at least 2 (MongoDB2.6).\"),e);var i;if(n.result&&n.result.compression){for(var a=0;a<e.s.compression.compressors.length;a++)if(n.result.compression.indexOf(e.s.compression.compressors[a])>-1){e.s.pool.options.agreedCompressor=e.s.compression.compressors[a];break}e.s.compression.zlibCompressionLevel&&(e.s.pool.options.zlibCompressionLevel=e.s.compression.zlibCompressionLevel)}e.initialConnect=!1,e.ismaster=n.result,\"isdbgrid\"===e.ismaster.msg&&(e._type=\"mongos\"),e.wireProtocolHandler=e.ismaster.maxWireVersion>=4?new m:new d,e.s.monitoring&&(e.monitoringProcessId=setTimeout(function e(t){return function(){if(!t.s.pool.isDestroyed()){t.emit(\"monitoring\",t);var n=new p(t.s.bson,\"admin.$cmd\",{ismaster:!0},{numberToSkip:0,numberToReturn:-1,checkKeys:!1,slaveOk:!0}),r=(new Date).getTime();t.s.pool.write(n,{socketTimeout:\"number\"!=typeof t.s.options.connectionTimeout?2e3:t.s.options.connectionTimeout,monitoring:!0},function(n,o){t.lastIsMasterMS=(new Date).getTime()-r,t.s.pool.isDestroyed()||(o&&(t.ismaster=o.result),t.monitoringProcessId=setTimeout(e(t),t.s.monitoringInterval))})}}}(e),e.s.monitoringInterval)),y.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:y.getTopologyType(e)}),e.s.inTopology||y.emitTopologyDescriptionChanged(e,{topologyType:\"Single\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:y.getTopologyType(e)}]}),e.s.logger.isInfo()&&e.s.logger.info(o(\"server %s connected with ismaster [%s]\",e.name,JSON.stringify(e.ismaster))),e.emit(\"connect\",e)})}else{if(T&&-1!==[\"close\",\"timeout\",\"error\",\"parseError\",\"reconnectFailed\"].indexOf(t)&&(e.s.inTopology||e.emit(\"topologyOpening\",{topologyId:e.id}),delete x[e.id]),\"close\"===t&&y.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),\"reconnectFailed\"===t)return e.emit(\"reconnectFailed\",n),void(e.listeners(\"error\").length>0&&e.emit(\"error\",n));if(\"disconnected\"===e.s.pool.state&&e.initialConnect&&-1!==[\"close\",\"timeout\",\"error\",\"parseError\"].indexOf(t))return e.initialConnect=!1,e.emit(\"error\",new f(o(\"failed to connect to server [%s] on first connect [%s]\",e.name,n)));if(\"reconnect\"===t)return y.emitServerDescriptionChanged(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:y.getTopologyType(e)}),e.emit(t,e);e.emit(t,n)}}};function P(e){return e.s.pool?e.s.pool.isDestroyed()?new h(\"server instance pool was destroyed\"):void 0:new h(\"server instance is not connected\")}A.prototype.connect=function(e){if(e=e||{},T&&(x[this.id]=this),this.s.pool&&!this.s.pool.isDisconnected()&&!this.s.pool.isDestroyed())throw new h(o(\"server instance in invalid state %s\",this.s.pool.state));this.s.pool=new l(this,Object.assign(this.s.options,e,{bson:this.s.bson})),this.s.pool.on(\"close\",k(this,\"close\")),this.s.pool.on(\"error\",k(this,\"error\")),this.s.pool.on(\"timeout\",k(this,\"timeout\")),this.s.pool.on(\"parseError\",k(this,\"parseError\")),this.s.pool.on(\"connect\",k(this,\"connect\")),this.s.pool.on(\"reconnect\",k(this,\"reconnect\")),this.s.pool.on(\"reconnectFailed\",k(this,\"reconnectFailed\")),S(this.s.pool,this,[\"commandStarted\",\"commandSucceeded\",\"commandFailed\"]),this.s.inTopology||this.emit(\"topologyOpening\",{topologyId:this.id}),this.emit(\"serverOpening\",{topologyId:-1!==this.s.topologyId?this.s.topologyId:this.id,address:this.name}),e.auth?this.s.pool.connect.apply(this.s.pool,e.auth):this.s.pool.connect()},A.prototype.getDescription=function(){var e=this.ismaster||{},t={type:y.getTopologyType(this),address:this.name};return e.hosts&&(t.hosts=e.hosts),e.arbiters&&(t.arbiters=e.arbiters),e.passives&&(t.passives=e.passives),e.setName&&(t.setName=e.setName),t},A.prototype.lastIsMaster=function(){return this.ismaster},A.prototype.unref=function(){this.s.pool.unref()},A.prototype.isConnected=function(){return!!this.s.pool&&this.s.pool.isConnected()},A.prototype.isDestroyed=function(){return!!this.s.pool&&this.s.pool.isDestroyed()},A.prototype.command=function(e,t,n,r){\"function\"==typeof n&&(r=n,n=(n={})||{});var i=function(e,t){if(P(e),t.readPreference&&!(t.readPreference instanceof s))throw new Error(\"readPreference must be an instance of ReadPreference\")}(this,n);if(i)return r(i);if(n=Object.assign({},n,{wireProtocolCommand:!1}),this.s.logger.isDebug()&&this.s.logger.debug(o(\"executing command [%s] against %s\",JSON.stringify({ns:e,cmd:t,options:u(O,n)}),this.name)),!I(this,\"command\",e,t,n,r)){if(C(this,t))return r(new h(`server ${this.name} does not support collation`));var a=this.wireProtocolHandler.command(this.s.bson,e,t,{},n.topology||{},n);if(a instanceof h)return r(a,null);a.slaveOk=!!n.readPreference&&n.readPreference.slaveOk(),this.s.pool.write(a,{raw:\"boolean\"==typeof n.raw&&n.raw,promoteLongs:\"boolean\"!=typeof n.promoteLongs||n.promoteLongs,promoteValues:\"boolean\"!=typeof n.promoteValues||n.promoteValues,promoteBuffers:\"boolean\"==typeof n.promoteBuffers&&n.promoteBuffers,command:!0,monitoring:\"boolean\"==typeof n.monitoring&&n.monitoring,fullResult:\"boolean\"==typeof n.fullResult&&n.fullResult,requestId:a.requestId,socketTimeout:\"number\"==typeof n.socketTimeout?n.socketTimeout:null,session:n.session||null},r)}},A.prototype.insert=function(e,t,n,r){\"function\"==typeof n&&(r=n,n=(n={})||{});var o=P(this);return o?r(o):I(this,\"insert\",e,t,n,r)?void 0:(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.insert(this.s.pool,e,this.s.bson,t,n,r))},A.prototype.update=function(e,t,n,r){\"function\"==typeof n&&(r=n,n=(n={})||{});var o=P(this);return o?r(o):I(this,\"update\",e,t,n,r)?void 0:C(this,n)?r(new h(`server ${this.name} does not support collation`)):(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.update(this.s.pool,e,this.s.bson,t,n,r))},A.prototype.remove=function(e,t,n,r){\"function\"==typeof n&&(r=n,n=(n={})||{});var o=P(this);return o?r(o):I(this,\"remove\",e,t,n,r)?void 0:C(this,n)?r(new h(`server ${this.name} does not support collation`)):(t=Array.isArray(t)?t:[t],this.wireProtocolHandler.remove(this.s.pool,e,this.s.bson,t,n,r))},A.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,n.topology||this,this.s.options)},A.prototype.logout=function(e,t){this.s.pool.logout(e,t)},A.prototype.auth=function(e,t){\"default\"===e&&(e=function(e){if(e){if(Array.isArray(e.saslSupportedMechs))return e.saslSupportedMechs.indexOf(\"SCRAM-SHA-256\")>=0?\"scram-sha-256\":\"scram-sha-1\";if(e.maxWireVersion>=3)return\"scram-sha-1\"}return\"mongocr\"}(this.ismaster));var n=Array.prototype.slice.call(arguments,0);n[0]=e;var r=n[n.length-1];if(!I(this,\"auth\",t,n,{},r))return this.lastIsMaster()&&this.lastIsMaster().arbiterOnly?r(null,!0):void this.s.pool.auth.apply(this.s.pool,n)},A.prototype.equals=function(e){return\"string\"==typeof e?this.name.toLowerCase()===e.toLowerCase():!!e.name&&this.name.toLowerCase()===e.name.toLowerCase()},A.prototype.connections=function(){return this.s.pool.allConnections()},A.prototype.selectServer=function(e,t,n){\"function\"==typeof e&&void 0===n&&(n=e,e=void 0,t={}),\"function\"==typeof t&&(n=t,t=e,e=void 0),n(null,this)};var R=[\"close\",\"error\",\"timeout\",\"parseError\",\"connect\"];A.prototype.destroy=function(e){if(!this._destroyed){e=e||{};var t=this;T&&delete x[this.id],this.monitoringProcessId&&clearTimeout(this.monitoringProcessId),t.s.pool?(e.emitClose&&t.emit(\"close\",t),e.emitDestroy&&t.emit(\"destroy\",t),R.forEach(function(e){t.s.pool.removeAllListeners(e)}),t.listeners(\"serverClosed\").length>0&&t.emit(\"serverClosed\",{topologyId:-1!==t.s.topologyId?t.s.topologyId:t.id,address:t.name}),t.listeners(\"topologyClosed\").length>0&&!t.s.inTopology&&t.emit(\"topologyClosed\",{topologyId:t.id}),t.s.logger.isDebug()&&t.s.logger.debug(o(\"destroy called on server %s\",t.name)),this.s.pool.destroy(e.force),this._destroyed=!0):this._destroyed=!0}},e.exports=A},U18u:function(e,t,n){\"use strict\";const r=n(!function(){var e=new Error(\"Cannot find module 'os'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(\"MCLT\").format,i=n(\"R4vf\"),s=n(\"hwdV\").Buffer;function a(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}var u=n(\"YlWV\").version,c=o(\"Node.js %s, %s\",process.version,r.endianness()),l=r.type(),p=process.platform,h=process.arch,f=r.release();function d(e){return JSON.parse(JSON.stringify(e))}var m=function(e,t){e.listeners(\"serverDescriptionChanged\").length>0&&(e.emit(\"serverDescriptionChanged\",{topologyId:-1!==e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:function(e){return e.s.serverDescription||(e.s.serverDescription={address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}),e.s.serverDescription}(e),newDescription:t}),e.s.serverDescription=t)},g=function(e,t){return t||(t=e.ismaster),t?t.ismaster&&\"isdbgrid\"===t.msg?\"Mongos\":t.ismaster&&!t.hosts?\"Standalone\":t.ismaster?\"RSPrimary\":t.secondary?\"RSSecondary\":t.arbiterOnly?\"RSArbiter\":\"Unknown\":\"Unknown\"},y=function(e){return function(t){if(\"destroyed\"!==e.s.state){var n=(new Date).getTime();a(e,\"serverHeartbeatStarted\",{connectionId:e.name}),e.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0},function(r,o){if(r)a(e,\"serverHeartbeatFailed\",{durationMS:i,failure:r,connectionId:e.name});else{e.emit(\"ismaster\",o,e);var i=(new Date).getTime()-n;a(e,\"serverHeartbeatSucceeded\",{durationMS:i,reply:o.result,connectionId:e.name}),function(e,t,n){var r=g(e,t);return g(e,n)!==r}(e,e.s.ismaster,o.result)&&m(e,{address:e.name,arbiters:[],hosts:[],passives:[],type:e.s.inTopology?g(e):\"Standalone\"}),e.s.ismaster=o.result,e.s.isMasterLatencyMS=i}if(\"function\"==typeof t)return t(r,o);e.s.inquireServerStateTimeout=setTimeout(y(e),e.s.haInterval)})}}};e.exports.SessionMixins={endSessions:function(e,t){Array.isArray(e)||(e=[e]),this.command(\"admin.$cmd\",{endSessions:e},{readPreference:i.primaryPreferred},()=>{\"function\"==typeof t&&t()})}},e.exports.resolveClusterTime=function(e,t){null==e.clusterTime?e.clusterTime=t:t.clusterTime.greaterThan(e.clusterTime.clusterTime)&&(e.clusterTime=t)},e.exports.inquireServerState=y,e.exports.getTopologyType=g,e.exports.emitServerDescriptionChanged=m,e.exports.emitTopologyDescriptionChanged=function(e,t){e.listeners(\"topologyDescriptionChanged\").length>0&&(e.emit(\"topologyDescriptionChanged\",{topologyId:-1!==e.s.topologyId?e.s.topologyId:e.id,address:e.name,previousDescription:function(e){return e.s.topologyDescription||(e.s.topologyDescription={topologyType:\"Unknown\",servers:[{address:e.name,arbiters:[],hosts:[],passives:[],type:\"Unknown\"}]}),e.s.topologyDescription}(e),newDescription:t}),e.s.serverDescription=t)},e.exports.cloneOptions=function(e){var t={};for(var n in e)t[n]=e[n];return t},e.exports.createClientInfo=function(e){var t=e.clientInfo?d(e.clientInfo):{driver:{name:\"nodejs-core\",version:u},os:{type:l,name:p,architecture:h,version:f}};if(t.platform&&-1===t.platform.indexOf(\"mongodb-core\")?t.platform=o(\"%s, mongodb-core: %s\",t.platform,u):t.platform||(t.platform=c),e.appname){var n=s.from(e.appname),r=n.length>128?n.slice(0,128).toString(\"utf8\"):e.appname;t.application={name:r}}return t},e.exports.createCompressionInfo=function(e){return e.compression&&e.compression.compressors?(e.compression.compressors.forEach(function(e){if(\"snappy\"!==e&&\"zlib\"!==e)throw new Error(\"compressors must be at least one of snappy or zlib\")}),e.compression.compressors):[]},e.exports.clone=d,e.exports.diff=function(e,t){var n={servers:[]};e||(e={servers:[]});for(var r=0;r<e.servers.length;r++){for(var o=!1,i=0;i<t.servers.length;i++)if(t.servers[i].address.toLowerCase()===e.servers[r].address.toLowerCase()){o=!0;break}o||n.servers.push({address:e.servers[r].address,from:e.servers[r].type,to:\"Unknown\"})}for(i=0;i<t.servers.length;i++){for(o=!1,r=0;r<e.servers.length;r++)if(e.servers[r].address.toLowerCase()===t.servers[i].address.toLowerCase()){o=!0;break}o||n.servers.push({address:t.servers[i].address,from:\"Unknown\",to:t.servers[i].type})}for(r=0;r<e.servers.length;r++){var s=e.servers[r];for(i=0;i<t.servers.length;i++){var a=t.servers[i];s.address.toLowerCase()===a.address.toLowerCase()&&s.type!==a.type&&n.servers.push({address:s.address,from:s.type,to:a.type})}}return n},e.exports.Interval=function(e,t){var n=!1;this.start=function(){return this.isRunning()||(n=setInterval(e,t)),this},this.stop=function(){return clearInterval(n),n=!1,this},this.isRunning=function(){return!1!==n}},e.exports.Timeout=function(e,t){var n=!1;this.start=function(){return this.isRunning()||(n=setTimeout(e,t)),this},this.stop=function(){return clearTimeout(n),n=!1,this},this.isRunning=function(){return!(n&&n._called||!1===n)}},e.exports.isRetryableWritesSupported=function(e){return!(e.lastIsMaster().maxWireVersion<6||!e.logicalSessionTimeoutMinutes)}},UmKr:function(e,t,n){\"use strict\";var r=n(\"q64v\"),o=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),s=n(\"MCLT\"),a=n(\"hwdV\").Buffer,u=26;function c(e,t,n){if(n=n||{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=t,this.files=e.s._filesCollection,this.options=n,this.done=!1,this.id=n.id?n.id:r.BSON.ObjectId(),this.chunkSizeBytes=this.options.chunkSizeBytes,this.bufToStore=a.alloc(this.chunkSizeBytes),this.length=0,this.md5=!n.disableMD5&&o.createHash(\"md5\"),this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1,promiseLibrary:this.bucket.s.promiseLibrary},!this.bucket.s.calledOpenUploadStream){this.bucket.s.calledOpenUploadStream=!0;var i=this;!function(e,t){e.files.findOne({},{_id:1},function(n,r){return n?t():r?t():void e.files.listIndexes().toArray(function(n,r){if(n){if(n.code===u){var o={filename:1,uploadDate:1};return void e.files.createIndex(o,{background:!1},function(n){if(n)return t();h(e,t)})}return t()}var i=!1;if(r.forEach(function(e){2===Object.keys(e.key).length&&1===e.key.filename&&1===e.key.uploadDate&&(i=!0)}),i)h(e,t);else{o={filename:1,uploadDate:1};var s=d(e);s.background=!1,e.files.createIndex(o,s,function(n){if(n)return t();h(e,t)})}})})}(this,function(){i.bucket.s.checkedIndexes=!0,i.bucket.emit(\"index\")})}}function l(e,t,n){if(!e.state.errored){if(e.state.errored=!0,n)return n(t);e.emit(\"error\",t)}}function p(e,t,n){return{_id:r.BSON.ObjectId(),files_id:e,n:t,data:n}}function h(e,t){e.chunks.listIndexes().toArray(function(n,r){if(n){if(n.code===u){var o={files_id:1,n:1};return void e.chunks.createIndex(o,{background:!1,unique:!0},function(e){if(e)return t(e);t()})}return t(n)}var i=!1;if(r.forEach(function(e){e.key&&2===Object.keys(e.key).length&&1===e.key.files_id&&1===e.key.n&&(i=!0)}),i)t();else{o={files_id:1,n:1};var s=d(e);s.background=!1,s.unique=!0,e.chunks.createIndex(o,s,function(e){if(e)return t(e);t()})}})}function f(e,t){if(e.done)return!0;if(e.state.streamEnd&&0===e.state.outstandingRequests&&!e.state.errored){e.done=!0;var n=(r=e.id,o=e.length,i=e.chunkSizeBytes,s=e.md5&&e.md5.digest(\"hex\"),a=e.filename,u=e.options.contentType,c=e.options.aliases,p=e.options.metadata,h={_id:r,length:o,chunkSize:i,uploadDate:new Date,filename:a},s&&(h.md5=s),u&&(h.contentType=u),c&&(h.aliases=c),p&&(h.metadata=p),h);return!y(e,t)&&(e.files.insertOne(n,d(e),function(r){if(r)return l(e,r,t);e.emit(\"finish\",n)}),!0)}var r,o,i,s,a,u,c,p,h;return!1}function d(e){var t={};return e.options.writeConcern&&(t.w=e.options.writeConcern.w,t.wtimeout=e.options.writeConcern.wtimeout,t.j=e.options.writeConcern.j),t}function m(e,t){return e.bucket.s.checkedIndexes?t(!1):(e.bucket.once(\"index\",function(){t(!0)}),!0)}function g(e,t){if(0===e.pos)return f(e,t);++e.state.outstandingRequests;var n=a.alloc(e.pos);e.bufToStore.copy(n,0,0,e.pos),e.md5&&e.md5.update(n);var r=p(e.id,e.n,n);if(y(e,t))return!1;e.chunks.insertOne(r,d(e),function(t){if(t)return l(e,t);--e.state.outstandingRequests,f(e)})}function y(e,t){return!!e.state.aborted&&(\"function\"==typeof t&&t(new Error(\"this stream has been aborted\")),!0)}e.exports=c,s.inherits(c,i.Writable),c.prototype.write=function(e,t,n){var r=this;return m(this,function(){return function(e,t,n,r){if(y(e,r))return!1;var o=a.isBuffer(t)?t:a.from(t,n);if(e.length+=o.length,e.pos+o.length<e.chunkSizeBytes)return o.copy(e.bufToStore,e.pos),e.pos+=o.length,r&&r(),!0;for(var i=o.length,s=e.chunkSizeBytes-e.pos,u=Math.min(s,o.length),c=0;i>0;){var h=o.length-i;if(o.copy(e.bufToStore,e.pos,h,h+u),e.pos+=u,0==(s-=u)){e.md5&&e.md5.update(e.bufToStore);var m=p(e.id,e.n,e.bufToStore);if(++e.state.outstandingRequests,++c,y(e,r))return!1;e.chunks.insertOne(m,d(e),function(t){if(t)return l(e,t);--e.state.outstandingRequests,--c||(e.emit(\"drain\",m),r&&r(),f(e))}),s=e.chunkSizeBytes,e.pos=0,++e.n}i-=u,u=Math.min(s,i)}return!1}(r,e,t,n)})},c.prototype.abort=function(e){if(this.state.streamEnd){var t=new Error(\"Cannot abort a stream that has already completed\");return\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t)}if(this.state.aborted)return t=new Error(\"Cannot call abort() on a stream twice\"),\"function\"==typeof e?e(t):this.state.promiseLibrary.reject(t);this.state.aborted=!0,this.chunks.deleteMany({files_id:this.id},function(t){\"function\"==typeof e&&e(t)})},c.prototype.end=function(e,t,n){var r=this;\"function\"==typeof e?(n=e,e=null,t=null):\"function\"==typeof t&&(n=t,t=null),y(this,n)||(this.state.streamEnd=!0,n&&this.once(\"finish\",function(e){n(null,e)}),e?this.write(e,t,function(){g(r)}):m(this,function(){g(r)}))}},Ut3Q:function(e,t,n){\"use strict\";const r=n(\"xAVX\").buildCountCommand,o=n(\"Bx6p\").formattedOrderClause,i=n(\"Bx6p\").handleCallback,s=n(\"q64v\").MongoError,a=Array.prototype.push;function u(e,t){if(0!==e.bufferedCount())return e._next(t),u}function c(e,t){const r=n(\"q6MH\");if(e.s.state===r.CLOSED||e.isDead&&e.isDead())return i(t,s.create({message:\"Cursor is closed\",driver:!0}));if(e.s.state===r.INIT&&e.s.cmd.sort)try{e.s.cmd.sort=o(e.s.cmd.sort)}catch(e){return i(t,e)}e._next((n,o)=>{if(e.s.state=r.OPEN,n)return i(t,n);i(t,null,o)})}e.exports={count:function(e,t,n,o){t&&(\"number\"==typeof e.cursorSkip()&&(n.skip=e.cursorSkip()),\"number\"==typeof e.cursorLimit()&&(n.limit=e.cursorLimit())),n.readPreference&&e.setReadPreference(n.readPreference),\"number\"!=typeof n.maxTimeMS&&e.s.cmd&&\"number\"==typeof e.s.cmd.maxTimeMS&&(n.maxTimeMS=e.s.cmd.maxTimeMS);let i={};i.skip=n.skip,i.limit=n.limit,i.hint=n.hint,i.maxTimeMS=n.maxTimeMS;const s=e.s.ns.indexOf(\".\");i.collectionName=e.s.ns.substr(s+1);const a=r(e,e.s.cmd.query,i);e.server=e.topology.s.coreTopology,e.s.topology.command(`${e.s.ns.substr(0,s)}.$cmd`,a,e.s.options,(e,t)=>{o(e,t?t.result.n:null)})},each:function e(t,r){const o=n(\"q6MH\");if(!r)throw s.create({message:\"callback is mandatory\",driver:!0});if(t.isNotified())return;if(t.s.state===o.CLOSED||t.isDead())return i(r,s.create({message:\"Cursor is closed\",driver:!0}));t.s.state===o.INIT&&(t.s.state=o.OPEN);let a=null;if(t.bufferedCount()>0){for(;a=u(t,r);)a(t,r);e(t,r)}else t.next((n,o)=>n?i(r,n):null==o?t.close({skipKillCursors:!0},()=>i(r,null,null)):void(!1!==i(r,null,o)&&e(t,r)))},hasNext:function(e,t){const r=n(\"q6MH\");return e.s.currentDoc?t(null,!0):e.isNotified()?t(null,!1):void c(e,(n,o)=>n?t(n,null):e.s.state===r.CLOSED||e.isDead()?t(null,!1):o?(e.s.currentDoc=o,void t(null,!0)):t(null,!1))},next:function(e,t){if(e.s.currentDoc){const n=e.s.currentDoc;return e.s.currentDoc=null,t(null,n)}c(e,t)},toArray:function(e,t){const r=n(\"q6MH\"),o=[];e.rewind(),e.s.state=r.INIT;const s=()=>{e._next((n,r)=>{if(n)return e._endSession?e._endSession(()=>i(t,n)):i(t,n);if(null==r)return e.close({skipKillCursors:!0},()=>i(t,null,o));if(o.push(r),e.bufferedCount()>0){let t=e.readBufferedDocuments(e.bufferedCount());e.s.transforms&&\"function\"==typeof e.s.transforms.doc&&(t=t.map(e.s.transforms.doc)),a.apply(o,t)}s()})};s()}}},VHch:function(e,t){function n(e){if(!(this instanceof n))return new n(e);this.length=0,this.updates=[],this.pages=new Array(16),this.pageSize=e||1024}function r(e,t,n){for(var r=2*e.length;r<=t;)r*=2;for(var o=new Array(r),i=0;i<n;i++)o[i]=e[i];return o}function o(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t}function i(e,t){this.offset=e*t.length,this.buffer=t,this.updated=!1}e.exports=n,n.prototype.updated=function(e){!e.updated&&this.updates&&(e.updated=!0,this.updates.push(e))},n.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var e=this.updates.pop();return e.updated=!1,e},n.prototype.get=function(e,t){if(e>=this.pages.length){if(t)return;this.pages=r(this.pages,e,this.length)}var n=this.pages[e];return n||t||(n=this.pages[e]=new i(e,o(this.pageSize)),e>=this.length&&(this.length=e+1)),n},n.prototype.set=function(e,t){if(e>=this.pages.length&&(this.pages=r(this.pages,e,this.length)),e>=this.length&&(this.length=e+1),t){var n=this.pages[e],s=function(e,t){if(e.length===t)return e;if(e.length>t)return e.slice(0,t);var n=o(t);return e.copy(n),n}(t,this.pageSize);n?n.buffer=s:this.pages[e]=new i(e,s)}else this.pages[e]=void 0},n.prototype.toBuffer=function(){for(var e=new Array(this.length),t=o(this.pageSize),n=0;n<e.length;n++)e[n]=this.pages[n]?this.pages[n].buffer:t;return Buffer.concat(e)}},VNB6:function(e,t){e.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},VeP1:function(e,t,n){\"use strict\";const r=n(\"MCLT\").inherits,o=n(\"q64v\").MongoError,i=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).Readable,s=n(\"q6MH\");var a=function(e,t,n,r,o,u){s.apply(this,Array.prototype.slice.call(arguments,0));var c=a.INIT,l=r.promiseLibrary||Promise;i.call(this,{objectMode:!0}),this.s={maxTimeMS:null,state:c,streamOptions:{},bson:e,ns:t,cmd:n,options:r,topology:o,topologyOptions:u,promiseLibrary:l,session:r.session}};for(var u in r(a,i),s.prototype)a.prototype[u]=s.prototype[u];a.prototype.batchSize=function(e){if(this.s.state===a.CLOSED||this.isDead())throw o.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw o.create({message:\"batchSize requires an integer\",drvier:!0});return this.s.cmd.cursor&&(this.s.cmd.cursor.batchSize=e),this.setCursorBatchSize(e),this},a.prototype.geoNear=function(e){return this.s.cmd.pipeline.push({$geoNear:e}),this},a.prototype.group=function(e){return this.s.cmd.pipeline.push({$group:e}),this},a.prototype.limit=function(e){return this.s.cmd.pipeline.push({$limit:e}),this},a.prototype.match=function(e){return this.s.cmd.pipeline.push({$match:e}),this},a.prototype.maxTimeMS=function(e){return this.s.topology.lastIsMaster().minWireVersion>2&&(this.s.cmd.maxTimeMS=e),this},a.prototype.out=function(e){return this.s.cmd.pipeline.push({$out:e}),this},a.prototype.project=function(e){return this.s.cmd.pipeline.push({$project:e}),this},a.prototype.lookup=function(e){return this.s.cmd.pipeline.push({$lookup:e}),this},a.prototype.redact=function(e){return this.s.cmd.pipeline.push({$redact:e}),this},a.prototype.skip=function(e){return this.s.cmd.pipeline.push({$skip:e}),this},a.prototype.sort=function(e){return this.s.cmd.pipeline.push({$sort:e}),this},a.prototype.unwind=function(e){return this.s.cmd.pipeline.push({$unwind:e}),this},a.prototype.getLogger=function(){return this.logger},a.prototype.get=a.prototype.toArray,a.INIT=0,a.OPEN=1,a.CLOSED=2,e.exports=a},VhZv:function(e,t,n){\"use strict\";var r=n(!function(){var e=new Error(\"Cannot find module 'path'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(!function(){var e=new Error(\"Cannot find module 'module'\");throw e.code=\"MODULE_NOT_FOUND\",e}());e.exports=function(e,t){if(\"string\"!=typeof e||\"string\"!=typeof t)throw new TypeError(\"Expected `fromDir` and `moduleId` to be a string\");e=r.resolve(e);var n=r.join(e,\"noop.js\");try{return o._resolveFilename(t,{id:n,filename:n,paths:o._nodeModulePaths(e)})}catch(e){return null}}},Vx2P:function(e,t,n){(function(e){var t=n(!function(){var e=new Error(\"Cannot find module 'path'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),r=n(!function(){var e=new Error(\"Cannot find module 'fs'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(\"MCLT\").format,i=n(\"VhZv\"),s=n(\"jWEn\"),a=r.existsSync||t.existsSync,u=function(e){for(var n=!1;!n;)if(a(e+\"/package.json\"))n=e;else{if(\"/\"===e)return!1;e=t.dirname(e)}return e},c=function(t,a){(a=a||{}).strict=\"boolean\"!=typeof a.strict||a.strict;var c=function(t){for(var n=e,i=!1;n;){var s=u(s=n.filename);if(s){var a=JSON.parse(r.readFileSync(o(\"%s/package.json\",s))),c=t.split(/\\//);if(a.peerOptionalDependencies&&(!a.peerOptionalDependencies||a.peerOptionalDependencies[c[0]])){i=!0;break}n=n.parent}else n=n.parent}if(!i)throw new Error(o(\"no optional dependency [%s] defined in peerOptionalDependencies in any package.json\",c[0]));return{object:a,parts:c}}(t),l=c.parts,p=c.object.peerOptionalDependencies[l[0]],h=void 0,f=t;try{h=n(\"LDTe\")(f)}catch(e){try{if(null==(f=i(process.cwd(),t)))return;h=n(\"LDTe\")(f)}catch(e){if(\"MODULE_NOT_FOUND\"===e.code)return}}var d=u(n(\"LDTe\").resolve(f));if(!d)throw new Error(\"package.json can not be located\");var m=JSON.parse(r.readFileSync(o(\"%s/package.json\",d))).version;if(0==s.satisfies(m,p)&&a.strict){var g=new Error(o(\"optional dependency [%s] found but version [%s] did not satisfy constraint [%s]\",l[0],m,p));throw g.code=\"OPTIONAL_MODULE_NOT_FOUND\",g}return h};c.exists=function(e){try{return void 0!==c(e)}catch(e){return!1}},e.exports=c}).call(this,n(\"YuTi\")(e))},W30b:function(e,t,n){\"use strict\";var r=n(\"qL64\"),o=n(\"MqoK\"),i=n(\"OgGp\"),s=n(\"B2Iy\"),a=n(\"czSF\"),u=n(\"vXaj\"),c=n(\"cfbU\"),l=n(\"v0W3\"),p=n(\"kHNH\"),h=n(\"qchN\"),f=n(\"Oxqu\"),d=n(\"kpKE\"),m=n(\"/iOP\"),g=n(\"9k0L\"),y=n(\"tmbX\"),v=n(\"z64Y\"),b=n(\"L7+4\"),w=new Buffer(17825792),_=function(){};_.prototype.serialize=function(e,t){var n=\"boolean\"==typeof(t=t||{}).checkKeys&&t.checkKeys,r=\"boolean\"==typeof t.serializeFunctions&&t.serializeFunctions,o=\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined,i=\"number\"==typeof t.minInternalBufferSize?t.minInternalBufferSize:17825792;w.length<i&&(w=new Buffer(i));var s=v(w,e,n,0,0,r,o,[]),a=new Buffer(s);return w.copy(a,0,0,a.length),a},_.prototype.serializeWithBufferAndIndex=function(e,t,n){return v(t,e,\"boolean\"==typeof(n=n||{}).checkKeys&&n.checkKeys,(\"number\"==typeof n.index?n.index:0)||0,0,\"boolean\"==typeof n.serializeFunctions&&n.serializeFunctions,\"boolean\"!=typeof n.ignoreUndefined||n.ignoreUndefined)-1},_.prototype.deserialize=function(e,t){return y(e,t)},_.prototype.calculateObjectSize=function(e,t){return b(e,\"boolean\"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,\"boolean\"!=typeof t.ignoreUndefined||t.ignoreUndefined)},_.prototype.deserializeStream=function(e,t,n,r,o,i){i=null!=i?i:{};for(var s=t,a=0;a<n;a++){var u=e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24;i.index=s,r[o+a]=this.deserialize(e,i),s+=u}return s},_.BSON_INT32_MAX=2147483647,_.BSON_INT32_MIN=-2147483648,_.BSON_INT64_MAX=Math.pow(2,63)-1,_.BSON_INT64_MIN=-Math.pow(2,63),_.JS_INT_MAX=9007199254740992,_.JS_INT_MIN=-9007199254740992,_.BSON_DATA_NUMBER=1,_.BSON_DATA_STRING=2,_.BSON_DATA_OBJECT=3,_.BSON_DATA_ARRAY=4,_.BSON_DATA_BINARY=5,_.BSON_DATA_OID=7,_.BSON_DATA_BOOLEAN=8,_.BSON_DATA_DATE=9,_.BSON_DATA_NULL=10,_.BSON_DATA_REGEXP=11,_.BSON_DATA_CODE=13,_.BSON_DATA_SYMBOL=14,_.BSON_DATA_CODE_W_SCOPE=15,_.BSON_DATA_INT=16,_.BSON_DATA_TIMESTAMP=17,_.BSON_DATA_LONG=18,_.BSON_DATA_MIN_KEY=255,_.BSON_DATA_MAX_KEY=127,_.BSON_BINARY_SUBTYPE_DEFAULT=0,_.BSON_BINARY_SUBTYPE_FUNCTION=1,_.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,_.BSON_BINARY_SUBTYPE_UUID=3,_.BSON_BINARY_SUBTYPE_MD5=4,_.BSON_BINARY_SUBTYPE_USER_DEFINED=128,e.exports=_,e.exports.Code=p,e.exports.Map=r,e.exports.Symbol=c,e.exports.BSON=_,e.exports.DBRef=m,e.exports.Binary=g,e.exports.ObjectID=a,e.exports.Long=o,e.exports.Timestamp=s,e.exports.Double=i,e.exports.Int32=l,e.exports.MinKey=f,e.exports.MaxKey=d,e.exports.BSONRegExp=u,e.exports.Decimal128=h},W3LV:function(e,t,n){\"use strict\";const r=n(\"MCLT\").inherits,o=n(\"MCLT\").format,i=n(\"+qE3\").EventEmitter,s=n(\"R4vf\"),a=n(\"Ch8i\"),u=n(\"M9st\").retrieveBSON,c=n(\"0C3t\"),l=n(\"OkLf\").MongoError,p=n(\"Tvfz\"),h=n(\"ewmr\"),f=n(\"U18u\").clone,d=n(\"U18u\").Timeout,m=n(\"U18u\").Interval,g=n(\"U18u\").createClientInfo,y=n(\"U18u\").SessionMixins,v=n(\"U18u\").isRetryableWritesSupported,b=n(\"6uN0\").relayEvents,w=n(\"OkLf\").isRetryableError,_=n(\"WN5W\").defaultAuthProviders;var S=u(),C=\"disconnected\",O=\"connecting\",E=\"connected\",T=\"unreferenced\",x=\"destroyed\";function N(e,t){var n={disconnected:[O,x,C],connecting:[O,x,E,C],connected:[E,C,x,T],unreferenced:[T,x],destroyed:[x]}[e.state];n&&-1!==n.indexOf(t)?e.state=t:e.s.logger.error(o(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var A=1,I=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],k=function(e,t){var n=this;if(t=t||{},!Array.isArray(e))throw new l(\"seedlist must be an array\");if(0===e.length)throw new l(\"seedlist must contain at least one entry\");e.forEach(function(e){if(\"string\"!=typeof e.host||\"number\"!=typeof e.port)throw new l(\"seedlist entry must contain a host and port\")}),i.call(this),this.id=A++;var r=t.localThresholdMS||15;t.acceptableLatency&&(r=t.acceptableLatency);var s=c(\"ReplSet\",t);this.s={options:Object.assign({},t),bson:t.bson||new S([S.Binary,S.Code,S.DBRef,S.Decimal128,S.Double,S.Int32,S.Long,S.Map,S.MaxKey,S.MinKey,S.ObjectId,S.BSONRegExp,S.Symbol,S.Timestamp]),Cursor:t.cursorFactory||a,logger:s,seedlist:e,replicaSetState:new h({id:this.id,setName:t.setName,acceptableLatency:r,heartbeatFrequencyMS:t.haInterval?t.haInterval:1e4,logger:s}),connectingServers:[],haInterval:t.haInterval?t.haInterval:1e4,minHeartbeatFrequencyMS:500,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,clientInfo:g(t),authenticationContexts:[]},this.s.replicaSetState.on(\"topologyDescriptionChanged\",function(e){n.emit(\"topologyDescriptionChanged\",e)}),this.s.logger.isWarn()&&0!==this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(o(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||_(this.s.bson),[\"joined\",\"left\"].forEach(function(e){n.s.replicaSetState.on(e,function(t,r){n.emit(e,t,r)})}),this.initialConnectState={connect:!1,fullsetup:!1,all:!1},this.state=C,this.haTimeoutId=null,this.authenticating=!1,this.ismaster=null,this.intervalIds=[],this.clusterTime=null};function P(e){e.s.replicaSetState.hasPrimaryAndSecondary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute():e.s.replicaSetState.hasPrimary()&&e.s.disconnectHandler?e.s.disconnectHandler.execute({executePrimary:!0}):e.s.replicaSetState.hasSecondary()&&e.s.disconnectHandler&&e.s.disconnectHandler.execute({executeSecondary:!0})}function R(e,t,n){var r=t.length,o=null,i=function(e,t){return function(i){var s=this;if(r-=1,e.state===x||e.state===T)return this.destroy({force:!0});if(\"connect\"!==t||e.authenticating)\"connect\"===t&&e.authenticating?this.destroy({force:!0}):\"error\"===t&&(o=i);else{if(e.state===x||e.state===T)return s.destroy({force:!0});j(e,s,function(){if(e.state===x||e.state===T)return s.destroy({force:!0});if(e.s.replicaSetState.update(s)){s.lastIsMaster()&&s.lastIsMaster().ismaster&&(e.ismaster=s.lastIsMaster());for(var t=0;t<I.length;t++)s.removeAllListeners(I[t]);s.on(\"error\",L(e,\"error\")),s.on(\"close\",L(e,\"close\")),s.on(\"timeout\",L(e,\"timeout\")),s.on(\"parseError\",L(e,\"parseError\")),M(s.lastIsMaster().me,e,{}),P(e)}else s.destroy({force:!0})})}P(e),0===r&&n(o)}};if(0===r)return n();function s(t,n){setTimeout(function(){if(e.state!==x&&e.state!==T){var n=new p(Object.assign({},e.s.options,{host:t.split(\":\")[0],port:parseInt(t.split(\":\")[1],10),authProviders:e.authProviders,reconnect:!1,monitoring:!1,parent:e,clientInfo:f(e.s.clientInfo)}));n.once(\"connect\",i(e,\"connect\")),n.once(\"close\",i(e,\"close\")),n.once(\"timeout\",i(e,\"timeout\")),n.once(\"error\",i(e,\"error\")),n.once(\"parseError\",i(e,\"parseError\")),n.on(\"serverOpening\",t=>e.emit(\"serverOpening\",t)),n.on(\"serverDescriptionChanged\",t=>e.emit(\"serverDescriptionChanged\",t)),n.on(\"serverClosed\",t=>e.emit(\"serverClosed\",t)),b(n,e,[\"commandStarted\",\"commandSucceeded\",\"commandFailed\"]),n.connect(e.s.connectOptions)}},n)}for(var a=0;a<t.length;a++)s(t[a],a)}r(k,i),Object.assign(k.prototype,y),Object.defineProperty(k.prototype,\"type\",{enumerable:!0,get:function(){return\"replset\"}}),Object.defineProperty(k.prototype,\"parserType\",{enumerable:!0,get:function(){return S.native?\"c++\":\"js\"}}),Object.defineProperty(k.prototype,\"logicalSessionTimeoutMinutes\",{enumerable:!0,get:function(){return this.s.replicaSetState.logicalSessionTimeoutMinutes||null}});var M=function(e,t,n){if(!n.haInterval)for(var r=0;r<t.intervalIds.length;r++)if(t.intervalIds[r].__host===e)return;var o=n.haInterval?d:m,i=new o(function(){if(t.state!==x&&t.state!==T){var n=t.s.replicaSetState.get(e);return n?function(e,t,n){var r=(new Date).getTime();V(e,\"serverHeartbeatStarted\",{connectionId:t.name}),t.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:e.s.options.connectionTimeout||2e3},function(o,i){if(e.state===x||e.state===T)return t.destroy({force:!0}),n(o);var s=(new Date).getTime()-r,a=process.hrtime();t.lastUpdateTime=1e3*a[0]+Math.round(a[1]/1e3),o?(V(e,\"serverHeartbeatFailed\",{durationMS:s,failure:o,connectionId:t.name}),e.s.replicaSetState.remove(t)):(t.ismaster=i.result,t.ismaster.lastWrite&&t.ismaster.lastWrite.lastWriteDate&&(t.lastWriteDate=t.ismaster.lastWrite.lastWriteDate.getTime()),-1===t.lastIsMasterMS?t.lastIsMasterMS=s:t.lastIsMasterMS&&(t.lastIsMasterMS=.2*s+.8*t.lastIsMasterMS),e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),V(e,\"serverHeartbeatSucceeded\",{durationMS:s,reply:i.result,connectionId:t.name})),e.s.replicaSetState.updateServerMaxStaleness(t,e.s.haInterval),n(o)})}(t,n,function(e){e||(t.state!==x&&t.state!==T?(t.intervalIds=t.intervalIds.filter(function(e){return e.isRunning()}),o===d?t.state===O&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=E,process.nextTick(function(){t.emit(\"connect\",t)}),D(t,{})):t.state===C&&(t.s.replicaSetState.hasSecondary()&&t.s.options.secondaryOnlyConnectionAllowed||t.s.replicaSetState.hasPrimary())&&(t.state=E,P(t),process.nextTick(function(){t.emit(\"reconnect\",t)})),t.initialConnectState.connect&&!t.initialConnectState.fullsetup&&t.s.replicaSetState.hasPrimaryAndSecondary()&&(t.initialConnectState.fullsetup=!0,t.initialConnectState.all=!0,process.nextTick(function(){t.emit(\"fullsetup\",t),t.emit(\"all\",t)}))):i.stop())}):void 0}i.stop()},n.haInterval?n.haInterval:t.s.haInterval);i.start(),i.__host=e,t.intervalIds.push(i)};function D(e,t){if(e.state!==x&&e.state!==T){t=t||{};var n=Object.keys(e.s.replicaSetState.set),r=t.haInterval?t.haInterval:e.s.haInterval;if((t.haInterval?d:m)===d)return R(e,e.s.replicaSetState.unknownServers,function(r){if(e.state!==x&&e.state!==T){if(!e.s.replicaSetState.hasPrimary()&&!e.s.options.secondaryOnlyConnectionAllowed)return r?e.emit(\"error\",r):(e.emit(\"error\",new l(\"no primary found in replicaset or invalid replica set name\")),e.destroy({force:!0}));if(!e.s.replicaSetState.hasSecondary()&&e.s.options.secondaryOnlyConnectionAllowed)return r?e.emit(\"error\",r):(e.emit(\"error\",new l(\"no secondary found in replicaset or invalid replica set name\")),e.destroy({force:!0}));for(var o=0;o<n.length;o++)M(n[o],e,t)}});for(var o=0;o<n.length;o++)M(n[o],e,t);var i=e.s.replicaSetState.hasPrimary()?r:e.s.minHeartbeatFrequencyMS;e.intervalIds.push(new d(function e(t){return function(){t.state!==x&&t.state!==T&&R(t,t.s.replicaSetState.unknownServers,function(){var n=t.s.replicaSetState.hasPrimary()?r:t.s.minHeartbeatFrequencyMS;t.intervalIds.push(new d(e(t),n).start())})}}(e),i).start())}}function B(e,t){for(var n=0;n<e.length;n++)if(e[n].name.toLowerCase()===t.name.toLowerCase())return!0;e.push(t)}function L(e,t){return function(){e.state!==x&&e.state!==T&&(e.s.logger.isDebug()&&e.s.logger.debug(o(\"handleEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.s.replicaSetState.remove(this),e.state!==x&&e.state!==T&&((e.s.replicaSetState.hasPrimary()||e.s.replicaSetState.hasSecondary()||!e.s.options.secondaryOnlyConnectionAllowed)&&e.s.replicaSetState.hasPrimary()||N(e,C),B(e.s.connectingServers,this)))}}function j(e,t,n){return 0===e.s.authenticationContexts.length?n():t.lastIsMaster()&&t.lastIsMaster().arbiterOnly?n():void function e(t,n,r){if(0===t.length)return r();var o=t.shift().slice(0);o.push(function(){e(t,n,r)}),n.auth.apply(n,o)}(e.s.authenticationContexts.slice(0),t,n)}function U(e,t){return function(){var n=this;if(e.s.logger.isDebug()&&e.s.logger.debug(o(\"handleInitialConnectEvent %s from server %s in replset with id %s\",t,this.name,e.id)),e.state===x||e.state===T)return this.destroy({force:!0});\"connect\"===t?j(e,n,function(){if(e.state===x||e.state===T)return n.destroy({force:!0});var r=e.s.replicaSetState.update(n);if(!0===r){n.lastIsMaster()&&n.lastIsMaster().ismaster&&(e.ismaster=n.lastIsMaster()),e.s.logger.isDebug()&&e.s.logger.debug(o(\"handleInitialConnectEvent %s from server %s in replset with id %s has state [%s]\",t,n.name,e.id,JSON.stringify(e.s.replicaSetState.set)));for(var i=0;i<I.length;i++)n.removeAllListeners(I[i]);n.on(\"error\",L(e,\"error\")),n.on(\"close\",L(e,\"close\")),n.on(\"timeout\",L(e,\"timeout\")),n.on(\"parseError\",L(e,\"parseError\")),function(e){const t=e.state===O,n=e.s.replicaSetState.hasPrimary(),r=e.s.replicaSetState.hasSecondary(),o=e.s.options.secondaryOnlyConnectionAllowed,i=e.s.connectOptions.readPreference&&e.s.connectOptions.readPreference.equals(s.secondary);return t&&(i&&r||!i&&n)||r&&o}(e)&&(e.state=E,e.initialConnectState.connect=!0,process.nextTick(function(){e.emit(\"connect\",e)}),D(e,{}))}else{if(r instanceof l)return n.destroy({force:!0}),e.destroy({force:!0}),e.emit(\"error\",r);n.destroy({force:!0})}}):(e.emit(\"failed\",this),B(e.s.connectingServers,this),e.s.replicaSetState.remove(this)),e.initialConnectState.connect&&!e.initialConnectState.fullsetup&&e.s.replicaSetState.hasPrimaryAndSecondary()&&(e.initialConnectState.fullsetup=!0,e.initialConnectState.all=!0,process.nextTick(function(){e.emit(\"fullsetup\",e),e.emit(\"all\",e)}));for(var r=0;r<e.s.connectingServers.length;r++)e.s.connectingServers[r].equals(this)&&e.s.connectingServers.splice(r,1);0===e.s.connectingServers.length&&e.state===O&&D(e,{haInterval:1})}}function V(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}function z(e,t,n){\"function\"==typeof t&&(n=t,t={}),t=t||{};const r=e.self,i=e.op,s=e.ns,a=e.ops;if(r.state===x)return n(new l(o(\"topology was destroyed\")));const u=!e.retrying&&!!t.retryWrites&&t.session&&v(r)&&!t.session.inTransaction();if(!r.s.replicaSetState.hasPrimary()){if(r.s.disconnectHandler)return r.s.disconnectHandler.add(i,s,a,t,n);if(!u)return n(new l(\"no primary server found\"))}const c=(o,i)=>o?w(o)?u?z(Object.assign({},e,{retrying:!0}),t,n):(r.s.replicaSetState.primary&&r.s.replicaSetState.remove(r.s.replicaSetState.primary,{force:!0}),n(o)):n(o):n(null,i);n.operationId&&(c.operationId=n.operationId),u&&(t.session.incrementTransactionNumber(),t.willRetryWrite=u),r.s.replicaSetState.primary[i](s,a,t,c)}k.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},N(this,O);var n=this.s.seedlist.map(function(e){return new p(Object.assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,parent:t,clientInfo:f(t.s.clientInfo)}))});if(this.s.options.socketTimeout>0&&this.s.options.socketTimeout<=this.s.options.haInterval)return t.emit(\"error\",new l(o(\"haInterval [%s] MS must be set to less than socketTimeout [%s] MS\",this.s.options.haInterval,this.s.options.socketTimeout)));V(this,\"topologyOpening\",{topologyId:this.id}),function(e,t){e.s.connectingServers=e.s.connectingServers.concat(t);var n=0;function r(t,n){setTimeout(function(){e.s.replicaSetState.update(t)&&t.lastIsMaster()&&t.lastIsMaster().ismaster&&(e.ismaster=t.lastIsMaster()),t.once(\"close\",U(e,\"close\")),t.once(\"timeout\",U(e,\"timeout\")),t.once(\"parseError\",U(e,\"parseError\")),t.once(\"error\",U(e,\"error\")),t.once(\"connect\",U(e,\"connect\")),t.on(\"serverOpening\",t=>e.emit(\"serverOpening\",t)),t.on(\"serverDescriptionChanged\",t=>e.emit(\"serverDescriptionChanged\",t)),t.on(\"serverClosed\",t=>e.emit(\"serverClosed\",t)),b(t,e,[\"commandStarted\",\"commandSucceeded\",\"commandFailed\"]),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)r(t.shift(),n++)}(t,n)},k.prototype.destroy=function(e){e=e||{},N(this,x),this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.replicaSetState.destroy(e),this.s.authenticationContexts=[],this.s.connectingServers.forEach(function(t){t.destroy(e)});for(var t=0;t<this.intervalIds.length;t++)this.intervalIds[t].stop();this.intervalIds=[],V(this,\"topologyClosed\",{topologyId:this.id})},k.prototype.unref=function(){N(this,T),this.s.replicaSetState.allServers().forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},k.prototype.lastIsMaster=function(){return this.s.options.secondaryOnlyConnectionAllowed&&!this.s.replicaSetState.hasPrimary()&&this.s.replicaSetState.hasSecondary()?this.s.replicaSetState.secondaries[0].lastIsMaster():this.s.replicaSetState.primary?this.s.replicaSetState.primary.lastIsMaster():this.ismaster},k.prototype.connections=function(){for(var e=this.s.replicaSetState.allServers(),t=[],n=0;n<e.length;n++)t=t.concat(e[n].connections());return t},k.prototype.isConnected=function(e){return e=e||{},!this.authenticating&&(e.readPreference&&e.readPreference.equals(s.secondary)?this.s.replicaSetState.hasSecondary():e.readPreference&&e.readPreference.equals(s.primary)?this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(s.primaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():e.readPreference&&e.readPreference.equals(s.secondaryPreferred)?this.s.replicaSetState.hasSecondary()||this.s.replicaSetState.hasPrimary():!(!this.s.options.secondaryOnlyConnectionAllowed||!this.s.replicaSetState.hasSecondary())||this.s.replicaSetState.hasPrimary())},k.prototype.isDestroyed=function(){return this.state===x},k.prototype.selectServer=function(e,t,n){\"function\"==typeof e&&void 0===n&&(n=e,e=void 0,t={}),\"function\"==typeof t&&(n=t,t=e,e=void 0);const r=this.s.replicaSetState.pickServer((t=t||{}).readPreference);this.s.debug&&this.emit(\"pickedServer\",t.readPreference,r),n(null,r)},k.prototype.getServers=function(){return this.s.replicaSetState.allServers()},k.prototype.insert=function(e,t,n,r){z({self:this,op:\"insert\",ns:e,ops:t},n,r)},k.prototype.update=function(e,t,n,r){z({self:this,op:\"update\",ns:e,ops:t},n,r)},k.prototype.remove=function(e,t,n,r){z({self:this,op:\"remove\",ns:e,ops:t},n,r)};const q=[\"findAndModify\",\"insert\",\"update\",\"delete\"];k.prototype.command=function(e,t,n,r){if(\"function\"==typeof n&&(r=n,n=(n={})||{}),this.state===x)return r(new l(o(\"topology was destroyed\")));var i=n.readPreference?n.readPreference:s.primary;if(\"primary\"===i.preference&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,r);if(\"secondary\"===i.preference&&!this.s.replicaSetState.hasSecondary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,r);if(\"primary\"!==i.preference&&!this.s.replicaSetState.hasSecondary()&&!this.s.replicaSetState.hasPrimary()&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,r);var a=this.s.replicaSetState.pickServer(i);if(!(a instanceof p))return r(a);if(this.s.debug&&this.emit(\"pickedServer\",s.primary,a),null==a)return r(new l(o(\"no server found that matches the provided readPreference %s\",i)));const u=!n.retrying&&!!n.retryWrites&&n.session&&v(this)&&!n.session.inTransaction()&&(c=t,q.some(e=>c[e]));var c;u&&(n.session.incrementTransactionNumber(),n.willRetryWrite=u),a.command(e,t,n,(o,i)=>{if(!o)return r(null,i);if(!w(o))return r(o);if(u){const o=Object.assign({},n,{retrying:!0});return this.command(e,t,o,r)}return this.s.replicaSetState.primary&&this.s.replicaSetState.remove(this.s.replicaSetState.primary,{force:!0}),r(o)})},k.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),r=this,i=Array.prototype.slice.call(arguments,2),s=i.pop(),a=0;if(null==this.authProviders[e]&&\"default\"!==e)return s(new l(o(\"auth provider %s does not exist\",e)));if(this.authenticating)return s(new l(\"authentication or logout allready in process\"));if(!this.isConnected()&&null!=r.s.disconnectHandler){if(!r.s.replicaSetState.hasPrimary()&&!r.s.options.secondaryOnlyConnectionAllowed)return r.s.disconnectHandler.add(\"auth\",t,n,{},s);if(!r.s.replicaSetState.hasSecondary()&&r.s.options.secondaryOnlyConnectionAllowed)return r.s.disconnectHandler.add(\"auth\",t,n,{},s)}this.authenticating=!0;var u=[],c=this.s.replicaSetState.allServers();function p(n){var o=[e,t].concat(i.slice(0)).concat([function(e){if(h-=1,e&&u.push({name:n.name,err:e}),0===h){if(r.authenticating=!1,u.length)return r.s.authenticationContexts.splice(a,0),s(new l({message:\"authentication fail\",errors:u}),!1);s(null,r)}}]);n.lastIsMaster().arbiterOnly?o.pop()(null):n.auth.apply(n,o)}0===c.length&&(this.authenticating=!1,s(null,!0));var h=c.length;for(a=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(i.slice(0)));c.length>0;)p(c.shift())},k.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new l(\"authentication or logout allready in process\");this.authenticating=!0;for(var r=Object.keys(this.authProviders),i=0;i<r.length;i++)this.authProviders[r[i]].logout(e);n.s.authenticationContexts=n.s.authenticationContexts.filter(function(t){return t[1]!==e});var s=this.s.replicaSetState.allServers(),a=s.length;if(0===a)return t();var u=[];function c(t,n){t.logout(e,function(e){e&&u.push({name:t.name,err:e}),n()})}for(i=0;i<s.length;i++)c(s[i],function(){if(0==(a-=1)){if(n.authenticating=!1,u.length)return t(new l({message:o(\"logout failed against db %s\",e),errors:u}),!1);t()}})},k.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,n.topology||this,this.s.options)},e.exports=k},WN5W:function(e,t,n){\"use strict\";const r=n(\"WWxJ\"),o=n(\"IQKq\"),i=n(\"PrLZ\"),s=n(\"Zwq/\"),a=n(\"hpSn\"),u=n(\"bojC\").ScramSHA1,c=n(\"bojC\").ScramSHA256;e.exports={defaultAuthProviders:function(e){return{mongocr:new r(e),x509:new o(e),plain:new i(e),gssapi:new s(e),sspi:new a(e),\"scram-sha-1\":new u(e),\"scram-sha-256\":new c(e)}}}},WWxJ:function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i=n(\"BvkA\").Query,s=n(\"OkLf\").MongoError,a=function(e,t,n){this.db=e,this.username=t,this.password=n};a.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var u=function(e){this.bson=e,this.authStore=[]},c=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};u.prototype.auth=function(e,t,n,u,l,p){var h=this,f=t.length;if(0===f)return p(null,null);for(var d=0,m=null;t.length>0;)!function(t){process.nextTick(function(){var g;e(g=t,new i(h.bson,r(\"%s.$cmd\",n),{getnonce:1},{numberToSkip:0,numberToReturn:1}),function(t,y){var v=null,b=null;if(null==t){v=y.result.nonce;var w=o.createHash(\"md5\");w.update(u+\":mongo:\"+l,\"utf8\");var _=w.digest(\"hex\");(w=o.createHash(\"md5\")).update(v+u+_,\"utf8\"),b=w.digest(\"hex\")}e(g,new i(h.bson,r(\"%s.$cmd\",n),{authenticate:1,user:u,nonce:v,key:b},{numberToSkip:0,numberToReturn:1}),function(e,t){f-=1,e?m=e:t.result.$err?m=t.result:t.result.errmsg?m=t.result:d+=1,0===f&&d>0?(c(h.authStore,new a(n,u,l)),p(null,!0)):0===f&&(null==m&&(m=new s(r(\"failed to authenticate using mongocr\"))),p(m,!1))})})})}(t.shift())},u.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},u.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,function(e){0==(o-=1)&&n(e,null)})},e.exports=u},YcCt:function(e,t,n){\"use strict\";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||\"&\",n=n||\"=\";var i={};if(\"string\"!=typeof e||0===e.length)return i;var s=/\\+/g;e=e.split(t);var a=1e3;o&&\"number\"==typeof o.maxKeys&&(a=o.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,p,h,f,d=e[c].replace(s,\"%20\"),m=d.indexOf(n);m>=0?(l=d.substr(0,m),p=d.substr(m+1)):(l=d,p=\"\"),h=decodeURIComponent(l),f=decodeURIComponent(p),r(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i}},YlWV:function(e){e.exports={_from:\"mongodb-core@3.1.7\",_id:\"mongodb-core@3.1.7\",_inBundle:!1,_integrity:\"sha512-YffpSrLmgFNmrvkGx+yX00KyBNk64C0BalfEn6vHHkXtcMUGXw8nxrMmhq5eXPLLlYeBpD/CsgNxE2Chf0o4zQ==\",_location:\"/mongodb-core\",_phantomChildren:{},_requested:{type:\"version\",registry:!0,raw:\"mongodb-core@3.1.7\",name:\"mongodb-core\",escapedName:\"mongodb-core\",rawSpec:\"3.1.7\",saveSpec:null,fetchSpec:\"3.1.7\"},_requiredBy:[\"/mongodb\"],_resolved:\"https://registry.npmjs.org/mongodb-core/-/mongodb-core-3.1.7.tgz\",_shasum:\"fe61853a6a6acbd2046c91794e5325ecad85428a\",_spec:\"mongodb-core@3.1.7\",_where:\"C:\\\\Projects\\\\KPWebProjects\\\\KPWebProjects\\\\KPNodeJSWebApp\\\\node_modules\\\\mongodb\",author:{name:\"Christian Kvalheim\"},bugs:{url:\"https://github.com/mongodb-js/mongodb-core/issues\"},bundleDependencies:!1,dependencies:{bson:\"^1.1.0\",require_optional:\"^1.0.1\",\"safe-buffer\":\"^5.1.2\",saslprep:\"^1.0.0\"},deprecated:!1,description:\"Core MongoDB driver functionality, no bells and whistles and meant for integration not end applications\",devDependencies:{chai:\"^4.1.2\",\"chai-subset\":\"^1.6.0\",co:\"^4.6.0\",eslint:\"^4.6.1\",\"eslint-plugin-prettier\":\"^2.2.0\",jsdoc:\"3.5.4\",\"mongodb-extjson\":\"^2.1.2\",\"mongodb-mock-server\":\"^1.0.0\",\"mongodb-test-runner\":\"^1.1.18\",prettier:\"~1.12.0\",sinon:\"^6.0.0\",snappy:\"^6.1.1\",\"standard-version\":\"^4.4.0\"},files:[\"index.js\",\"lib\"],homepage:\"https://github.com/mongodb-js/mongodb-core\",keywords:[\"mongodb\",\"core\"],license:\"Apache-2.0\",main:\"index.js\",name:\"mongodb-core\",optionalDependencies:{saslprep:\"^1.0.0\"},peerOptionalDependencies:{kerberos:\"^1.0.0\",\"mongodb-extjson\":\"^2.1.2\",snappy:\"^6.1.1\",\"bson-ext\":\"^2.0.0\"},repository:{type:\"git\",url:\"git://github.com/mongodb-js/mongodb-core.git\"},scripts:{atlas:\"node ./test/atlas.js\",changelog:\"conventional-changelog -p angular -i HISTORY.md -s\",coverage:\"nyc node test/runner.js -t functional -l && node_modules/.bin/nyc report --reporter=text-lcov | node_modules/.bin/coveralls\",format:\"prettier --print-width 100 --tab-width 2 --single-quote --write index.js 'test/**/*.js' 'lib/**/*.js'\",lint:\"eslint index.js lib test\",release:\"standard-version -i HISTORY.md\",test:\"npm run lint && mongodb-test-runner -t 60000 test/tests\"},version:\"3.1.7\"}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},\"Zwq/\":function(e,t,n){\"use strict\";const r=n(\"MCLT\").format,o=n(\"6uN0\").Kerberos,i=n(\"6uN0\").MongoAuthProcess,s=n(\"BvkA\").Query,a=n(\"OkLf\").MongoError;var u=function(e,t,n,r){this.db=e,this.username=t,this.password=n,this.options=r};u.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var c=function(e){this.bson=e,this.authStore=[]};c.prototype.auth=function(e,t,n,i,s,c,p){var h=this;if(null==o)return p(new Error(\"Kerberos library is not installed\"));var f=c.gssapiservicename||c.gssapiServiceName||\"mongodb\",m=t.length;if(0===m)return p(null,null);for(var g=0,y=null;t.length>0;)!function(t){process.nextTick(function(){l(h,n,i,s,n,f,e,t,c,function(e,t){m-=1,e?y=e:t.result.$err?y=t.result:t.result.errmsg?y=t.result:g+=1,0===m&&g>0?(d(h.authStore,new u(n,i,s,c)),p(null,!0)):0===m&&(null==y&&(y=new a(r(\"failed to authenticate using mongocr\"))),p(y,!1))})})}(t.shift())};var l=function(e,t,n,r,o,s,a,u,c,l){var h=new i(u.host,u.port,s,c);h.init(n,r,function(i){if(i)return l(i,!1);h.transition(\"\",function(i,s){if(i)return l(i,!1);p(e,h,s,t,n,r,o,a,u,l)})})},p=function(e,t,n,r,o,i,a,u,c,l){u(c,new s(e.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"GSSAPI\",payload:n,autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(n,s){if(n)return l(n,!1);var p=s.result;t.transition(s.result.payload,function(n,s){if(n)return l(n,!1);h(e,t,s,p,r,o,i,a,u,c,l)})})},h=function(e,t,n,r,o,i,a,u,c,l,p){c(l,new s(e.bson,\"$external.$cmd\",{saslContinue:1,conversationId:r.conversationId,payload:n},{numberToSkip:0,numberToReturn:1}),function(n,r){if(n)return p(n,!1);var s=r.result;t.transition(s.payload,function(n,r){if(n)return p(n,!1);f(e,t,r,s,o,i,a,u,c,l,p)})})},f=function(e,t,n,r,o,i,a,u,c,l,p){c(l,new s(e.bson,\"$external.$cmd\",{saslContinue:1,conversationId:r.conversationId,payload:n},{numberToSkip:0,numberToReturn:1}),function(e,n){if(e)return p(e,!1);t.transition(null,function(e){if(e)return p(e,null);p(null,n)})})},d=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};c.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},c.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,r[i].options,function(e){0==(o-=1)&&n(e,null)})},e.exports=c},apNv:function(e,t,n){\"use strict\";const r=n(\"MCLT\").inherits,o=n(\"MCLT\").format,i=n(\"+qE3\").EventEmitter,s=n(\"Ch8i\"),a=n(\"0C3t\"),u=n(\"M9st\").retrieveBSON,c=n(\"OkLf\").MongoError,l=n(\"Tvfz\"),p=n(\"U18u\").clone,h=n(\"U18u\").diff,f=n(\"U18u\").cloneOptions,d=n(\"U18u\").createClientInfo,m=n(\"U18u\").SessionMixins,g=n(\"U18u\").isRetryableWritesSupported,y=n(\"6uN0\").relayEvents,v=n(\"OkLf\").isRetryableError,b=u(),w=n(\"WN5W\").defaultAuthProviders;var _=\"disconnected\",S=\"connecting\",C=\"connected\",O=\"unreferenced\",E=\"destroyed\";function T(e,t){var n={disconnected:[S,E,_],connecting:[S,E,C,_],connected:[C,_,E,O],unreferenced:[O,E],destroyed:[E]}[e.state];n&&-1!==n.indexOf(t)?e.state=t:e.logger.error(o(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}var x=1,N=[\"connect\",\"close\",\"error\",\"timeout\",\"parseError\"],A=function(e,t){t=t||{},this.id=x++,this.s={options:Object.assign({},t),bson:t.bson||new b([b.Binary,b.Code,b.DBRef,b.Decimal128,b.Double,b.Int32,b.Long,b.Map,b.MaxKey,b.MinKey,b.ObjectId,b.BSONRegExp,b.Symbol,b.Timestamp]),Cursor:t.cursorFactory||s,logger:a(\"Mongos\",t),seedlist:e,haInterval:t.haInterval?t.haInterval:1e4,disconnectHandler:t.disconnectHandler,index:0,connectOptions:{},debug:\"boolean\"==typeof t.debug&&t.debug,localThresholdMS:t.localThresholdMS||15,clientInfo:d(t),authenticationContexts:[]},this.s.options.clientInfo=d(t),this.s.logger.isWarn()&&0!==this.s.options.socketTimeout&&this.s.options.socketTimeout<this.s.haInterval&&this.s.logger.warn(o(\"warning socketTimeout %s is less than haInterval %s. This might cause unnecessary server reconnections due to socket timeouts\",this.s.options.socketTimeout,this.s.haInterval)),this.authProviders=t.authProviders||w(this.s.bson),this.state=_,this.connectingProxies=[],this.connectedProxies=[],this.disconnectedProxies=[],this.authenticating=!1,this.index=0,this.haTimeoutId=null,this.ismaster=null,this.topologyDescription={topologyType:\"Unknown\",servers:[]},this.clusterTime=null,i.call(this)};function I(e,t,n){e.listeners(t).length>0&&e.emit(t,n)}function k(e){return function(){e.state!==E&&(M(e.connectedProxies,e.disconnectedProxies,this),V(e),e.emit(\"left\",\"mongos\",this),e.emit(\"serverClosed\",{topologyId:e.id,address:this.name}))}}function P(e,t){return function(){var n=this;if(e.state===E)return V(e),M(e.connectingProxies,e.disconnectedProxies,this),this.destroy();if(\"connect\"===t?L(e,n,function(){if(e.ismaster=n.lastIsMaster(),\"isdbgrid\"===e.ismaster.msg){for(var t=0;t<e.connectedProxies.length;t++)if(e.connectedProxies[t].name===n.name)return M(e.connectingProxies,e.disconnectedProxies,n),V(e),n.destroy(),e.emit(\"failed\",n);for(t=0;t<N.length;t++)n.removeAllListeners(N[t]);n.on(\"error\",k(e)),n.on(\"close\",k(e)),n.on(\"timeout\",k(e)),n.on(\"parseError\",k(e)),M(e.connectingProxies,e.connectedProxies,n),e.emit(\"joined\",\"mongos\",n)}else{if(e.s.logger.isWarn()){var r=\"expected mongos proxy, but found replicaset member mongod for server %s\";e.ismaster.hosts||(r=\"expected mongos proxy, but found standalone mongod for server %s\"),e.s.logger.warn(o(r,n.name))}D(e.connectingProxies,n),e.emit(\"left\",\"server\",n),e.emit(\"failed\",n)}}):(M(e.connectingProxies,e.disconnectedProxies,this),e.emit(\"left\",\"mongos\",this),e.emit(\"failed\",this)),V(e),0===e.connectingProxies.length){if(e.connectedProxies.length>0&&e.state===S)T(e,C),e.emit(\"connect\",e),e.emit(\"fullsetup\",e),e.emit(\"all\",e);else if(0===e.disconnectedProxies.length)return e.s.logger.isWarn()&&e.s.logger.warn(o(\"no mongos proxies found in seed list, did you mean to connect to a replicaset\")),e.emit(\"error\",new c(\"no mongos proxies found in seed list\"));!function e(t,n){n=n||{},t.haTimeoutId=setTimeout(function(){if(t.state!==E&&t.state!==O){t.isConnected()&&t.s.disconnectHandler&&t.s.disconnectHandler.execute();var r=t.connectedProxies.slice(0),o=r.length;if(0===r.length)return t.listeners(\"close\").length>0&&t.state===S?t.emit(\"error\",new c(\"no mongos proxy available\")):t.emit(\"close\",t),B(t,t.disconnectedProxies,function(){t.state!==E&&t.state!==O&&(t.state===S&&n.firstConnect?(t.emit(\"connect\",t),t.emit(\"fullsetup\",t),t.emit(\"all\",t)):t.isConnected()?t.emit(\"reconnect\",t):!t.isConnected()&&t.listeners(\"close\").length>0&&t.emit(\"close\",t),e(t))});for(var i=0;i<r.length;i++)s(0,r[i],function(){if(0==(o-=1)){if(t.state===E||t.state===O)return;B(t,t.disconnectedProxies,function(){t.state!==E&&t.state!==O&&e(t)})}})}function s(e,n,r){var o=(new Date).getTime();I(t,\"serverHeartbeatStarted\",{connectionId:n.name}),n.command(\"admin.$cmd\",{ismaster:!0},{monitoring:!0,socketTimeout:t.s.options.connectionTimeout||2e3},function(e,i){if(t.state===E||t.state===O)return M(t.connectedProxies,t.disconnectedProxies,n),n.destroy(),r(e,i);var s=(new Date).getTime()-o;e?(I(t,\"serverHeartbeatFailed\",{durationMS:s,failure:e,connectionId:n.name}),M(t.connectedProxies,t.disconnectedProxies,n)):(n.ismaster=i.result,n.lastIsMasterMS=s,I(t,\"serverHeartbeatSucceeded\",{durationMS:s,reply:i.result,connectionId:n.name})),r(e,i)})}},t.s.haInterval)}(e,{firstConnect:!0})}}}function R(e){for(var t=e.connectedProxies.slice(0),n=Number.MAX_VALUE,r=0;r<t.length;r++)t[r].lastIsMasterMS<n&&(n=t[r].lastIsMasterMS);if(0===(t=t.filter(function(t){if(t.lastIsMasterMS<=n+e.s.localThresholdMS&&t.isConnected())return!0})).length)return e.connectedProxies[0];var o=t[e.index%t.length];return e.index=(e.index+1)%t.length,o}function M(e,t,n){for(var r=0;r<e.length;r++)e[r].name===n.name&&e.splice(r,1);for(r=0;r<t.length;r++)t[r].name===n.name&&t.splice(r,1);t.push(n)}function D(e,t){for(var n=0;n<e.length;n++)e[n].name===t.name&&e.splice(n,1)}function B(e,t,n){var r=t.length,o=function(e,t){return function(){var o=this;if(r-=1,e.state===E||e.state===O)return M(e.connectingProxies,e.disconnectedProxies,o),this.destroy();\"connect\"!==t||e.authenticating?(M(e.connectingProxies,e.disconnectedProxies,o),this.destroy()):L(e,o,function(){if(e.state===E||e.state===O)return M(e.connectingProxies,e.disconnectedProxies,o),o.destroy();for(var t=0;t<N.length;t++)o.removeAllListeners(N[t]);o.on(\"error\",k(e)),o.on(\"close\",k(e)),o.on(\"timeout\",k(e)),o.on(\"parseError\",k(e)),M(e.connectingProxies,e.connectedProxies,o),V(e),e.emit(\"joined\",\"mongos\",o)}),0===r&&n()}};if(0===r)return n();function i(t,n){setTimeout(function(){if(e.state!==E&&e.state!==O){var n=new l(Object.assign({},e.s.options,{host:t.name.split(\":\")[0],port:parseInt(t.name.split(\":\")[1],10),authProviders:e.authProviders,reconnect:!1,monitoring:!1,parent:e,clientInfo:p(e.s.clientInfo)}));t.destroy(),D(e.disconnectedProxies,t),n.on(\"serverDescriptionChanged\",function(t){e.emit(\"serverDescriptionChanged\",t)}),e.emit(\"serverOpening\",{topologyId:-1!==n.s.topologyId?n.s.topologyId:e.id,address:n.name}),n.once(\"connect\",o(e,\"connect\")),n.once(\"close\",o(e,\"close\")),n.once(\"timeout\",o(e,\"timeout\")),n.once(\"error\",o(e,\"error\")),n.once(\"parseError\",o(e,\"parseError\")),y(n,e,[\"commandStarted\",\"commandSucceeded\",\"commandFailed\"]),e.connectingProxies.push(n),n.connect(e.s.connectOptions)}},n)}for(var s=0;s<t.length;s++)i(t[s],s)}function L(e,t,n){if(0===e.s.authenticationContexts.length)return n();!function e(t,n,r){if(0===t.length)return r();var o=t.shift().slice(0);o.push(function(){e(t,n,r)}),n.auth.apply(n,o)}(e.s.authenticationContexts.slice(0),t,n)}r(A,i),Object.assign(A.prototype,m),Object.defineProperty(A.prototype,\"type\",{enumerable:!0,get:function(){return\"mongos\"}}),Object.defineProperty(A.prototype,\"parserType\",{enumerable:!0,get:function(){return b.native?\"c++\":\"js\"}}),Object.defineProperty(A.prototype,\"logicalSessionTimeoutMinutes\",{enumerable:!0,get:function(){return this.ismaster&&this.ismaster.logicalSessionTimeoutMinutes||null}}),A.prototype.connect=function(e){var t=this;this.s.connectOptions=e||{},T(this,S);var n=this.s.seedlist.map(function(e){return new l(Object.assign({},t.s.options,e,{authProviders:t.authProviders,reconnect:!1,monitoring:!1,parent:t,clientInfo:p(t.s.clientInfo)}))});const r=e=>{t.emit(\"serverDescriptionChanged\",e)};n.forEach(function(e){e.on(\"serverDescriptionChanged\",r),e.on(\"destroy\",()=>e.removeListener(\"serverDescriptionChanged\",r))}),I(this,\"topologyOpening\",{topologyId:this.id}),function(e,t){e.connectingProxies=e.connectingProxies.concat(t);var n=0;function r(t,n){setTimeout(function(){e.emit(\"serverOpening\",{topologyId:e.id,address:t.name}),V(e),t.once(\"close\",P(e,\"close\")),t.once(\"timeout\",P(e,\"timeout\")),t.once(\"parseError\",P(e,\"parseError\")),t.once(\"error\",P(e,\"error\")),t.once(\"connect\",P(e,\"connect\")),y(t,e,[\"commandStarted\",\"commandSucceeded\",\"commandFailed\"]),t.connect(e.s.connectOptions)},n)}for(;t.length>0;)r(t.shift(),n++)}(t,n)},A.prototype.lastIsMaster=function(){return this.ismaster},A.prototype.unref=function(){T(this,O),this.connectedProxies.concat(this.connectingProxies).forEach(function(e){e.unref()}),clearTimeout(this.haTimeoutId)},A.prototype.destroy=function(e){var t=this;T(this,E);var n=this.connectedProxies.concat(this.connectingProxies);this.haTimeoutId&&clearTimeout(this.haTimeoutId),this.s.authenticationContexts=[],n.forEach(function(n){t.emit(\"serverClosed\",{topologyId:t.id,address:n.name}),n.destroy(e),M(t.connectedProxies,t.disconnectedProxies,n)}),V(t),I(this,\"topologyClosed\",{topologyId:this.id})},A.prototype.isConnected=function(){return this.connectedProxies.length>0},A.prototype.isDestroyed=function(){return this.state===E};var j=function(e,t,n,r,o,i){\"function\"==typeof o&&(i=o,o={}),o=o||{};let s=R(e);return s?o.retryWrites&&o.session&&g(e)?(o.willRetryWrite=!0,o.session.incrementTransactionNumber(),void s[t](n,r,o,(a,u)=>a?v(a)&&(s=R(e))&&g(s)?void s[t](n,r,o,i):i(a):i(null,u))):s[t](n,r,o,i):i(new c(\"no mongos proxy available\"))};A.prototype.insert=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n=(n={})||{}),this.state===E?r(new c(o(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void j(this,\"insert\",e,t,n,r):r(new c(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"insert\",e,t,n,r)},A.prototype.update=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n=(n={})||{}),this.state===E?r(new c(o(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void j(this,\"update\",e,t,n,r):r(new c(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"update\",e,t,n,r)},A.prototype.remove=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n=(n={})||{}),this.state===E?r(new c(o(\"topology was destroyed\"))):this.isConnected()||null==this.s.disconnectHandler?this.isConnected()?void j(this,\"remove\",e,t,n,r):r(new c(\"no mongos proxy available\")):this.s.disconnectHandler.add(\"remove\",e,t,n,r)};const U=[\"findAndModify\",\"insert\",\"update\",\"delete\"];function V(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\";e.connectedProxies.length>0&&(t=\"Sharded\");var n={topologyType:t,servers:[]},r=e.disconnectedProxies.concat(e.connectingProxies);n.servers=n.servers.concat(r.map(function(e){var t=e.getDescription();return t.type=\"Unknown\",t})),n.servers=n.servers.concat(e.connectedProxies.map(function(e){var t=e.getDescription();return t.type=\"Mongos\",t}));var o=h(e.topologyDescription,n);o.servers.length>0&&e.emit(\"topologyDescriptionChanged\",{topologyId:e.id,previousDescription:e.topologyDescription,newDescription:n,diff:o}),e.topologyDescription=n}}A.prototype.command=function(e,t,n,r){if(\"function\"==typeof n&&(r=n,n=(n={})||{}),this.state===E)return r(new c(o(\"topology was destroyed\")));var i=R(this);if((null==i||!i.isConnected())&&null!=this.s.disconnectHandler)return this.s.disconnectHandler.add(\"command\",e,t,n,r);if(null==i)return r(new c(\"no mongos proxy available\"));var s=f(n);s.topology=this;const a=!n.retrying&&n.retryWrites&&n.session&&g(this)&&!n.session.inTransaction()&&(u=t,U.some(e=>u[e]));var u;a&&(n.session.incrementTransactionNumber(),n.willRetryWrite=a),i.command(e,t,s,(n,o)=>{if(!n)return r(null,o);if(!v(n))return r(n);if(a){const n=Object.assign({},s,{retrying:!0});return this.command(e,t,n,r)}return r(n)})},A.prototype.cursor=function(e,t,n){return new((n=n||{}).cursorFactory||this.s.Cursor)(this.s.bson,e,t,n,n.topology||this,this.s.options)},A.prototype.auth=function(e,t){var n=Array.prototype.slice.call(arguments,0).slice(0),r=this,i=Array.prototype.slice.call(arguments,2),s=i.pop(),a=0;if(null==this.authProviders[e]&&\"default\"!==e)return s(new c(o(\"auth provider %s does not exist\",e)));if(this.authenticating)return s(new c(\"authentication or logout allready in process\"));if(!r.isConnected()&&null!=r.s.disconnectHandler)return r.s.disconnectHandler.add(\"auth\",t,n,{},s);this.authenticating=!0;var u=[],l=this.connectedProxies.slice(0);function p(n){var o=[e,t].concat(i.slice(0)).concat([function(e){if(h-=1,e&&u.push({name:n.name,err:e}),0===h){if(r.authenticating=!1,u.length)return r.s.authenticationContexts.splice(a,0),s(new c({message:\"authentication fail\",errors:u}),!1);s(null,r)}}]);n.lastIsMaster().arbiterOnly||n.auth.apply(n,o)}0===l.length&&(this.authenticating=!1,s(null,!0)),a=this.s.authenticationContexts.length,this.s.authenticationContexts.push([e,t].concat(i.slice(0)));for(var h=l.length;l.length>0;)p(l.shift())},A.prototype.logout=function(e,t){var n=this;if(this.authenticating)throw new c(\"authentication or logout allready in process\");this.authenticating=!0;for(var r=Object.keys(this.authProviders),i=0;i<r.length;i++)this.authProviders[r[i]].logout(e);var s=this.connectedProxies.slice(0),a=s.length;if(0===a)return t();var u=[];function l(t,n){t.logout(e,function(e){e&&u.push({name:t.name,err:e}),n()})}for(i=0;i<s.length;i++)l(s[i],function(){if(0==(a-=1)){if(n.authenticating=!1,u.length)return t(new c({message:o(\"logout failed against db %s\",e),errors:u}),!1);t()}})},A.prototype.selectServer=function(e,t,n){\"function\"==typeof e&&void 0===n&&(n=e,e=void 0,t={}),\"function\"==typeof t&&(n=t,t=e,e=void 0),t=t||{};const r=R(this);this.s.debug&&this.emit(\"pickedServer\",null,r),n(null,r)},A.prototype.connections=function(){for(var e=[],t=0;t<this.connectedProxies.length;t++)e=e.concat(this.connectedProxies[t].connections());return e},e.exports=A},bojC:function(e,t,n){\"use strict\";var r=n(\"MCLT\").format,o=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),i=n(\"M9st\").retrieveBSON,s=n(\"BvkA\").Query,a=n(\"OkLf\").MongoError,u=n(\"hwdV\").Buffer;let c;try{c=n(\"frJE\")}catch(e){}var l=i().Binary,p=function(e,t,n){this.db=e,this.username=t,this.password=n};p.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var h=0,f=function(e,t){this.bson=e,this.authStore=[],this.id=h++,this.cryptoMethod=t||\"sha1\"};function d(e,t,n){return o.createHmac(e,t).update(n).digest()}var m={},g=0;const y={sha256:32,sha1:20};f.prototype.auth=function(e,t,n,i,h,f){var b=this,w=t.length;if(0===w)return f(null,null);var _=0,S=null;const C=this.cryptoMethod;let O,E=\"SCRAM-SHA-1\";if(\"sha256\"===C){E=\"SCRAM-SHA-256\";let t=e.s&&e.s.saslprep||c;t?O=t(h):(console.warn(\"Warning: no saslprep library specified. Passwords will not be sanitized\"),O=h)}else O=function(e,t){if(\"string\"!=typeof e)throw new a(\"username must be a string\");if(\"string\"!=typeof t)throw new a(\"password must be a string\");if(0===t.length)throw new a(\"password cannot be empty\");var n=o.createHash(\"md5\");return n.update(e+\":mongo:\"+t,\"utf8\"),n.digest(\"hex\")}(i,h);for(var T=function(t){process.nextTick(function(){!function(t){i=i.replace(\"=\",\"=3D\").replace(\",\",\"=2C\");var c=o.randomBytes(24).toString(\"base64\");const T=u.concat([u.from(\"n=\",\"utf8\"),u.from(i,\"utf8\"),u.from(\",r=\",\"utf8\"),u.from(c,\"utf8\")]);var x={saslStart:1,mechanism:E,payload:new l(u.concat([u.from(\"n,,\",\"utf8\"),T])),autoAuthorize:1},N=function(e,t){return e?(_-=1,S=e,!1):t.result.$err?(S=t.result,!1):t.result.errmsg?(S=t.result,!1):(_+=1,!0)},A=function(e,t){var o;N(e,t),0==(o=w-=1)&&_>0?(v(b.authStore,new p(n,i,h)),f(null,!0)):0===o&&(null==S&&(S=new a(r(\"failed to authenticate using scram\"))),f(S,!1))};e(t,new s(b.bson,r(\"%s.$cmd\",n),x,{numberToSkip:0,numberToReturn:1}),function(c,E){if(!1===N(c,E))return 0==(w-=1)&&_>0?(v(b.authStore,new p(n,i,h)),f(null,!0)):0===w?(null==S&&(S=new a(r(\"failed to authenticate using scram\"))),f(S,!1)):void 0;var x=function(e){for(var t={},n=E.result.payload.value().split(\",\"),r=0;r<n.length;r++){var o=n[r].split(\"=\");t[o[0]]=o[1]}return t}(),I=parseInt(x.i,10),k=x.s,P=r(\"c=biws,r=%s\",x.r),R=function(e,t,n,r){const i=[e,t.toString(\"base64\"),n].join(\"_\");if(void 0!==m[i])return m[i];const s=o.pbkdf2Sync(e,t,n,y[r],r);return g>=200&&(m={},g=0),m[i]=s,g+=1,s}(O,u.from(k,\"base64\"),I,C);if(I&&I<4096){const e=new a(`Server returned an invalid iteration count ${I}`);return f(e,!1)}const M=d(C,R,\"Client Key\"),D=(B=M,o.createHash(C).update(B).digest());var B;const L=[T,E.result.payload.value().toString(\"base64\"),P].join(\",\"),j=d(C,D,L),U=[P,r(\"p=%s\",function(e,t){u.isBuffer(e)||(e=u.from(e)),u.isBuffer(t)||(t=u.from(t));const n=Math.max(e.length,t.length),r=[];for(let o=0;o<n;o+=1)r.push(e[o]^t[o]);return u.from(r).toString(\"base64\")}(M,j))].join(\",\"),V={saslContinue:1,conversationId:E.result.conversationId,payload:new l(u.from(U))};e(t,new s(b.bson,r(\"%s.$cmd\",n),V,{numberToSkip:0,numberToReturn:1}),function(o,i){if(i&&!1===i.result.done){var a={saslContinue:1,conversationId:i.result.conversationId,payload:u.alloc(0)};e(t,new s(b.bson,r(\"%s.$cmd\",n),a,{numberToSkip:0,numberToReturn:1}),function(e,t){A(e,t)})}else A(o,i)})})}(t)})};t.length>0;)T(t.shift())};var v=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};f.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},f.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,function(e){0==(o-=1)&&n(e,null)})},e.exports={ScramSHA1:class extends f{constructor(e){super(e,\"sha1\")}},ScramSHA256:class extends f{constructor(e){super(e,\"sha256\")}}}},cfbU:function(e,t,n){var r=Buffer&&n(\"MCLT\").inspect.custom||\"inspect\";function o(e){if(!(this instanceof o))return new o(e);this._bsontype=\"Symbol\",this.value=e}o.prototype.valueOf=function(){return this.value},o.prototype.toString=function(){return this.value},o.prototype[r]=function(){return this.value},o.prototype.toJSON=function(){return this.value},e.exports=o,e.exports.Symbol=o},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=\"crnd\"},czSF:function(e,t,n){var r=\"inspect\",o=parseInt(16777215*Math.random(),10),i=new RegExp(\"^[0-9a-fA-F]{24}$\");try{if(Buffer&&Buffer.from){var s=!0;r=n(\"MCLT\").inspect.custom||\"inspect\"}}catch(e){s=!1}for(var a=function e(t){if(t instanceof e)return t;if(!(this instanceof e))return new e(t);if(this._bsontype=\"ObjectID\",null==t||\"number\"==typeof t)return this.id=this.generate(t),void(e.cacheHexString&&(this.__id=this.toString(\"hex\")));var n=e.isValid(t);if(!n&&null!=t)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(n&&\"string\"==typeof t&&24===t.length&&s)return new e(new Buffer(t,\"hex\"));if(n&&\"string\"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return t;throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\")}this.id=t,e.cacheHexString&&(this.__id=this.toString(\"hex\"))},u=[],c=0;c<256;c++)u[c]=(c<=15?\"0\":\"\")+c.toString(16);a.prototype.toHexString=function(){if(a.cacheHexString&&this.__id)return this.__id;var e=\"\";if(!this.id||!this.id.length)throw new Error(\"invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [\"+JSON.stringify(this.id)+\"]\");if(this.id instanceof p)return e=h(this.id),a.cacheHexString&&(this.__id=e),e;for(var t=0;t<this.id.length;t++)e+=u[this.id.charCodeAt(t)];return a.cacheHexString&&(this.__id=e),e},a.prototype.get_inc=function(){return a.index=(a.index+1)%16777215},a.prototype.getInc=function(){return this.get_inc()},a.prototype.generate=function(e){\"number\"!=typeof e&&(e=~~(Date.now()/1e3));var t=(\"undefined\"==typeof process||1===process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,n=this.get_inc(),r=new Buffer(12);return r[3]=255&e,r[2]=e>>8&255,r[1]=e>>16&255,r[0]=e>>24&255,r[6]=255&o,r[5]=o>>8&255,r[4]=o>>16&255,r[8]=255&t,r[7]=t>>8&255,r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r},a.prototype[r]=a.prototype.toString=function(e){return this.id&&this.id.copy?this.id.toString(\"string\"==typeof e?e:\"hex\"):this.toHexString()},a.prototype.toJSON=function(){return this.toHexString()},a.prototype.equals=function(e){return e instanceof a?this.toString()===e.toString():\"string\"==typeof e&&a.isValid(e)&&12===e.length&&this.id instanceof p?e===this.id.toString(\"binary\"):\"string\"==typeof e&&a.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():\"string\"==typeof e&&a.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof a||e.toHexString))&&e.toHexString()===this.toHexString()},a.prototype.getTimestamp=function(){var e=new Date;return e.setTime(1e3*Math.floor(this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24)),e},a.index=~~(16777215*Math.random()),a.createPk=function(){return new a},a.createFromTime=function(e){var t=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0]);return t[3]=255&e,t[2]=e>>8&255,t[1]=e>>16&255,t[0]=e>>24&255,new a(t)};var l=[];for(c=0;c<10;)l[48+c]=c++;for(;c<16;)l[55+c]=l[87+c]=c++;var p=Buffer,h=function(e){return e.toString(\"hex\")};a.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw new Error(\"Argument passed in must be a single String of 12 bytes or a string of 24 hex characters\");if(s)return new a(new Buffer(e,\"hex\"));for(var t=new p(12),n=0,r=0;r<24;)t[n++]=l[e.charCodeAt(r++)]<<4|l[e.charCodeAt(r++)];return new a(t)},a.isValid=function(e){return null!=e&&(\"number\"==typeof e||(\"string\"==typeof e?12===e.length||24===e.length&&i.test(e):e instanceof a||e instanceof p||!!e.toHexString&&(12===e.id.length||24===e.id.length&&i.test(e.id))))},Object.defineProperty(a.prototype,\"generationTime\",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.exports=a,e.exports.ObjectID=a,e.exports.ObjectId=a},d0Jw:function(e,t,n){\"use strict\";const r=n(\"q64v\").ReadPreference,o=n(\"CxY0\"),i=n(\"MCLT\").format,s=n(\"q64v\").Logger,a=n(!function(){var e=new Error(\"Cannot find module 'dns'\");throw e.code=\"MODULE_NOT_FOUND\",e}());function u(e,t){let n=/^.*?\\./,r=`.${e.replace(n,\"\")}`,o=`.${t.replace(n,\"\")}`;return!!r.endsWith(o)}function c(e,t,n){let a,u;try{a=function(e,t){let n=\"\",a=\"\",u=\"\",c=\"admin\",l=o.parse(e,!0);if((null==l.hostname||\"\"===l.hostname)&&-1===e.indexOf(\".sock\"))throw new Error(\"No hostname or hostnames provided in connection string\");if(\"0\"===l.port)throw new Error(\"Invalid port (zero) with hostname\");if(!isNaN(parseInt(l.port,10))&&parseInt(l.port,10)>65535)throw new Error(\"Invalid port (larger than 65535) with hostname\");if(l.path&&l.path.length>0&&\"/\"!==l.path[0]&&-1===e.indexOf(\".sock\"))throw new Error(\"Missing delimiting slash between hosts and options\");if(l.query)for(let r in l.query){if(-1!==r.indexOf(\"::\"))throw new Error(\"Double colon in host identifier\");if(\"\"===l.query[r])throw new Error(\"Query parameter \"+r+\" is an incomplete value pair\")}if(l.auth){let t=l.auth.split(\":\");if(-1!==e.indexOf(l.auth)&&t.length>2)throw new Error(\"Username with password containing an unescaped colon\");if(-1!==e.indexOf(l.auth)&&-1!==l.auth.indexOf(\"@\"))throw new Error(\"Username containing an unescaped at-sign\")}let p=e.split(\"?\").shift().split(\",\"),h=[];for(let r=0;r<p.length;r++){let e=p[r];-1!==e.indexOf(\"mongodb\")?-1!==e.indexOf(\"@\")?h.push(e.split(\"@\").pop()):h.push(e.substr(\"mongodb://\".length)):-1!==e.indexOf(\"/\")?h.push(e.split(\"/\").shift()):-1===e.indexOf(\"/\")&&h.push(e.trim())}for(let r=0;r<h.length;r++){let e=o.parse(i(\"mongodb://%s\",h[r].trim()));if((!e.path||-1===e.path.indexOf(\".sock\"))&&e.path&&-1!==e.path.indexOf(\":\"))throw e.path.split(\"/\").length>1&&-1===e.path.indexOf(\"::\")?new Error(\"Slash in host identifier\"):new Error(\"Double colon in host identifier\")}if(-1!==e.indexOf(\"?\")?(u=e.substr(e.indexOf(\"?\")+1),n=e.substring(\"mongodb://\".length,e.indexOf(\"?\"))):n=e.substring(\"mongodb://\".length),-1!==n.indexOf(\"@\")&&(a=n.split(\"@\")[0],n=n.split(\"@\")[1]),n.split(\"/\").length>2)throw new Error(\"Unsupported host '\"+n.split(\"?\")[0]+\"', hosts must be URL encoded and contain at most one unencoded slash\");if(-1!==n.indexOf(\".sock\")){if(-1!==n.indexOf(\".sock/\")){if(-1!==(c=n.split(\".sock/\")[1]).indexOf(\"/\")){if(2===c.split(\"/\").length&&0===c.split(\"/\")[1].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}n=n.split(\"/\",n.indexOf(\".sock\")+\".sock\".length)}}else if(-1!==n.indexOf(\"/\")){if(n.split(\"/\").length>2){if(0===n.split(\"/\")[2].length)throw new Error(\"Illegal trailing backslash after database name\");throw new Error(\"More than 1 database name in URL\")}c=n.split(\"/\")[1],n=n.split(\"/\")[0]}n=decodeURIComponent(n);let f,d,m,g,y={},v=a||\"\",b=v.split(\":\",2),w=decodeURIComponent(b[0]);if(b[0]!==encodeURIComponent(w))throw new Error(\"Username contains an illegal unescaped character\");if(b[0]=w,b[1]){let e=decodeURIComponent(b[1]);if(b[1]!==encodeURIComponent(e))throw new Error(\"Password contains an illegal unescaped character\");b[1]=e}2===b.length&&(y.auth={user:b[0],password:b[1]}),t&&null!=t.auth&&(y.auth=t.auth);let _={socketOptions:{}},S={read_preference_tags:[]},C={socketOptions:{}},O={socketOptions:{}};if(y.server_options=_,y.db_options=S,y.rs_options=C,y.mongos_options=O,e.match(/\\.sock/)){let t=e.substring(e.indexOf(\"mongodb://\")+\"mongodb://\".length,e.lastIndexOf(\".sock\")+\".sock\".length);-1!==t.indexOf(\"@\")&&(t=t.split(\"@\")[1]),m=[{domain_socket:t=decodeURIComponent(t)}]}else{let e={};m=(f=n).split(\",\").map(function(t){let n,r,o;if(o=/\\[([^\\]]+)\\](?::(.+))?/.exec(t))n=o[1],r=parseInt(o[2],10)||27017;else{let e=t.split(\":\",2);n=e[0]||\"localhost\",r=null!=e[1]?parseInt(e[1],10):27017,-1!==n.indexOf(\"?\")&&(n=n.split(/\\?/)[0])}return e[n+\"_\"+r]?null:(e[n+\"_\"+r]=1,{host:n,port:r})}).filter(function(e){return null!=e})}if(y.dbName=c||\"admin\",(d=(u||\"\").split(/[&;]/)).forEach(function(e){if(e){var t=e.split(\"=\"),n=t[0],o=t[1];switch(n){case\"slaveOk\":case\"slave_ok\":_.slave_ok=\"true\"===o,S.slaveOk=\"true\"===o;break;case\"maxPoolSize\":case\"poolSize\":_.poolSize=parseInt(o,10),C.poolSize=parseInt(o,10);break;case\"appname\":y.appname=decodeURIComponent(o);break;case\"autoReconnect\":case\"auto_reconnect\":_.auto_reconnect=\"true\"===o;break;case\"ssl\":if(\"prefer\"===o){_.ssl=o,C.ssl=o,O.ssl=o;break}_.ssl=\"true\"===o,C.ssl=\"true\"===o,O.ssl=\"true\"===o;break;case\"sslValidate\":_.sslValidate=\"true\"===o,C.sslValidate=\"true\"===o,O.sslValidate=\"true\"===o;break;case\"replicaSet\":case\"rs_name\":C.rs_name=o;break;case\"reconnectWait\":C.reconnectWait=parseInt(o,10);break;case\"retries\":C.retries=parseInt(o,10);break;case\"readSecondary\":case\"read_secondary\":C.read_secondary=\"true\"===o;break;case\"fsync\":S.fsync=\"true\"===o;break;case\"journal\":S.j=\"true\"===o;break;case\"safe\":S.safe=\"true\"===o;break;case\"nativeParser\":case\"native_parser\":S.native_parser=\"true\"===o;break;case\"readConcernLevel\":S.readConcern={level:o};break;case\"connectTimeoutMS\":_.socketOptions.connectTimeoutMS=parseInt(o,10),C.socketOptions.connectTimeoutMS=parseInt(o,10),O.socketOptions.connectTimeoutMS=parseInt(o,10);break;case\"socketTimeoutMS\":_.socketOptions.socketTimeoutMS=parseInt(o,10),C.socketOptions.socketTimeoutMS=parseInt(o,10),O.socketOptions.socketTimeoutMS=parseInt(o,10);break;case\"w\":S.w=parseInt(o,10),isNaN(S.w)&&(S.w=o);break;case\"authSource\":S.authSource=o;break;case\"gssapiServiceName\":S.gssapiServiceName=o;break;case\"authMechanism\":if(\"GSSAPI\"===o)if(null==y.auth){let e=decodeURIComponent(v);if(-1===e.indexOf(\"@\"))throw new Error(\"GSSAPI requires a provided principal\");y.auth={user:e,password:null}}else y.auth.user=decodeURIComponent(y.auth.user);else\"MONGODB-X509\"===o&&(y.auth={user:decodeURIComponent(v)});if(\"GSSAPI\"!==o&&\"MONGODB-X509\"!==o&&\"MONGODB-CR\"!==o&&\"DEFAULT\"!==o&&\"SCRAM-SHA-1\"!==o&&\"SCRAM-SHA-256\"!==o&&\"PLAIN\"!==o)throw new Error(\"Only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, or SCRAM-SHA-1 is supported by authMechanism\");S.authMechanism=o;break;case\"authMechanismProperties\":{let e={};o.split(\",\").forEach(function(t){let n=t.split(\":\");e[n[0]]=n[1]}),S.authMechanismProperties=e,\"string\"==typeof e.SERVICE_NAME&&(S.gssapiServiceName=e.SERVICE_NAME),\"string\"==typeof e.SERVICE_REALM&&(S.gssapiServiceRealm=e.SERVICE_REALM),\"string\"==typeof e.CANONICALIZE_HOST_NAME&&(S.gssapiCanonicalizeHostName=\"true\"===e.CANONICALIZE_HOST_NAME)}break;case\"wtimeoutMS\":S.wtimeout=parseInt(o,10);break;case\"readPreference\":if(!r.isValid(o))throw new Error(\"readPreference must be either primary/primaryPreferred/secondary/secondaryPreferred/nearest\");S.readPreference=o;break;case\"maxStalenessSeconds\":S.maxStalenessSeconds=parseInt(o,10);break;case\"readPreferenceTags\":{let e={};if(null==(o=decodeURIComponent(o))||\"\"===o){S.read_preference_tags.push(e);break}let t=o.split(/,/);for(let n=0;n<t.length;n++){let r=t[n].trim().split(/:/);e[r[0]]=r[1]}S.read_preference_tags.push(e)}break;case\"compressors\":{g=_.compression||{};let e=o.split(\",\");if(!e.every(function(e){return\"snappy\"===e||\"zlib\"===e}))throw new Error(\"Compressors must be at least one of snappy or zlib\");g.compressors=e,_.compression=g}break;case\"zlibCompressionLevel\":{g=_.compression||{};let e=parseInt(o,10);if(e<-1||e>9)throw new Error(\"zlibCompressionLevel must be an integer between -1 and 9\");g.zlibCompressionLevel=e,_.compression=g}break;case\"retryWrites\":S.retryWrites=\"true\"===o;break;case\"minSize\":S.minSize=parseInt(o,10);break;default:s(\"URL Parser\").warn(`${n} is not supported as a connection string option`)}}}),0===S.read_preference_tags.length&&(S.read_preference_tags=null),!(-1!==S.w&&0!==S.w||!0!==S.journal&&!0!==S.fsync&&!0!==S.safe))throw new Error(\"w set to -1 or 0 cannot be combined with safe/w/journal/fsync\");return S.readPreference||(S.readPreference=\"primary\"),S=Object.assign(S,t),y.servers=m,y}(e,t)}catch(e){u=e}return u?n(u,null):n(null,a)}e.exports=function(e,t,n){let r;\"function\"==typeof t&&(n=t,t={}),t=t||{};try{r=o.parse(e,!0)}catch(e){return n(new Error(\"URL malformed, cannot be parsed\"))}return\"mongodb:\"!==r.protocol&&\"mongodb+srv:\"!==r.protocol?n(new Error(\"Invalid schema, expected `mongodb` or `mongodb+srv`\")):\"mongodb:\"===r.protocol?c(e,t,n):r.hostname.split(\".\").length<3?n(new Error(\"URI does not have hostname, domain name and tld\")):(r.domainLength=r.hostname.split(\".\").length,r.pathname&&r.pathname.match(\",\")?n(new Error(\"Invalid URI, cannot contain multiple hostnames\")):r.port?n(new Error(\"Ports not accepted with `mongodb+srv` URIs\")):void a.resolveSrv(`_mongodb._tcp.${r.host}`,function(e,o){if(e)return n(e);if(0===o.length)return n(new Error(\"No addresses found at host\"));for(let t=0;t<o.length;t++)if(!u(o[t].name,r.hostname))return n(new Error(\"Server record does not share hostname with parent URI\"));let i=r.auth?`mongodb://${r.auth}@`:\"mongodb://\",s=o.map(function(e,t){return 0===t?`${i}${e.name}:${e.port}`:`${e.name}:${e.port}`}).join(\",\")+\"/\",l=[];if(r.path){let e=r.path.slice(1);-1!==e.indexOf(\"?\")&&(e=e.slice(0,e.indexOf(\"?\"))),s+=e}(t.ssl||r.search)&&(t.ssl||!r.search||r.search.match(\"ssl\"))||l.push(\"ssl=true\"),r.search&&l.push(r.search.replace(\"?\",\"\")),a.resolveTxt(r.host,function(e,r){if(e&&\"ENODATA\"!==e.code)return n(e);if(e&&\"ENODATA\"===e.code&&(r=null),r){if(r.length>1)return n(new Error(\"Multiple text records not allowed\"));if(!(r=(r=r[0]).length>1?r.join(\"\"):r[0]).includes(\"authSource\")&&!r.includes(\"replicaSet\"))return n(new Error(\"Text record must only set `authSource` or `replicaSet`\"));l.push(r)}l.length&&(s+=`?${l.join(\"&\")}`),c(s,t,n)})}))}},dXPX:function(e,t,n){var r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(\" \")}n=1;for(var o=arguments,i=o.length,a=String(e).replace(r,function(e){if(\"%%\"===e)return\"%\";if(n>=i)return e;switch(e){case\"%s\":return String(o[n++]);case\"%d\":return Number(o[n++]);case\"%j\":try{return JSON.stringify(o[n++])}catch(e){return\"[Circular]\"}default:return e}}),u=o[n];n<i;u=o[++n])d(u)||!b(u)?a+=\" \"+u:a+=\" \"+s(u);return a},t.deprecate=function(e,n){if(y(global.process))return function(){return t.deprecate(e,n).apply(this,arguments)};if(!0===process.noDeprecation)return e;var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var o,i={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=s.styles[t];return n?\"\\x1b[\"+s.colors[n][0]+\"m\"+e+\"\\x1b[\"+s.colors[n][1]+\"m\":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return g(o)||(o=c(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize(\"undefined\",\"undefined\");if(g(t)){var n=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(n,\"string\")}return m(t)?e.stylize(\"\"+t,\"number\"):f(t)?e.stylize(\"\"+t,\"boolean\"):d(t)?e.stylize(\"null\",\"null\"):void 0}(e,n);if(i)return i;var s,a=Object.keys(n),u=(s={},a.forEach(function(e,t){s[e]=!0}),s);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf(\"message\")>=0||a.indexOf(\"description\")>=0))return l(n);if(0===a.length){if(S(n))return e.stylize(\"[Function\"+(n.name?\": \"+n.name:\"\")+\"]\",\"special\");if(v(n))return e.stylize(RegExp.prototype.toString.call(n),\"regexp\");if(w(n))return e.stylize(Date.prototype.toString.call(n),\"date\");if(_(n))return l(n)}var b,C=\"\",O=!1,E=[\"{\",\"}\"];return h(n)&&(O=!0,E=[\"[\",\"]\"]),S(n)&&(C=\" [Function\"+(n.name?\": \"+n.name:\"\")+\"]\"),v(n)&&(C=\" \"+RegExp.prototype.toString.call(n)),w(n)&&(C=\" \"+Date.prototype.toUTCString.call(n)),_(n)&&(C=\" \"+l(n)),0!==a.length||O&&0!=n.length?r<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),\"regexp\"):e.stylize(\"[Object]\",\"special\"):(e.seen.push(n),b=O?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)T(t,String(s))?i.push(p(e,t,n,r,String(s),!0)):i.push(\"\");return o.forEach(function(o){o.match(/^\\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}(e,n,r,u,a):a.map(function(t){return p(e,n,r,u,t,O)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf(\"\\n\"),e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60?n[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+n[1]:n[0]+t+\" \"+e.join(\", \")+\" \"+n[1]}(b,C,E)):E[0]+C+E[1]}function l(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function p(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=e.stylize(u.set?\"[Getter/Setter]\":\"[Getter]\",\"special\"):u.set&&(a=e.stylize(\"[Setter]\",\"special\")),T(r,o)||(s=\"[\"+o+\"]\"),a||(e.seen.indexOf(u.value)<0?(a=d(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf(\"\\n\")>-1&&(a=i?a.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+a.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\")):a=e.stylize(\"[Circular]\",\"special\")),y(s)){if(i&&o.match(/^\\d+$/))return a;(s=JSON.stringify(\"\"+o)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=e.stylize(s,\"string\"))}return s+\": \"+a}function h(e){return Array.isArray(e)}function f(e){return\"boolean\"==typeof e}function d(e){return null===e}function m(e){return\"number\"==typeof e}function g(e){return\"string\"==typeof e}function y(e){return void 0===e}function v(e){return b(e)&&\"[object RegExp]\"===C(e)}function b(e){return\"object\"==typeof e&&null!==e}function w(e){return b(e)&&\"[object Date]\"===C(e)}function _(e){return b(e)&&(\"[object Error]\"===C(e)||e instanceof Error)}function S(e){return\"function\"==typeof e}function C(e){return Object.prototype.toString.call(e)}function O(e){return e<10?\"0\"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=process.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!i[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(o)){var n=process.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error(\"%s %d: %s\",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},t.isArray=h,t.isBoolean=f,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=b,t.isDate=w,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=n(\"VNB6\");var E=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log(\"%s - %s\",(n=[O((e=new Date).getHours()),O(e.getMinutes()),O(e.getSeconds())].join(\":\"),[e.getDate(),E[e.getMonth()],n].join(\" \")),t.format.apply(t,arguments))},t.inherits=n(\"5wz/\"),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},e1Yl:function(e,t,n){\"use strict\";const r=n(\"q64v\").Server,o=n(\"q6MH\"),i=n(\"qvTl\").TopologyBase,s=n(\"qvTl\").Store,a=n(\"q64v\").MongoError,u=n(\"Bx6p\").MAX_JS_INT,c=n(\"Bx6p\").translateOptions,l=n(\"Bx6p\").filterOptions,p=n(\"Bx6p\").mergeOptions;var h=[\"ha\",\"haInterval\",\"acceptableLatencyMS\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCRL\",\"sslCert\",\"ciphers\",\"ecdhCurve\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"reconnectInterval\",\"monitoring\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"compression\",\"promiseLibrary\",\"monitorCommands\"];class f extends i{constructor(e,t,n){super();const i=(n=l(n,h)).promiseLibrary;var f={force:!1,bufferMaxEntries:\"number\"==typeof n.bufferMaxEntries?n.bufferMaxEntries:u},d=n.store||new s(this,f);if(-1!==e.indexOf(\"/\"))null!=t&&\"object\"==typeof t&&(n=t,t=null);else if(null==t)throw a.create({message:\"port must be specified\",driver:!0});var m=\"boolean\"!=typeof n.auto_reconnect||n.auto_reconnect,g=p({},{host:e,port:t,disconnectHandler:d,cursorFactory:o,reconnect:m=\"boolean\"==typeof n.autoReconnect?n.autoReconnect:m,emitError:\"boolean\"!=typeof n.emitError||n.emitError,size:\"number\"==typeof n.poolSize?n.poolSize:5,monitorCommands:\"boolean\"==typeof n.monitorCommands&&n.monitorCommands});g=c(g,n);var y=n.socketOptions&&Object.keys(n.socketOptions).length>0?n.socketOptions:n;(g=c(g,y)).clientInfo=this.clientInfo,n.appname&&(g.clientInfo.application={name:n.appname}),this.s={coreTopology:new r(g),sCapabilities:null,clonedOptions:g,reconnect:g.reconnect,emitError:g.emitError,poolSize:g.size,storeOptions:f,store:d,host:e,port:t,options:n,sessionPool:null,sessions:[],promiseLibrary:i||Promise}}connect(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),null==e&&(e=this.s.clonedOptions),\"function\"!=typeof t&&(t=null),e=Object.assign({},this.s.clonedOptions,e),n.s.options=e,n.s.storeOptions.bufferMaxEntries=\"number\"==typeof e.bufferMaxEntries?e.bufferMaxEntries:-1;var r=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){n.s.coreTopology.removeListener(e,a[e])}),n.s.coreTopology.removeListener(\"connect\",r);try{t(e)}catch(e){process.nextTick(function(){throw e})}}},o=function(e){return function(t){\"error\"!==e&&n.emit(e,t)}},i=function(){n.s.store.flush()},s=function(e){return function(t,r){n.emit(e,t,r)}},a={timeout:r(\"timeout\"),error:r(\"error\"),close:r(\"close\")};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"commandStarted\",\"commandSucceeded\",\"commandFailed\"].forEach(function(e){n.s.coreTopology.removeAllListeners(e)}),n.s.coreTopology.once(\"timeout\",a.timeout),n.s.coreTopology.once(\"error\",a.error),n.s.coreTopology.once(\"close\",a.close),n.s.coreTopology.once(\"connect\",function(){[\"timeout\",\"error\",\"close\",\"destroy\"].forEach(function(e){n.s.coreTopology.removeAllListeners(e)}),n.s.coreTopology.on(\"timeout\",o(\"timeout\")),n.s.coreTopology.once(\"error\",o(\"error\")),n.s.coreTopology.on(\"close\",o(\"close\")),n.s.coreTopology.on(\"destroy\",i),n.emit(\"open\",null,n);try{t(null,n)}catch(e){process.nextTick(function(){throw e})}}),n.s.coreTopology.on(\"reconnect\",function(){n.emit(\"reconnect\",n),n.s.store.execute()}),n.s.coreTopology.on(\"reconnectFailed\",function(e){n.emit(\"reconnectFailed\",e),n.s.store.flush(e)}),n.s.coreTopology.on(\"serverDescriptionChanged\",s(\"serverDescriptionChanged\")),n.s.coreTopology.on(\"serverHeartbeatStarted\",s(\"serverHeartbeatStarted\")),n.s.coreTopology.on(\"serverHeartbeatSucceeded\",s(\"serverHeartbeatSucceeded\")),n.s.coreTopology.on(\"serverHeartbeatFailed\",s(\"serverHeartbeatFailed\")),n.s.coreTopology.on(\"serverOpening\",s(\"serverOpening\")),n.s.coreTopology.on(\"serverClosed\",s(\"serverClosed\")),n.s.coreTopology.on(\"topologyOpening\",s(\"topologyOpening\")),n.s.coreTopology.on(\"topologyClosed\",s(\"topologyClosed\")),n.s.coreTopology.on(\"topologyDescriptionChanged\",s(\"topologyDescriptionChanged\")),n.s.coreTopology.on(\"commandStarted\",s(\"commandStarted\")),n.s.coreTopology.on(\"commandSucceeded\",s(\"commandSucceeded\")),n.s.coreTopology.on(\"commandFailed\",s(\"commandFailed\")),n.s.coreTopology.on(\"attemptReconnect\",s(\"attemptReconnect\")),n.s.coreTopology.on(\"monitoring\",s(\"monitoring\")),n.s.coreTopology.connect(e)}}Object.defineProperty(f.prototype,\"poolSize\",{enumerable:!0,get:function(){return this.s.coreTopology.connections().length}}),Object.defineProperty(f.prototype,\"autoReconnect\",{enumerable:!0,get:function(){return this.s.reconnect}}),Object.defineProperty(f.prototype,\"host\",{enumerable:!0,get:function(){return this.s.host}}),Object.defineProperty(f.prototype,\"port\",{enumerable:!0,get:function(){return this.s.port}}),e.exports=f},ewmr:function(e,t,n){\"use strict\";var r=n(\"MCLT\").inherits,o=n(\"MCLT\").format,i=n(\"U18u\").diff,s=n(\"+qE3\").EventEmitter,a=n(\"0C3t\"),u=n(\"R4vf\"),c=n(\"OkLf\").MongoError,l=n(\"hwdV\").Buffer,p=function(e){e=e||{},s.call(this),this.topologyType=\"ReplicaSetNoPrimary\",this.setName=e.setName,this.set={},this.id=e.id,this.setName=e.setName,this.logger=e.logger||a(\"ReplSet\",e),this.index=0,this.acceptableLatency=e.acceptableLatency||15,this.heartbeatFrequencyMS=e.heartbeatFrequencyMS||1e4,this.primary=null,this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.maxElectionId=null,this.maxSetVersion=0,this.replicasetDescription={topologyType:\"Unknown\",servers:[]},this.logicalSessionTimeoutMinutes=void 0};r(p,s),p.prototype.hasPrimaryAndSecondary=function(){return null!=this.primary&&this.secondaries.length>0},p.prototype.hasPrimaryOrSecondary=function(){return this.hasPrimary()||this.hasSecondary()},p.prototype.hasPrimary=function(){return null!=this.primary},p.prototype.hasSecondary=function(){return this.secondaries.length>0},p.prototype.get=function(e){for(var t=this.allServers(),n=0;n<t.length;n++)if(t[n].name.toLowerCase()===e.toLowerCase())return t[n];return null},p.prototype.allServers=function(e){e=e||{};var t=this.primary?[this.primary]:[];return t=t.concat(this.secondaries),e.ignoreArbiters||(t=t.concat(this.arbiters)),t.concat(this.passives)},p.prototype.destroy=function(e){this.primary&&this.primary.destroy(e),this.secondaries.forEach(function(t){t.destroy(e)}),this.arbiters.forEach(function(t){t.destroy(e)}),this.passives.forEach(function(t){t.destroy(e)}),this.ghosts.forEach(function(t){t.destroy(e)}),this.secondaries=[],this.arbiters=[],this.passives=[],this.ghosts=[],this.unknownServers=[],this.set={},this.primary=null,w(this)},p.prototype.remove=function(e,t){t=t||{};var n=e.name.toLowerCase(),r=this.primary?[this.primary]:[];r=(r=(r=r.concat(this.secondaries)).concat(this.arbiters)).concat(this.passives);for(var o=0;o<r.length;o++)if(!t.force&&r[o].equals(e)&&r[o].isConnected&&r[o].isConnected())return;this.set[n]&&(this.set[n].type=\"Unknown\",this.set[n].electionId=null,this.set[n].setName=null,this.set[n].setVersion=null);var i=null;this.primary&&this.primary.equals(e)&&(this.primary=null,this.topologyType=\"ReplicaSetNoPrimary\",i=\"primary\"),i=b(e,this.secondaries)?\"secondary\":i,i=b(e,this.arbiters)?\"arbiter\":i,i=b(e,this.passives)?\"secondary\":i,b(e,this.ghosts),b(e,this.unknownServers),this.unknownServers.push(n),i&&this.emit(\"left\",i,e)};const h=e=>e.arbiterOnly&&e.setName;p.prototype.update=function(e){var t=e.lastIsMaster(),n=e.name.toLowerCase();if(t){var r=Array.isArray(t.hosts)?t.hosts:[];r=(r=(r=r.concat(Array.isArray(t.arbiters)?t.arbiters:[])).concat(Array.isArray(t.passives)?t.passives:[])).map(function(e){return e.toLowerCase()});for(var i=0;i<r.length;i++)-1!==this.unknownServers.indexOf(r[i])||this.set[r[i]]&&\"Unknown\"!==this.set[r[i]].type||this.unknownServers.push(r[i].toLowerCase()),this.set[r[i]]||(this.set[r[i]]={type:\"Unknown\",electionId:null,setName:null,setVersion:null})}if(!t&&!g(0,e,this.unknownServers))return this.set[n]={type:\"Unknown\",setVersion:null,electionId:null,setName:null},this.set[n].type=\"Unknown\",this.set[n].electionId=t?t.electionId:t,this.set[n].setName=t?t.setName:t,this.set[n].setVersion=t?t.setVersion:t,-1===this.unknownServers.indexOf(e.name)&&this.unknownServers.push(n),!1;if(void 0===t.logicalSessionTimeoutMinutes||h(t)||(this.logicalSessionTimeoutMinutes=void 0===this.logicalSessionTimeoutMinutes||null===t.logicalSessionTimeoutMinutes?t.logicalSessionTimeoutMinutes:Math.min(this.logicalSessionTimeoutMinutes,t.logicalSessionTimeoutMinutes)),t&&\"isdbgrid\"===t.msg)return!1;if(t.setName&&t.hidden||t.setName&&!t.ismaster&&!t.secondary&&!t.arbiterOnly&&!t.passive)return this.set[n]={type:\"RSOther\",setVersion:null,electionId:null,setName:t.setName},this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",t.setName&&(this.setName=t.setName),!1;if(t.isreplicaset)return this.set[n]={type:\"RSGhost\",setVersion:null,electionId:null,setName:null},this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",t.setName&&(this.setName=t.setName),!1;if(t&&t.ismaster&&!t.setName)return this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"Unknown\",this.remove(e,{force:!0}),!1;if(t&&!t.ismaster&&!t.secondary&&!t.arbiterOnly)return this.remove(e,{force:!0}),!1;if(t.me&&t.me.toLowerCase()!==n)return this.logger.isWarn()&&this.logger.warn(o(\"the seedlist server was removed due to its address %s not matching its ismaster.me address %s\",e.name,t.me)),delete this.set[n],b(e,this.unknownServers),e.destroy(),this.topologyType=this.primary&&!this.primary.equals(e)?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",!this.primary&&t.primary&&(this.set[t.primary.toLowerCase()]={type:\"PossiblePrimary\",setName:null,electionId:null,setVersion:null}),!1;if(!this.primary&&t.ismaster&&t.setName){var s=e.lastIsMaster().electionId;if(this.setName&&this.setName!==t.setName)return this.topologyType=\"ReplicaSetNoPrimary\",new c(o(\"setName from ismaster does not match provided connection setName [%s] != [%s]\",t.setName,this.setName));if(!this.maxElectionId&&s)this.maxElectionId=s;else if(this.maxElectionId&&s){var a=v(this.maxElectionId,s),u=e.lastIsMaster().setVersion;if(1===a)return this.topologyType=\"ReplicaSetNoPrimary\",!1;if(0===a&&u&&u<this.maxSetVersion)return this.topologyType=\"ReplicaSetNoPrimary\",!1;this.maxSetVersion=u,this.maxElectionId=s}return-1!==t.hosts.map(function(e){return e.toLowerCase()}).indexOf(n)?(this.primary=e,this.set[n]={type:\"RSPrimary\",setVersion:t.setVersion,electionId:t.electionId,setName:t.setName},this.topologyType=\"ReplicaSetWithPrimary\",t.setName&&(this.setName=t.setName),b(e,this.unknownServers),b(e,this.secondaries),b(e,this.passives),this.emit(\"joined\",\"primary\",e)):this.topologyType=\"ReplicaSetNoPrimary\",w(this),!0}if(t.ismaster&&t.setName){var l=this.set[this.primary.name.toLowerCase()].electionId,p=this.set[this.primary.name.toLowerCase()].setVersion,f=this.set[this.primary.name.toLowerCase()].setName;s=e.lastIsMaster().electionId,u=e.lastIsMaster().setVersion;var d=e.lastIsMaster().setName;if(this.primary.equals(e)&&f===d)return!1;if(f&&f!==d)return this.topologyType=this.primary.equals(e)?\"ReplicaSetNoPrimary\":\"ReplicaSetWithPrimary\",!1;if(l&&s){if(1===(a=v(l,s)))return!1;if(0===a&&p>u)return!1}else if(!l&&s&&u&&u<this.maxSetVersion)return!1;if(!this.maxElectionId&&s)this.maxElectionId=s;else if(this.maxElectionId&&s){if(1===(a=v(this.maxElectionId,s)))return!1;if(0===a&&p&&u){if(u<this.maxSetVersion)return!1}else if(u<this.maxSetVersion)return!1;this.maxElectionId=s,this.maxSetVersion=u}else this.maxSetVersion=u;return this.set[this.primary.name.toLowerCase()]={type:\"Unknown\",setVersion:null,electionId:null,setName:null},this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=e,this.set[n]={type:\"RSPrimary\",setVersion:t.setVersion,electionId:t.electionId,setName:t.setName},this.topologyType=\"ReplicaSetWithPrimary\",t.setName&&(this.setName=t.setName),b(e,this.unknownServers),b(e,this.secondaries),b(e,this.passives),this.emit(\"joined\",\"primary\",e),w(this),!0}return!this.primary&&t.primary&&(this.set[t.primary.toLowerCase()]={type:\"PossiblePrimary\",setVersion:null,electionId:null,setName:null}),t.secondary&&t.setName&&!g(0,e,this.secondaries)&&this.setName&&this.setName===t.setName?(y(this,\"RSSecondary\",t,e,this.secondaries),this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",t.setName&&(this.setName=t.setName),b(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()===n&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),w(this),!0):h(t)&&!g(0,e,this.arbiters)&&this.setName&&this.setName===t.setName?(y(this,\"RSArbiter\",t,e,this.arbiters),this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",t.setName&&(this.setName=t.setName),b(e,this.unknownServers),this.emit(\"joined\",\"arbiter\",e),w(this),!0):t.passive&&t.setName&&!g(0,e,this.passives)&&this.setName&&this.setName===t.setName?(y(this,\"RSSecondary\",t,e,this.passives),this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",t.setName&&(this.setName=t.setName),b(e,this.unknownServers),this.primary&&this.primary.name.toLowerCase()===n&&(e.destroy(),this.primary=null,this.emit(\"left\",\"primary\",e)),this.emit(\"joined\",\"secondary\",e),w(this),!0):this.set[n]&&\"RSPrimary\"===this.set[n].type?(this.emit(\"left\",\"primary\",this.primary),this.primary.destroy(),this.primary=null,this.topologyType=\"ReplicaSetNoPrimary\",!1):(this.topologyType=this.primary?\"ReplicaSetWithPrimary\":\"ReplicaSetNoPrimary\",!1)},p.prototype.updateServerMaxStaleness=function(e,t){for(var n=0,r=0;r<this.secondaries.length;r++)n=Math.max(n,this.secondaries[r].lastWriteDate);e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&this.hasPrimary()?e.staleness=e.lastUpdateTime-e.lastWriteDate-(this.primary.lastUpdateTime-this.primary.lastWriteDate)+t:e.ismaster.maxWireVersion>=5&&e.ismaster.secondary&&(e.staleness=n-e.lastWriteDate+t)},p.prototype.updateSecondariesMaxStaleness=function(e){for(var t=0;t<this.secondaries.length;t++)this.updateServerMaxStaleness(this.secondaries[t],e)},p.prototype.pickServer=function(e){if(\"primary\"===(e=e||u.primary).preference&&null!=e.maxStalenessSeconds)return new c(\"primary readPreference incompatible with maxStalenessSeconds\");var t=this.primary?[this.primary]:[];if(t=t.concat(this.secondaries),null!=e.maxStalenessSeconds)for(var n=0;n<t.length;n++)if(t[n].ismaster.maxWireVersion<5)return new c(\"maxStalenessSeconds not supported by at least one of the replicaset members\");if(\"nearest\"===e.preference&&null==e.maxStalenessSeconds)return m(this,e);if(\"nearest\"===e.preference&&null!=e.maxStalenessSeconds)return d(this,e);var r=this.secondaries;if(e.equals(u.secondary)&&0===r.length)return new c(\"no secondary server available\");if(e.equals(u.secondaryPreferred)&&0===r.length&&null==this.primary)return new c(\"no secondary or primary server available\");if(e.equals(u.primary)&&null==this.primary)return new c(\"no primary server available\");if(e.equals(u.secondaryPreferred)||e.equals(u.secondary)){if(r.length>0&&null==e.maxStalenessSeconds){var o=m(this,e);if(o)return o}else if(r.length>0&&null!=e.maxStalenessSeconds&&(o=d(this,e)))return o;return e.equals(u.secondaryPreferred)?this.primary:null}if(e.equals(u.primaryPreferred)){if(o=null,this.primary)return this.primary;if(r.length>0&&null==e.maxStalenessSeconds?o=m(this,e):r.length>0&&null!=e.maxStalenessSeconds&&(o=d(this,e)),o)return o}return this.primary};var f=function(e,t){if(null==e.tags)return t;for(var n=[],r=Array.isArray(e.tags)?e.tags:[e.tags],o=0;o<r.length;o++)for(var i=r[o],s=0;s<t.length;s++){var a=t[s].lastIsMaster().tags||{},u=!0;for(var c in i)a[c]!==i[c]&&(u=!1);u&&n.push(t[s])}return n};function d(e,t){var n=[],r=1e3*t.maxStalenessSeconds;if(r<9e4)return new c(\"maxStalenessSeconds must be set to at least 90 seconds\");e.primary&&\"secondary\"!==t.preference&&\"secondaryPreferred\"!==t.preference&&n.push(e.primary);for(var o=0;o<e.secondaries.length;o++)n.push(e.secondaries[o]);if(e.primary&&0===n.length&&\"secondaryPreferred\"!==t.preference&&n.push(e.primary),(n=(n=f(t,n)).filter(function(e){return e.staleness<=r})).sort(function(e,t){return e.lastIsMasterMS-t.lastIsMasterMS}),0===n.length)return null;e.index=e.index%n.length;var i=n[e.index];return e.index=e.index+1,i}function m(e,t){var n=[];e.primary&&\"secondary\"!==t.preference&&\"secondaryPreferred\"!==t.preference&&n.push(e.primary);for(var r=0;r<e.secondaries.length;r++)n.push(e.secondaries[r]);0===n.length&&e.primary&&\"secondaryPreferred\"!==t.preference&&n.push(e.primary),(n=f(t,n)).sort(function(e,t){return e.lastIsMasterMS-t.lastIsMasterMS});var o=n.length>0?n[0].lastIsMasterMS:0;if(0===(n=n.filter(function(t){return t.lastIsMasterMS<=o+e.acceptableLatency})).length)return null;e.index=e.index%n.length;var i=n[e.index];return e.index=e.index+1,i}function g(e,t,n){for(var r=0;r<n.length;r++)if(n[r]&&n[r].name&&n[r].name.toLowerCase()===t.name.toLowerCase())return!0;return!1}function y(e,t,n,r,o){var i=r.name.toLowerCase();e.set[i].type=t,e.set[i].electionId=n?n.electionId:n,e.set[i].setName=n?n.setName:n,e.set[i].setVersion=n?n.setVersion:n,o.push(r)}function v(e,t){var n=l.from(e.toHexString(),\"hex\"),r=l.from(t.toHexString(),\"hex\");if(n===r)return 0;if(\"function\"==typeof l.compare)return l.compare(n,r);for(var o=n.length,i=r.length,s=Math.min(o,i),a=0;a<s&&n[a]===r[a];a++);return a!==s&&(o=n[a],i=r[a]),o<i?-1:i<o?1:0}function b(e,t){for(var n=0;n<t.length;n++){if(t[n].equals&&t[n].equals(e))return t.splice(n,1),!0;if(\"string\"==typeof t[n]&&t[n].toLowerCase()===e.name.toLowerCase())return t.splice(n,1),!0}return!1}function w(e){if(e.listeners(\"topologyDescriptionChanged\").length>0){var t=\"Unknown\",n=e.setName;e.hasPrimaryAndSecondary()?t=\"ReplicaSetWithPrimary\":!e.hasPrimary()&&e.hasSecondary()&&(t=\"ReplicaSetNoPrimary\");var r={topologyType:t,setName:n,servers:[]};if(e.hasPrimary()){var o=e.primary.getDescription();o.type=\"RSPrimary\",r.servers.push(o)}r.servers=r.servers.concat(e.secondaries.map(function(e){var t=e.getDescription();return t.type=\"RSSecondary\",t})),r.servers=r.servers.concat(e.arbiters.map(function(e){var t=e.getDescription();return t.type=\"RSArbiter\",t})),r.servers=r.servers.concat(e.passives.map(function(e){var t=e.getDescription();return t.type=\"RSSecondary\",t}));var s=i(e.replicasetDescription,r);e.emit(\"topologyDescriptionChanged\",{topologyId:e.id,previousDescription:e.replicasetDescription,newDescription:r,diff:s}),e.replicasetDescription=r}}e.exports=p},frJE:function(e,t,n){\"use strict\";const{unassigned_code_points:r,commonly_mapped_to_nothing:o,non_ASCII_space_characters:i,prohibited_characters:s,bidirectional_r_al:a,bidirectional_l:u}=n(\"04Xk\");e.exports=function(e,t={}){if(\"string\"!=typeof e)throw new TypeError(\"Expected string.\");if(0===e.length)return\"\";const n=e.split(\"\").map(p).map(e=>c.get(e)?32:e).filter(e=>!l.get(e)),o=String.fromCodePoint(...n).normalize(\"NFKC\"),i=o.split(\"\").map(p);if(i.some(e=>s.get(e)))throw new Error(\"Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3\");if(!0!==t.allowUnassigned&&i.some(e=>r.get(e)))throw new Error(\"Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5\");const d=i.some(e=>a.get(e)),m=i.some(e=>u.get(e));if(d&&m)throw new Error(\"String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6\");const g=a.get(p(h(o))),y=a.get(p(f(o)));if(d&&(!g||!y))throw new Error(\"Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6\");return o};const c=i,l=o,p=e=>e.codePointAt(0),h=e=>e[0],f=e=>e[e.length-1]},\"g/H3\":function(e){e.exports={_from:\"mongodb@^3.1.8\",_id:\"mongodb@3.1.8\",_inBundle:!1,_integrity:\"sha512-yNKwYxQ6m00NV6+pMoWoheFTHSQVv1KkSrfOhRDYMILGWDYtUtQRqHrFqU75rmPIY8hMozVft8zdC4KYMWaM3Q==\",_location:\"/mongodb\",_phantomChildren:{},_requested:{type:\"range\",registry:!0,raw:\"mongodb@^3.1.8\",name:\"mongodb\",escapedName:\"mongodb\",rawSpec:\"^3.1.8\",saveSpec:null,fetchSpec:\"^3.1.8\"},_requiredBy:[\"#USER\",\"/\",\"/mongoose\"],_resolved:\"https://registry.npmjs.org/mongodb/-/mongodb-3.1.8.tgz\",_shasum:\"df8084fda2efdbaddd05dfd6a269891fc4cc72df\",_spec:\"mongodb@^3.1.8\",_where:\"C:\\\\Projects\\\\KPWebProjects\\\\KPWebProjects\\\\KPNodeJSWebApp\",author:{name:\"Christian Kvalheim\"},bugs:{url:\"https://github.com/mongodb/node-mongodb-native/issues\"},bundleDependencies:!1,dependencies:{\"mongodb-core\":\"3.1.7\",\"safe-buffer\":\"^5.1.2\"},deprecated:!1,description:\"The official MongoDB driver for Node.js\",devDependencies:{bluebird:\"3.5.0\",bson:\"^1.0.4\",chai:\"^4.1.1\",\"chai-subset\":\"^1.6.0\",co:\"4.6.0\",coveralls:\"^2.11.6\",eslint:\"^4.5.0\",\"eslint-plugin-prettier\":\"^2.2.0\",istanbul:\"^0.4.5\",jsdoc:\"3.5.5\",\"lodash.camelcase\":\"^4.3.0\",\"mocha-sinon\":\"^2.1.0\",\"mongodb-extjson\":\"^2.1.1\",\"mongodb-mock-server\":\"^1.0.0\",\"mongodb-test-runner\":\"^1.1.18\",prettier:\"~1.12.0\",semver:\"^5.5.0\",sinon:\"^4.3.0\",\"sinon-chai\":\"^3.2.0\",\"standard-version\":\"^4.4.0\",\"worker-farm\":\"^1.5.0\"},engines:{node:\">=4\"},files:[\"index.js\",\"lib\"],homepage:\"https://github.com/mongodb/node-mongodb-native\",keywords:[\"mongodb\",\"driver\",\"official\"],license:\"Apache-2.0\",main:\"index.js\",name:\"mongodb\",repository:{type:\"git\",url:\"git+ssh://git@github.com/mongodb/node-mongodb-native.git\"},scripts:{bench:\"node test/driverBench/\",coverage:\"istanbul cover mongodb-test-runner -- -t 60000  test/unit test/functional\",format:\"prettier --print-width 100 --tab-width 2 --single-quote --write 'test/**/*.js' 'lib/**/*.js'\",\"generate-evergreen\":\"node .evergreen/generate_evergreen_tasks.js\",lint:\"eslint lib test\",release:\"standard-version -i HISTORY.md\",test:\"npm run lint && mongodb-test-runner -t 60000 test/unit test/functional\"},version:\"3.1.8\"}},gCFD:function(e,t,n){\"use strict\";const r=n(\"+qE3\"),o=n(\"L/N5\").isResumableError,i=n(\"q64v\").MongoError;var s=[\"maxAwaitTimeMS\",\"collation\",\"readPreference\"];const a={COLLECTION:Symbol(\"Collection\"),DATABASE:Symbol(\"Database\"),CLUSTER:Symbol(\"Cluster\")};var u=function(e){e.resumeToken&&(e.options.resumeAfter=e.resumeToken);var t=p(e);if(e.listenerCount(\"change\")>0&&t.on(\"data\",function(t){d({changeStream:e,change:t,eventEmitter:!0})}),t.on(\"close\",function(){e.emit(\"close\")}),t.on(\"end\",function(){e.emit(\"end\")}),t.on(\"error\",function(t){d({changeStream:e,error:t,eventEmitter:!0})}),e.pipeDestinations){const n=t.stream(e.streamOptions);for(let t in e.pipeDestinations)n.pipe(t)}return t};function c(e){return e.resumeToken||e.options.resumeAfter}function l(e){const t=e.topology.lastIsMaster()||{};return t.maxWireVersion&&t.maxWireVersion>=7&&e.options.startAtOperationTime}var p=function(e){const t=e.topology,n=e.namespace,r=e.pipeline,o=e.options,i=e.cursorNamespace;var u={fullDocument:o.fullDocument||\"default\"};const p=c(e),h=l(e);p&&(u.resumeAfter=p),h&&(u.startAtOperationTime=h);var f={};s.forEach(function(e){o[e]&&(f[e]=o[e])}),e.type===a.CLUSTER&&(u.allChangesForCluster=!0);var d=[{$changeStream:u}];return d=d.concat(r),t.cursor(i,{aggregate:e.type===a.COLLECTION?n.collection:1,pipeline:d,readConcern:{level:\"majority\"},cursor:{batchSize:o.batchSize||1}},f)};const h=3e4;function f(e,t,n){setTimeout(()=>{t&&null==t.start&&(t.start=process.hrtime());const r=t.start||process.hrtime(),o=t.timeout||h;if(e.isConnected({readPreference:t.readPreference}))return n(null,null);const s=process.hrtime(r);if((1e9*s[0]+s[1])/1e6>o)return n(new i(\"Timed out waiting for connection\"));f(e,t,n)},3e3)}function d(e){const t=e.changeStream,n=e.error,r=e.change,i=e.callback,s=e.eventEmitter||!1,a=t.topology,p=t.cursor.options;if(n)return o(n)&&!t.attemptingResume?(t.attemptingResume=!0,c(t)||l(t)||(t.options=Object.assign({startAtOperationTime:t.cursor.cursorState.operationTime},t.options)),[\"data\",\"close\",\"end\",\"error\"].forEach(e=>t.cursor.removeAllListeners(e)),t.cursor.close(),s?void f(a,{readPreference:p.readPreference},e=>{if(e)return t.emit(\"error\",e);t.cursor=u(t)}):i?void f(a,{readPreference:p.readPreference},e=>{if(e)return i(e,null);t.cursor=u(t),t.next(i)}):new Promise((e,t)=>{f(a,{readPreference:p.readPreference},n=>{if(n)return t(n);e()})}).then(()=>t.cursor=u(t)).then(()=>t.next())):s?t.emit(\"error\",n):\"function\"==typeof i?i(n,null):t.promiseLibrary.reject(n);if(t.attemptingResume=!1,!r||!r._id){var h=new Error(\"A change stream document has been received that lacks a resume token (_id).\");return s?t.emit(\"error\",h):\"function\"==typeof i?i(h,null):t.promiseLibrary.reject(h)}return t.resumeToken=r._id,s?t.emit(\"change\",r):\"function\"==typeof i?i(n,r):t.promiseLibrary.resolve(r)}e.exports=class extends r{constructor(e,t,r){super();const o=n(\"Hwnt\"),s=n(\"mn2F\"),c=n(\"wcAq\");if(this.pipeline=t||[],this.options=r||{},this.cursorNamespace=void 0,this.namespace={},e instanceof o)this.type=a.COLLECTION,this.topology=e.s.db.serverConfig,this.namespace={collection:e.collectionName,database:e.s.db.databaseName},this.cursorNamespace=`${this.namespace.database}.${this.namespace.collection}`;else if(e instanceof s)this.type=a.DATABASE,this.namespace={collection:\"\",database:e.databaseName},this.cursorNamespace=this.namespace.database,this.topology=e.serverConfig;else{if(!(e instanceof c))throw new TypeError(\"changeDomain provided to ChangeStream constructor is not an instance of Collection, Db, or MongoClient\");this.type=a.CLUSTER,this.namespace={collection:\"\",database:\"admin\"},this.cursorNamespace=this.namespace.database,this.topology=e.topology}this.promiseLibrary=e.s.promiseLibrary,!this.options.readPreference&&e.s.readPreference&&(this.options.readPreference=e.s.readPreference);const l=this.topology.lastIsMaster();if(!l)throw new i(\"Topology does not have an ismaster yet.\");this.operationTime=l.operationTime,this.cursor=u(this),this.on(\"newListener\",e=>{\"change\"===e&&this.cursor&&0===this.listenerCount(\"change\")&&this.cursor.on(\"data\",e=>d({changeStream:this,change:e,eventEmitter:!0}))}),this.on(\"removeListener\",e=>{\"change\"===e&&0===this.listenerCount(\"change\")&&this.cursor&&this.cursor.removeAllListeners(\"data\")})}hasNext(e){return this.cursor.hasNext(e)}next(e){var t=this;return this.isClosed()?e?e(new Error(\"Change Stream is not open.\"),null):t.promiseLibrary.reject(new Error(\"Change Stream is not open.\")):this.cursor.next().then(n=>d({changeStream:t,change:n,callback:e})).catch(n=>d({changeStream:t,error:n,callback:e}))}isClosed(){return!this.cursor||this.cursor.isClosed()}close(e){if(!this.cursor)return e?e():this.promiseLibrary.resolve();var t=this.cursor;return delete this.cursor,t.close(e)}pipe(e,t){return this.pipeDestinations||(this.pipeDestinations=[]),this.pipeDestinations.push(e),this.cursor.pipe(e,t)}unpipe(e){return this.pipeDestinations&&this.pipeDestinations.indexOf(e)>-1&&this.pipeDestinations.splice(this.pipeDestinations.indexOf(e),1),this.cursor.unpipe(e)}stream(e){return this.streamOptions=e,this.cursor.stream(e)}pause(){return this.cursor.pause()}resume(){return this.cursor.resume()}}},glTG:function(e,t,n){\"use strict\";var r=n(\"q64v\").BSON.Binary,o=n(\"q64v\").BSON.ObjectID,i=n(\"hwdV\").Buffer,s=function(e,t,n){if(!(this instanceof s))return new s(e,t);this.file=e;var a=null==t?{}:t;if(this.writeConcern=n||{w:1},this.objectId=null==a._id?new o:a._id,this.chunkNumber=null==a.n?0:a.n,this.data=new r,\"string\"==typeof a.data){var u=i.alloc(a.data.length);u.write(a.data,0,a.data.length,\"binary\"),this.data=new r(u)}else if(Array.isArray(a.data)){u=i.alloc(a.data.length);var c=a.data.join(\"\");u.write(c,0,c.length,\"binary\"),this.data=new r(u)}else if(a.data&&\"Binary\"===a.data._bsontype)this.data=a.data;else if(!i.isBuffer(a.data)&&null!=a.data)throw Error(\"Illegal chunk format\");this.internalPosition=0};s.prototype.write=function(e,t){return this.data.write(e,this.internalPosition,e.length,\"binary\"),this.internalPosition=this.data.length(),null!=t?t(null,this):this},s.prototype.read=function(e){if(e=null==e||0===e?this.length():e,this.length()-this.internalPosition+1>=e){var t=this.data.read(this.internalPosition,e);return this.internalPosition=this.internalPosition+e,t}return\"\"},s.prototype.readSlice=function(e){if(this.length()-this.internalPosition>=e){var t=null;return null!=this.data.buffer?t=this.data.buffer.slice(this.internalPosition,this.internalPosition+e):(t=i.alloc(e),e=this.data.readInto(t,this.internalPosition)),this.internalPosition=this.internalPosition+e,t}return null},s.prototype.eof=function(){return this.internalPosition===this.length()},s.prototype.getc=function(){return this.read(1)},s.prototype.rewind=function(){this.internalPosition=0,this.data=new r},s.prototype.save=function(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),n.file.chunkCollection(function(r,o){if(r)return t(r);var i={upsert:!0};for(var s in e)i[s]=e[s];for(s in n.writeConcern)i[s]=n.writeConcern[s];n.data.length()>0?n.buildMongoObject(function(e){var r={forceServerObjectId:!0};for(var s in n.writeConcern)r[s]=n.writeConcern[s];o.replaceOne({_id:n.objectId},e,i,function(e){t(e,n)})}):t(null,n)})},s.prototype.buildMongoObject=function(e){var t={files_id:this.file.fileId,n:this.chunkNumber,data:this.data};null!=this.objectId&&(t._id=this.objectId),e(t)},s.prototype.length=function(){return this.data.length()},Object.defineProperty(s.prototype,\"position\",{enumerable:!0,get:function(){return this.internalPosition},set:function(e){this.internalPosition=e}}),s.DEFAULT_CHUNK_SIZE=261120,e.exports=s},gt1M:function(e,t,n){\"use strict\";var r=function(e,t,n){this.result=e,this.connection=t,this.message=n};r.prototype.toJSON=function(){return this.result},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.exports=r},hpSn:function(e,t,n){\"use strict\";const r=n(\"MCLT\").format,o=n(\"6uN0\").Kerberos,i=n(\"6uN0\").MongoAuthProcess,s=n(\"BvkA\").Query,a=n(\"OkLf\").MongoError;var u=function(e,t,n,r){this.db=e,this.username=t,this.password=n,this.options=r};u.prototype.equal=function(e){return e.db===this.db&&e.username===this.username&&e.password===this.password};var c=function(e){this.bson=e,this.authStore=[]};c.prototype.auth=function(e,t,n,i,s,c,h){var f=this;if(null==o)return h(new Error(\"Kerberos library is not installed\"));var d=c.gssapiServiceName||\"mongodb\",m=t.length;if(0===m)return h(null,null);for(var g=0,y=null;t.length>0;)!function(t){process.nextTick(function(){l(f,i,s,d,e,t,c,function(e,t){m-=1,e?y=e:t&&\"object\"==typeof t&&t.result.$err?y=t.result:t&&\"object\"==typeof t&&t.result.errmsg?y=t.result:g+=1,0===m&&g>0?(p(f.authStore,new u(n,i,s,c)),h(null,!0)):0===m&&(null==y&&(y=new a(r(\"failed to authenticate using mongocr\"))),h(y,!1))})})}(t.shift())};var l=function(e,t,n,r,o,a,u,c){var l=new i(a.host,a.port,r,u);o(a,new s(e.bson,\"$external.$cmd\",{saslStart:1,mechanism:\"GSSAPI\",payload:\"\",autoAuthorize:1},{numberToSkip:0,numberToReturn:1}),function(r,i){if(r)return c(r,!1);var u=i.result;l.init(t,n,function(t){if(t)return c(t);l.transition(u.payload,function(t,n){if(t)return c(t);o(a,new s(e.bson,\"$external.$cmd\",{saslContinue:1,conversationId:u.conversationId,payload:n},{numberToSkip:0,numberToReturn:1}),function(t,n){if(t)return c(t,!1);var r=n.result;l.transition(r.payload,function(t,n){if(t)return c(t);o(a,new s(e.bson,\"$external.$cmd\",{saslContinue:1,conversationId:r.conversationId,payload:n},{numberToSkip:0,numberToReturn:1}),function(t,n){if(t)return c(t,!1);var r=n.result;l.transition(r.payload,function(t,n){o(a,new s(e.bson,\"$external.$cmd\",{saslContinue:1,conversationId:r.conversationId,payload:n},{numberToSkip:0,numberToReturn:1}),function(e,t){return e?c(e,!1):t.result.done?c(null,!0):void c(new Error(\"Authentication failed\"),!1)})})})})})})})})},p=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(e[r].equal(t)){n=!0;break}n||e.push(t)};c.prototype.logout=function(e){this.authStore=this.authStore.filter(function(t){return t.db!==e})},c.prototype.reauthenticate=function(e,t,n){var r=this.authStore.slice(0),o=r.length;if(0===o)return n(null,null);for(var i=0;i<r.length;i++)this.auth(e,t,r[i].db,r[i].username,r[i].password,r[i].options,function(e){0==(o-=1)&&n(e,null)})},e.exports=c},hwdV:function(e,t,n){var r=n(\"tjlA\"),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return o(e,t,n)},s.alloc=function(e,t,n){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var r=o(e);return void 0!==t?\"string\"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return o(e)},s.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return r.SlowBuffer(e)}},iPq3:function(e,t,n){\"use strict\";const r=n(\"+kYq\"),o=r.BulkOperationBase,i=n(\"Bx6p\"),s=i.toError,a=i.handleCallback,u=r.BulkWriteResult,c=r.Batch,l=r.mergeBatchResults,p=i.executeOperation,h=n(\"q64v\").MongoWriteConcernError,f=n(\"+kYq\").handleMongoWriteConcernError,d=r.bson;function m(e,t,n){const o=d.calculateObjectSize(n,{checkKeys:!1});if(o>=e.s.maxBatchSizeBytes)throw s(\"document is larger than the maximum size \"+e.s.maxBatchSizeBytes);if(e.s.currentBatch=null,t===r.INSERT?e.s.currentBatch=e.s.currentInsertBatch:t===r.UPDATE?e.s.currentBatch=e.s.currentUpdateBatch:t===r.REMOVE&&(e.s.currentBatch=e.s.currentRemoveBatch),null==e.s.currentBatch&&(e.s.currentBatch=new c(t,e.s.currentIndex)),(e.s.currentBatch.size+1>=e.s.maxWriteBatchSize||e.s.currentBatch.sizeBytes+o>=e.s.maxBatchSizeBytes||e.s.currentBatch.batchType!==t)&&(e.s.batches.push(e.s.currentBatch),e.s.currentBatch=new c(t,e.s.currentIndex)),Array.isArray(n))throw s(\"operation passed in cannot be an Array\");return e.s.currentBatch.operations.push(n),e.s.currentBatch.originalIndexes.push(e.s.currentIndex),e.s.currentIndex=e.s.currentIndex+1,t===r.INSERT?(e.s.currentInsertBatch=e.s.currentBatch,e.s.bulkResult.insertedIds.push({index:e.s.bulkResult.insertedIds.length,_id:n._id})):t===r.UPDATE?e.s.currentUpdateBatch=e.s.currentBatch:t===r.REMOVE&&(e.s.currentRemoveBatch=e.s.currentBatch),e.s.currentBatch.size=e.s.currentBatch.size+1,e.s.currentBatch.sizeBytes=e.s.currentBatch.sizeBytes+o,e}class g extends o{constructor(e,t,n){n=n||{},super(e,t,n=Object.assign(n,{addToOperationsList:m}),!1)}execute(e,t,n){const r=this.bulkExecute(e,t,n);return p(this.s.topology,v,[this,t=r.options,n=r.callback])}}function y(e,t,n,r){e.finalOptionsHandler({options:n,batch:t,resultHandler:function(n,o){return!(n&&n.driver||n&&n.message)||n instanceof h?(n&&(n.ok=0),n instanceof h?f(t,e.s.bulkResult,!1,n,r):void a(r,null,l(!1,t,e.s.bulkResult,n,o))):a(r,n)}},r)}function v(e,t,n){let r=e.s.batches.length;for(let o=0;o<e.s.batches.length;o++)y(e,e.s.batches[o],t,function(t){if(0==(r-=1)){if(t)return a(n,t);const r=new u(e.s.bulkResult);if(e.handleWriteError(n,r))return;return a(n,null,r)}})}function b(e,t,n){return new g(e,t,n)}b.UnorderedBulkOperation=g,e.exports=b,e.exports.Bulk=g},j8Uq:function(e,t,n){\"use strict\";var r=n(\"M9st\").copy,o=n(\"M9st\").retrieveBSON,i=n(\"BvkA\").KillCursor,s=n(\"BvkA\").GetMore,a=n(\"BvkA\").Query,u=n(\"MCLT\").format,c=n(\"OkLf\").MongoError,l=n(\"+kV9\").getReadPreference,p=o().Long,h=function(){},f=function(e,t,n,r,o,i,s,l){if(0===i.length)throw new c(\"insert must contain at least one document\");\"function\"==typeof s&&(l=s,s=(s={})||{});var p=o.split(\".\"),h=p.shift(),f=\"boolean\"!=typeof s.ordered||s.ordered,d=s.writeConcern,m={};m[n]=p.join(\".\"),m[r]=i,m.ordered=f,d&&Object.keys(d).length>0&&(m.writeConcern=d),!0===s.bypassDocumentValidation&&(m.bypassDocumentValidation=s.bypassDocumentValidation);var g={command:!0};void 0!==s.session&&(g.session=s.session);var y={checkKeys:!1,numberToSkip:0,numberToReturn:1};\"insert\"===n&&(y.checkKeys=!0),\"boolean\"==typeof s.checkKeys&&(y.checkKeys=s.checkKeys),s.serializeFunctions&&(y.serializeFunctions=s.serializeFunctions),s.ignoreUndefined&&(y.ignoreUndefined=s.ignoreUndefined);try{var v=new a(t,u(\"%s.$cmd\",h),m,y);e.write(v,g,l)}catch(e){l(e)}};h.prototype.insert=function(e,t,n,r,o,i){f(e,n,\"insert\",\"documents\",t,r,o,i)},h.prototype.update=function(e,t,n,r,o,i){f(e,n,\"update\",\"updates\",t,r,o,i)},h.prototype.remove=function(e,t,n,r,o,i){f(e,n,\"delete\",\"deletes\",t,r,o,i)},h.prototype.killCursor=function(e,t,n,r,o){var s=new i(e,t,[n.cursorId]);const a={immediateRelease:!0,noResponse:!0};if(\"object\"==typeof n.session&&(a.session=n.session),r&&r.isConnected())try{r.write(s,a,o)}catch(e){\"function\"==typeof o?o(e,null):console.warn(e)}},h.prototype.getMore=function(e,t,n,r,o,i,a,u){var l=new s(e,t,n.cursorId,{numberToReturn:r}),h={};o&&(h.raw=o),\"boolean\"==typeof n.promoteLongs&&(h.promoteLongs=n.promoteLongs),\"boolean\"==typeof n.promoteValues&&(h.promoteValues=n.promoteValues),\"boolean\"==typeof n.promoteBuffers&&(h.promoteBuffers=n.promoteBuffers),\"object\"==typeof n.session&&(h.session=n.session),i.write(l,h,function(e,t){if(e)return u(e);var r=t.message;if(0!=(1&r.responseFlags))return u(new c(\"cursor does not exist, was killed or timed out\"),null);var o=\"number\"==typeof r.cursorId?p.fromNumber(r.cursorId):r.cursorId;n.documents=r.documents,n.cursorId=o,u(null,null,r.connection)})},h.prototype.command=function(e,t,n,r,o,i){if(n.find)return d(e,t,n,r,o,i);if(null==r.cursorId){if(n)return m(e,t,n,r,o,i);throw new c(u(\"command %s does not return a cursor\",JSON.stringify(n)))}};var d=function(e,t,n,o,i,s){var p=l(n,s=s||{});o.batchSize=n.batchSize||o.batchSize;var h=0;h=0===o.limit?o.batchSize:o.limit<0||o.limit<o.batchSize||o.limit>0&&0===o.batchSize?o.limit:o.batchSize;var f=o.skip||0,d={};if(\"mongos\"===i.type&&p&&(d.$readPreference=p.toJSON()),n.sort&&(d.$orderby=n.sort),n.hint&&(d.$hint=n.hint),n.snapshot&&(d.$snapshot=n.snapshot),void 0!==n.returnKey&&(d.$returnKey=n.returnKey),n.maxScan&&(d.$maxScan=n.maxScan),n.min&&(d.$min=n.min),n.max&&(d.$max=n.max),void 0!==n.showDiskLoc&&(d.$showDiskLoc=n.showDiskLoc),n.comment&&(d.$comment=n.comment),n.maxTimeMS&&(d.$maxTimeMS=n.maxTimeMS),n.explain&&(h=-Math.abs(n.limit||0),d.$explain=!0),d.$query=n.query,n.readConcern&&\"local\"!==n.readConcern.level)throw new c(u(\"server find command does not support a readConcern level of %s\",n.readConcern.level));n.readConcern&&delete(n=r(n)).readConcern;var m=new a(e,t,d,{numberToSkip:f,numberToReturn:h,pre32Limit:void 0!==n.limit?n.limit:void 0,checkKeys:!1,returnFieldSelector:n.fields,serializeFunctions:\"boolean\"==typeof s.serializeFunctions&&s.serializeFunctions,ignoreUndefined:\"boolean\"==typeof s.ignoreUndefined&&s.ignoreUndefined});return m.slaveOk=p.slaveOk(),\"boolean\"==typeof n.tailable&&(m.tailable=n.tailable),\"boolean\"==typeof n.oplogReplay&&(m.oplogReplay=n.oplogReplay),\"boolean\"==typeof n.noCursorTimeout&&(m.noCursorTimeout=n.noCursorTimeout),\"boolean\"==typeof n.awaitData&&(m.awaitData=n.awaitData),\"boolean\"==typeof n.partial&&(m.partial=n.partial),m},m=function(e,t,n,r,o,i){var s=l(n,i=i||{}),p={};for(var h in n)p[h]=n[h];var f=t.split(/\\./),d=\"boolean\"==typeof i.serializeFunctions&&i.serializeFunctions,m=\"boolean\"==typeof i.ignoreUndefined&&i.ignoreUndefined;if(n.readConcern&&\"local\"!==n.readConcern.level)throw new c(u(\"server %s command does not support a readConcern level of %s\",JSON.stringify(n),n.readConcern.level));n.readConcern&&delete n.readConcern,\"mongos\"===o.type&&s&&\"primary\"!==s.preference&&(p={$query:p,$readPreference:s.toJSON()});var g=new a(e,u(\"%s.$cmd\",f.shift()),p,{numberToSkip:0,numberToReturn:-1,checkKeys:!1,serializeFunctions:d,ignoreUndefined:m});return g.slaveOk=s.slaveOk(),g};e.exports=h},jWEn:function(e,t){var n;t=e.exports=Y,n=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(\"SEMVER\"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION=\"2.0.0\";var r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],s=t.src=[],a=0,u=a++;s[u]=\"0|[1-9]\\\\d*\";var c=a++;s[c]=\"[0-9]+\";var l=a++;s[l]=\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";var p=a++;s[p]=\"(\"+s[u]+\")\\\\.(\"+s[u]+\")\\\\.(\"+s[u]+\")\";var h=a++;s[h]=\"(\"+s[c]+\")\\\\.(\"+s[c]+\")\\\\.(\"+s[c]+\")\";var f=a++;s[f]=\"(?:\"+s[u]+\"|\"+s[l]+\")\";var d=a++;s[d]=\"(?:\"+s[c]+\"|\"+s[l]+\")\";var m=a++;s[m]=\"(?:-(\"+s[f]+\"(?:\\\\.\"+s[f]+\")*))\";var g=a++;s[g]=\"(?:-?(\"+s[d]+\"(?:\\\\.\"+s[d]+\")*))\";var y=a++;s[y]=\"[0-9A-Za-z-]+\";var v=a++;s[v]=\"(?:\\\\+(\"+s[y]+\"(?:\\\\.\"+s[y]+\")*))\";var b=a++,w=\"v?\"+s[p]+s[m]+\"?\"+s[v]+\"?\";s[b]=\"^\"+w+\"$\";var _=\"[v=\\\\s]*\"+s[h]+s[g]+\"?\"+s[v]+\"?\",S=a++;s[S]=\"^\"+_+\"$\";var C=a++;s[C]=\"((?:<|>)?=?)\";var O=a++;s[O]=s[c]+\"|x|X|\\\\*\";var E=a++;s[E]=s[u]+\"|x|X|\\\\*\";var T=a++;s[T]=\"[v=\\\\s]*(\"+s[E]+\")(?:\\\\.(\"+s[E]+\")(?:\\\\.(\"+s[E]+\")(?:\"+s[m]+\")?\"+s[v]+\"?)?)?\";var x=a++;s[x]=\"[v=\\\\s]*(\"+s[O]+\")(?:\\\\.(\"+s[O]+\")(?:\\\\.(\"+s[O]+\")(?:\"+s[g]+\")?\"+s[v]+\"?)?)?\";var N=a++;s[N]=\"^\"+s[C]+\"\\\\s*\"+s[T]+\"$\";var A=a++;s[A]=\"^\"+s[C]+\"\\\\s*\"+s[x]+\"$\";var I=a++;s[I]=\"(?:^|[^\\\\d])(\\\\d{1,16})(?:\\\\.(\\\\d{1,16}))?(?:\\\\.(\\\\d{1,16}))?(?:$|[^\\\\d])\";var k=a++;s[k]=\"(?:~>?)\";var P=a++;s[P]=\"(\\\\s*)\"+s[k]+\"\\\\s+\",i[P]=new RegExp(s[P],\"g\");var R=a++;s[R]=\"^\"+s[k]+s[T]+\"$\";var M=a++;s[M]=\"^\"+s[k]+s[x]+\"$\";var D=a++;s[D]=\"(?:\\\\^)\";var B=a++;s[B]=\"(\\\\s*)\"+s[D]+\"\\\\s+\",i[B]=new RegExp(s[B],\"g\");var L=a++;s[L]=\"^\"+s[D]+s[T]+\"$\";var j=a++;s[j]=\"^\"+s[D]+s[x]+\"$\";var U=a++;s[U]=\"^\"+s[C]+\"\\\\s*(\"+_+\")$|^$\";var V=a++;s[V]=\"^\"+s[C]+\"\\\\s*(\"+w+\")$|^$\";var z=a++;s[z]=\"(\\\\s*)\"+s[C]+\"\\\\s*(\"+_+\"|\"+s[T]+\")\",i[z]=new RegExp(s[z],\"g\");var q=a++;s[q]=\"^\\\\s*(\"+s[T]+\")\\\\s+-\\\\s+(\"+s[T]+\")\\\\s*$\";var F=a++;s[F]=\"^\\\\s*(\"+s[x]+\")\\\\s+-\\\\s+(\"+s[x]+\")\\\\s*$\";var H=a++;s[H]=\"(<|>)?=?\\\\s*\\\\*\";for(var W=0;W<a;W++)n(W,s[W]),i[W]||(i[W]=new RegExp(s[W]));function $(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Y)return e;if(\"string\"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[S]:i[b]).test(e))return null;try{return new Y(e,t)}catch(e){return null}}function Y(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Y){if(e.loose===t.loose)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(\"Invalid Version: \"+e);if(e.length>r)throw new TypeError(\"version is longer than \"+r+\" characters\");if(!(this instanceof Y))return new Y(e,t);n(\"SemVer\",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?i[S]:i[b]);if(!s)throw new TypeError(\"Invalid Version: \"+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>o||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>o||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>o||this.patch<0)throw new TypeError(\"Invalid patch version\");this.prerelease=s[4]?s[4].split(\".\").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):[],this.build=s[5]?s[5].split(\".\"):[],this.format()}t.parse=$,t.valid=function(e,t){var n=$(e,t);return n?n.version:null},t.clean=function(e,t){var n=$(e.trim().replace(/^[=v]+/,\"\"),t);return n?n.version:null},t.SemVer=Y,Y.prototype.format=function(){return this.version=this.major+\".\"+this.minor+\".\"+this.patch,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version},Y.prototype.toString=function(){return this.version},Y.prototype.compare=function(e){return n(\"SemVer.compare\",this.version,this.options,e),e instanceof Y||(e=new Y(e,this.options)),this.compareMain(e)||this.comparePre(e)},Y.prototype.compareMain=function(e){return e instanceof Y||(e=new Y(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},Y.prototype.comparePre=function(e){if(e instanceof Y||(e=new Y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n(\"prerelease compare\",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return K(r,o)}while(++t)},Y.prototype.inc=function(e,t){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",t);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",t);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)\"number\"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(\"invalid increment argument: \"+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){\"string\"==typeof n&&(r=n,n=void 0);try{return new Y(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(X(e,t))return null;var n=$(e),r=$(t);if(n.prerelease.length||r.prerelease.length){for(var o in n)if((\"major\"===o||\"minor\"===o||\"patch\"===o)&&n[o]!==r[o])return\"pre\"+o;return\"prerelease\"}for(var o in n)if((\"major\"===o||\"minor\"===o||\"patch\"===o)&&n[o]!==r[o])return o},t.compareIdentifiers=K;var G=/^[0-9]+$/;function K(e,t){var n=G.test(e),r=G.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function Z(e,t,n){return new Y(e,n).compare(new Y(t,n))}function Q(e,t,n){return Z(e,t,n)>0}function J(e,t,n){return Z(e,t,n)<0}function X(e,t,n){return 0===Z(e,t,n)}function ee(e,t,n){return 0!==Z(e,t,n)}function te(e,t,n){return Z(e,t,n)>=0}function ne(e,t,n){return Z(e,t,n)<=0}function re(e,t,n,r){var o;switch(t){case\"===\":\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),o=e===n;break;case\"!==\":\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),o=e!==n;break;case\"\":case\"=\":case\"==\":o=X(e,n,r);break;case\"!=\":o=ee(e,n,r);break;case\">\":o=Q(e,n,r);break;case\">=\":o=te(e,n,r);break;case\"<\":o=J(e,n,r);break;case\"<=\":o=ne(e,n,r);break;default:throw new TypeError(\"Invalid operator: \"+t)}return o}function oe(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n(\"comparator\",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===ie?\"\":this.operator+this.semver.version,n(\"comp\",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new Y(e,t).major},t.minor=function(e,t){return new Y(e,t).minor},t.patch=function(e,t){return new Y(e,t).patch},t.compare=Z,t.compareLoose=function(e,t){return Z(e,t,!0)},t.rcompare=function(e,t,n){return Z(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Q,t.lt=J,t.eq=X,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=oe;var ie={};function se(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof oe)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+e);this.format()}function ae(e){return!e||\"x\"===e.toLowerCase()||\"*\"===e}function ue(e,t,n,r,o,i,s,a,u,c,l,p,h){return((t=ae(n)?\"\":ae(r)?\">=\"+n+\".0.0\":ae(o)?\">=\"+n+\".\"+r+\".0\":\">=\"+t)+\" \"+(a=ae(u)?\"\":ae(c)?\"<\"+(+u+1)+\".0.0\":ae(l)?\"<\"+u+\".\"+(+c+1)+\".0\":p?\"<=\"+u+\".\"+c+\".\"+l+\"-\"+p:\"<=\"+a)).trim()}function ce(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var o,i,s,a,u;switch(e=new Y(e,r),t=new se(t,r),n){case\">\":o=Q,i=ne,s=J,a=\">\",u=\">=\";break;case\"<\":o=J,i=te,s=Q,a=\"<\",u=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(le(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=null,p=null;if(t.set[c].forEach(function(e){e.semver===ie&&(e=new oe(\">=0.0.0\")),l=l||e,p=p||e,o(e.semver,l.semver,r)?l=e:s(e.semver,p.semver,r)&&(p=e)}),l.operator===a||l.operator===u)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}oe.prototype.parse=function(e){var t=e.match(this.options.loose?i[U]:i[V]);if(!t)throw new TypeError(\"Invalid comparator: \"+e);this.operator=t[1],\"=\"===this.operator&&(this.operator=\"\"),this.semver=t[2]?new Y(t[2],this.options.loose):ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n(\"Comparator.test\",e,this.options.loose),this.semver===ie||(\"string\"==typeof e&&(e=new Y(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError(\"a Comparator is required\");var n;if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),\"\"===this.operator)return n=new se(e.value,t),le(this.value,n,t);if(\"\"===e.operator)return n=new se(this.value,t),le(e.semver,n,t);var r=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),o=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),i=this.semver.version===e.semver.version,s=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=re(this.semver,\"<\",e.semver,t)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),u=re(this.semver,\">\",e.semver,t)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return r||o||i&&s||a||u},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(\" \").trim()}).join(\"||\").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=(e=e.trim()).replace(t?i[F]:i[q],ue),n(\"hyphen replace\",e),e=e.replace(i[z],\"$1$2$3\"),n(\"comparator trim\",e,i[z]),e=(e=(e=e.replace(i[P],\"$1~\")).replace(i[B],\"$1^\")).split(/\\s+/).join(\" \");var r=t?i[U]:i[V],o=e.split(\" \").map(function(e){return function(e,t){return n(\"comp\",e,t),e=function(e,t){return e.trim().split(/\\s+/).map(function(e){return function(e,t){return n(\"caret\",e,t),t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e.replace(t.loose?i[j]:i[L],function(t,r,o,i,s){var a;return n(\"caret\",e,t,r,o,i,s),ae(r)?a=\"\":ae(o)?a=\">=\"+r+\".0.0 <\"+(+r+1)+\".0.0\":ae(i)?a=\"0\"===r?\">=\"+r+\".\"+o+\".0 <\"+r+\".\"+(+o+1)+\".0\":\">=\"+r+\".\"+o+\".0 <\"+(+r+1)+\".0.0\":s?(n(\"replaceCaret pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\"0\"===r?\"0\"===o?\">=\"+r+\".\"+o+\".\"+i+s+\" <\"+r+\".\"+o+\".\"+(+i+1):\">=\"+r+\".\"+o+\".\"+i+s+\" <\"+r+\".\"+(+o+1)+\".0\":\">=\"+r+\".\"+o+\".\"+i+s+\" <\"+(+r+1)+\".0.0\"):(n(\"no pr\"),a=\"0\"===r?\"0\"===o?\">=\"+r+\".\"+o+\".\"+i+\" <\"+r+\".\"+o+\".\"+(+i+1):\">=\"+r+\".\"+o+\".\"+i+\" <\"+r+\".\"+(+o+1)+\".0\":\">=\"+r+\".\"+o+\".\"+i+\" <\"+(+r+1)+\".0.0\"),n(\"caret return\",a),a})}(e,t)}).join(\" \")}(e,t),n(\"caret\",e),e=function(e,t){return e.trim().split(/\\s+/).map(function(e){return function(e,t){return t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e.replace(t.loose?i[M]:i[R],function(t,r,o,i,s){var a;return n(\"tilde\",e,t,r,o,i,s),ae(r)?a=\"\":ae(o)?a=\">=\"+r+\".0.0 <\"+(+r+1)+\".0.0\":ae(i)?a=\">=\"+r+\".\"+o+\".0 <\"+r+\".\"+(+o+1)+\".0\":s?(n(\"replaceTilde pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\">=\"+r+\".\"+o+\".\"+i+s+\" <\"+r+\".\"+(+o+1)+\".0\"):a=\">=\"+r+\".\"+o+\".\"+i+\" <\"+r+\".\"+(+o+1)+\".0\",n(\"tilde return\",a),a})}(e,t)}).join(\" \")}(e,t),n(\"tildes\",e),e=function(e,t){return n(\"replaceXRanges\",e,t),e.split(/\\s+/).map(function(e){return function(e,t){return e=e.trim(),t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e.replace(t.loose?i[A]:i[N],function(t,r,o,i,s,a){n(\"xRange\",e,t,r,o,i,s,a);var u=ae(o),c=u||ae(i),l=c||ae(s);return\"=\"===r&&l&&(r=\"\"),u?t=\">\"===r||\"<\"===r?\"<0.0.0\":\"*\":r&&l?(c&&(i=0),l&&(s=0),\">\"===r?(r=\">=\",c?(o=+o+1,i=0,s=0):l&&(i=+i+1,s=0)):\"<=\"===r&&(r=\"<\",c?o=+o+1:i=+i+1),t=r+o+\".\"+i+\".\"+s):c?t=\">=\"+o+\".0.0 <\"+(+o+1)+\".0.0\":l&&(t=\">=\"+o+\".\"+i+\".0 <\"+o+\".\"+(+i+1)+\".0\"),n(\"xRange return\",t),t})}(e,t)}).join(\" \")}(e,t),n(\"xrange\",e),e=function(e,t){return n(\"replaceStars\",e,t),e.trim().replace(i[H],\"\")}(e,t),n(\"stars\",e),e}(e,this.options)},this).join(\" \").split(/\\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(r)})),o.map(function(e){return new oe(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError(\"a Range is required\");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(\" \").trim().split(\" \")})},se.prototype.test=function(e){if(!e)return!1;\"string\"==typeof e&&(e=new Y(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new se(t,n)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new Y(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new se(t,n)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new Y(r=e,n)))}),r},t.validRange=function(e,t){try{return new se(e,t).range||\"*\"}catch(e){return null}},t.ltr=function(e,t,n){return pe(e,t,\"<\",n)},t.gtr=function(e,t,n){return pe(e,t,\">\",n)},t.outside=pe,t.prerelease=function(e,t){var n=$(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof Y)return e;if(\"string\"!=typeof e)return null;var t=e.match(i[I]);return null==t?null:$((t[1]||\"0\")+\".\"+(t[2]||\"0\")+\".\"+(t[3]||\"0\"))}},kHNH:function(e,t){var n=function e(t,n){if(!(this instanceof e))return new e(t,n);this._bsontype=\"Code\",this.code=t,this.scope=n};n.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},e.exports=n,e.exports.Code=n},\"kVK+\":function(e,t){t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,p=n?o-1:0,h=n?-1:1,f=e[t+p];for(p+=h,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+e[t+p],p+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+p],p+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),i-=c}return(f?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,p=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,o),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;e[n+f]=255&a,f+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+f]=255&s,f+=d,s/=256,c-=8);e[n+f-d]|=128*m}},kpKE:function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype=\"MaxKey\"}e.exports=n,e.exports.MaxKey=n},lrrP:function(e,t,n){\"use strict\";const r=n(\"OkLf\").MongoError;let o,i;i={NO_TRANSACTION:[\"NO_TRANSACTION\",\"STARTING_TRANSACTION\"],STARTING_TRANSACTION:[\"TRANSACTION_IN_PROGRESS\",\"TRANSACTION_COMMITTED\",\"TRANSACTION_COMMITTED_EMPTY\",\"TRANSACTION_ABORTED\"],TRANSACTION_IN_PROGRESS:[\"TRANSACTION_IN_PROGRESS\",\"TRANSACTION_COMMITTED\",\"TRANSACTION_ABORTED\"],TRANSACTION_COMMITTED:[\"TRANSACTION_COMMITTED\",\"TRANSACTION_COMMITTED_EMPTY\",\"STARTING_TRANSACTION\",\"NO_TRANSACTION\"],TRANSACTION_ABORTED:[\"STARTING_TRANSACTION\",\"NO_TRANSACTION\"],TRANSACTION_COMMITTED_EMPTY:[\"TRANSACTION_COMMITTED_EMPTY\",\"NO_TRANSACTION\"]},e.exports={TxnState:o={NO_TRANSACTION:\"NO_TRANSACTION\",STARTING_TRANSACTION:\"STARTING_TRANSACTION\",TRANSACTION_IN_PROGRESS:\"TRANSACTION_IN_PROGRESS\",TRANSACTION_COMMITTED:\"TRANSACTION_COMMITTED\",TRANSACTION_COMMITTED_EMPTY:\"TRANSACTION_COMMITTED_EMPTY\",TRANSACTION_ABORTED:\"TRANSACTION_ABORTED\"},Transaction:class{constructor(e){if(e=e||{},this.state=o.NO_TRANSACTION,this.options={},e.writeConcern||void 0!==e.w){if((e.writeConcern?e.writeConcern.w:e.w)<=0)throw new r(\"Transactions do not support unacknowledged write concern\");this.options.writeConcern=e.writeConcern?e.writeConcern:{w:e.w}}e.readConcern&&(this.options.readConcern=e.readConcern),e.readPreference&&(this.options.readPreference=e.readPreference)}get isActive(){return-1!==[o.STARTING_TRANSACTION,o.TRANSACTION_IN_PROGRESS].indexOf(this.state)}transition(e){const t=i[this.state];if(!t||-1===t.indexOf(e))throw new r(`Attempted illegal state transition from [${this.state}] to [${e}]`);this.state=e}}}},mn2F:function(e,t,n){\"use strict\";const r=n(\"+qE3\").EventEmitter,o=n(\"MCLT\").inherits,i=n(\"Bx6p\").getSingleProperty,s=n(\"QVxV\"),a=n(\"Bx6p\").handleCallback,u=n(\"Bx6p\").filterOptions,c=n(\"Bx6p\").toError,l=n(\"q64v\").ReadPreference,p=n(\"q64v\").MongoError,h=n(\"q64v\").ObjectID,f=n(\"q64v\").Logger,d=n(\"Hwnt\"),m=n(\"Bx6p\").mergeOptionsAndWriteConcern,g=n(\"Bx6p\").executeOperation,y=n(\"Bx6p\").applyWriteConcern,v=n(\"Bx6p\").resolveReadPreference,b=n(\"gCFD\"),w=n(\"MCLT\").deprecate,_=n(\"Bx6p\").deprecateOptions,S=n(\"upQV\").addUser,C=n(\"upQV\").collections,O=n(\"upQV\").createCollection,E=n(\"upQV\").createIndex,T=n(\"upQV\").createListener,x=n(\"upQV\").dropCollection,N=n(\"upQV\").dropDatabase,A=n(\"upQV\").ensureIndex,I=n(\"upQV\").evaluate,k=n(\"upQV\").executeCommand,P=n(\"upQV\").executeDbAdminCommand,R=n(\"upQV\").indexInformation,M=n(\"upQV\").listCollectionsTransforms,D=n(\"upQV\").profilingInfo,B=n(\"upQV\").profilingLevel,L=n(\"upQV\").removeUser,j=n(\"upQV\").setProfilingLevel,U=n(\"upQV\").validateDatabaseName,V=[\"w\",\"wtimeout\",\"fsync\",\"j\",\"readPreference\",\"readPreferenceTags\",\"native_parser\",\"forceServerObjectId\",\"pkFactory\",\"serializeFunctions\",\"raw\",\"bufferMaxEntries\",\"authSource\",\"ignoreUndefined\",\"promoteLongs\",\"promiseLibrary\",\"readConcern\",\"retryMiliSeconds\",\"numberOfRetries\",\"parentDb\",\"noListener\",\"loggerLevel\",\"logger\",\"promoteBuffers\",\"promoteLongs\",\"promoteValues\",\"compression\",\"retryWrites\"];function z(e,t,n){if(n=n||{},!(this instanceof z))return new z(e,t,n);r.call(this);const o=n.promiseLibrary||Promise;(n=u(n,V)).promiseLibrary=o,this.s={databaseName:e,dbCache:{},children:[],topology:t,options:n,logger:f(\"Db\",n),bson:t?t.bson:null,readPreference:n.readPreference,bufferMaxEntries:\"number\"==typeof n.bufferMaxEntries?n.bufferMaxEntries:-1,parentDb:n.parentDb||null,pkFactory:n.pkFactory||h,nativeParser:n.nativeParser||n.native_parser,promiseLibrary:o,noListener:\"boolean\"==typeof n.noListener&&n.noListener,readConcern:n.readConcern},U(this.s.databaseName),i(this,\"serverConfig\",this.s.topology),i(this,\"bufferMaxEntries\",this.s.bufferMaxEntries),i(this,\"databaseName\",this.s.databaseName),n.parentDb||this.s.noListener||(t.on(\"error\",T(this,\"error\",this)),t.on(\"timeout\",T(this,\"timeout\",this)),t.on(\"close\",T(this,\"close\",this)),t.on(\"parseError\",T(this,\"parseError\",this)),t.once(\"open\",T(this,\"open\",this)),t.once(\"fullsetup\",T(this,\"fullsetup\",this)),t.once(\"all\",T(this,\"all\",this)),t.on(\"reconnect\",T(this,\"reconnect\",this)))}o(z,r),Object.defineProperty(z.prototype,\"topology\",{enumerable:!0,get:function(){return this.s.topology}}),Object.defineProperty(z.prototype,\"options\",{enumerable:!0,get:function(){return this.s.options}}),Object.defineProperty(z.prototype,\"slaveOk\",{enumerable:!0,get:function(){return null!=this.s.options.readPreference&&(\"primary\"!==this.s.options.readPreference||\"primary\"!==this.s.options.readPreference.mode)}}),Object.defineProperty(z.prototype,\"writeConcern\",{enumerable:!0,get:function(){const e={};return null!=this.s.options.w&&(e.w=this.s.options.w),null!=this.s.options.j&&(e.j=this.s.options.j),null!=this.s.options.fsync&&(e.fsync=this.s.options.fsync),null!=this.s.options.wtimeout&&(e.wtimeout=this.s.options.wtimeout),e}}),z.prototype.command=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),t=Object.assign({},t),g(this.s.topology,k,[this,e,t,n])},z.prototype.admin=function(){return new(n(\"IkSr\"))(this,this.s.topology,this.s.promiseLibrary)};const q=[\"pkFactory\",\"readPreference\",\"serializeFunctions\",\"strict\",\"readConcern\",\"ignoreUndefined\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\"];z.prototype.collection=function(e,t,n){if(\"function\"==typeof t&&(n=t,t={}),t=t||{},(t=Object.assign({},t)).promiseLibrary=this.s.promiseLibrary,t.readConcern=t.readConcern||this.s.readConcern,this.s.options.ignoreUndefined&&(t.ignoreUndefined=this.s.options.ignoreUndefined),null==(t=m(t,this.s.options,q,!0))||!t.strict)try{const r=new d(this,this.s.topology,this.s.databaseName,e,this.s.pkFactory,t);return n&&n(null,r),r}catch(e){if(e instanceof p&&n)return n(e);throw e}if(\"function\"!=typeof n)throw c(`A callback is required in strict mode. While getting collection ${e}`);if(this.serverConfig&&this.serverConfig.isDestroyed())return n(new p(\"topology was destroyed\"));const r=Object.assign({},t,{nameOnly:!0});this.listCollections({name:e},r).toArray((r,o)=>{if(null!=r)return a(n,r,null);if(0===o.length)return a(n,c(`Collection ${e} does not exist. Currently in strict mode.`),null);try{return a(n,null,new d(this,this.s.topology,this.s.databaseName,e,this.s.pkFactory,t))}catch(r){return a(n,r,null)}})},z.prototype.createCollection=_({name:\"Db.createCollection\",deprecatedOptions:[\"autoIndexId\"],optionsIndex:1},function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),(t=t||{}).promiseLibrary=t.promiseLibrary||this.s.promiseLibrary,g(this.s.topology,O,[this,e,t,n])}),z.prototype.stats=function(e,t){\"function\"==typeof e&&(t=e,e={});const n={dbStats:!0};return null!=(e=e||{}).scale&&(n.scale=e.scale),null==e.readPreference&&this.s.readPreference&&(e.readPreference=this.s.readPreference),this.command(n,e,t)},z.prototype.listCollections=function(e,t){e=e||{},t=t||{},(t=Object.assign({},t)).promiseLibrary=this.s.promiseLibrary,t.readPreference=v(t,{db:this,default:l.primary});let n=t.batchSize?{batchSize:t.batchSize}:{};if(this.serverConfig.capabilities().hasListCollectionsCommand){const r={listCollections:!0,filter:e,cursor:n,nameOnly:\"boolean\"==typeof t.nameOnly&&t.nameOnly};return t.cursorFactory=s,n=this.s.topology.cursor(`${this.s.databaseName}.$cmd`,r,t),t.readPreference&&n.setReadPreference(t.readPreference),n}this.serverConfig.capabilities().hasListCollectionsCommand||\"string\"!=typeof e.name||new RegExp(\"^\"+this.databaseName+\"\\\\.\").test(e.name)||((e=Object.assign({},e)).name=`${this.s.databaseName}.${e.name}`),null==e&&(e.name=`/${this.s.databaseName}/`),e=e.name?{$and:[{name:e.name},{name:/^((?!\\$).)*$/}]}:{name:/^((?!\\$).)*$/};const r={transforms:M(this.s.databaseName)};return n=this.collection(z.SYSTEM_NAMESPACE_COLLECTION).find(e,r),t.readPreference&&n.setReadPreference(t.readPreference),t.batchSize&&(n=n.batchSize(t.batchSize)),n},z.prototype.eval=w(function(e,t,n,r){const o=Array.prototype.slice.call(arguments,1);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,t=o.length?o.shift():t,n=o.length&&o.shift()||{},g(this.s.topology,I,[this,e,t,n,r])},\"Db.eval is deprecated as of MongoDB version 3.2\"),z.prototype.renameCollection=function(e,t,n,r){\"function\"==typeof n&&(r=n,n={}),(n=n||{}).new_collection=!0;const o=this.collection(e);return g(this.s.topology,o.rename.bind(o),[t,n,r])},z.prototype.dropCollection=function(e,t,n){\"function\"==typeof t&&(n=t,t={});const r={drop:e};y(r,{db:this},t=t||{});const o=Object.assign({},this.s.options,{readPreference:l.PRIMARY});return t.session&&(o.session=t.session),g(this.s.topology,x,[this,r,o,n])},z.prototype.dropDatabase=function(e,t){\"function\"==typeof e&&(t=e,e={});const n={dropDatabase:1};y(n,{db:this},e=e||{});const r=Object.assign({},this.s.options,{readPreference:l.PRIMARY});return e.session&&(r.session=e.session),g(this.s.topology,N,[this,n,r,t])},z.prototype.collections=function(e,t){return\"function\"==typeof e&&(t=e,e={}),g(this.s.topology,C,[this,e=e||{},t])},z.prototype.executeDbAdminCommand=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),(t=t||{}).readPreference=v(t),g(this.s.topology,P,[this,e,t,n])},z.prototype.createIndex=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),n=n?Object.assign({},n):{},g(this.s.topology,E,[this,e,t,n,r])},z.prototype.ensureIndex=w(function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),g(this.s.topology,A,[this,e,t,n=n||{},r])},\"Db.ensureIndex is deprecated as of MongoDB version 3.0 / driver version 2.0\"),z.prototype.addChild=function(e){if(this.s.parentDb)return this.s.parentDb.addChild(e);this.s.children.push(e)},z.prototype.addUser=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),g(this.s.topology,S,[this,e,t,n=n||{},r])},z.prototype.removeUser=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),g(this.s.topology,L,[this,e,t=t||{},n])},z.prototype.setProfilingLevel=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),g(this.s.topology,j,[this,e,t=t||{},n])},z.prototype.profilingInfo=w(function(e,t){return\"function\"==typeof e&&(t=e,e={}),g(this.s.topology,D,[this,e=e||{},t])},\"Db.profilingInfo is deprecated. Query the system.profile collection directly.\"),z.prototype.profilingLevel=function(e,t){return\"function\"==typeof e&&(t=e,e={}),g(this.s.topology,B,[this,e=e||{},t])},z.prototype.indexInformation=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),g(this.s.topology,R,[this,e,t=t||{},n])},z.prototype.unref=function(){this.s.topology.unref()},z.prototype.watch=function(e,t){return e=e||[],t=t||{},Array.isArray(e)||(t=e,e=[]),new b(this,e,t)},z.prototype.getLogger=function(){return this.s.logger},z.SYSTEM_NAMESPACE_COLLECTION=\"system.namespaces\",z.SYSTEM_INDEX_COLLECTION=\"system.indexes\",z.SYSTEM_PROFILE_COLLECTION=\"system.profile\",z.SYSTEM_USER_COLLECTION=\"system.users\",z.SYSTEM_COMMAND_COLLECTION=\"$cmd\",z.SYSTEM_JS_COLLECTION=\"system.js\",e.exports=z},q64v:function(e,t,n){\"use strict\";var r=n(\"W30b\"),o=n(\"Vx2P\");const i=n(\"6uN0\").retrieveEJSON();try{var s=o(\"bson-ext\");s&&(r=s)}catch(e){}e.exports={MongoError:n(\"OkLf\").MongoError,MongoNetworkError:n(\"OkLf\").MongoNetworkError,MongoParseError:n(\"OkLf\").MongoParseError,MongoTimeoutError:n(\"OkLf\").MongoTimeoutError,MongoWriteConcernError:n(\"OkLf\").MongoWriteConcernError,mongoErrorContextSymbol:n(\"OkLf\").mongoErrorContextSymbol,Connection:n(\"Nnq7\"),Server:n(\"Tvfz\"),ReplSet:n(\"W3LV\"),Mongos:n(\"apNv\"),Logger:n(\"0C3t\"),Cursor:n(\"Ch8i\"),ReadPreference:n(\"R4vf\"),Sessions:n(\"rObB\"),BSON:r,EJSON:i,Query:n(\"BvkA\").Query,defaultAuthProviders:n(\"WN5W\").defaultAuthProviders,MongoCR:n(\"WWxJ\"),X509:n(\"IQKq\"),Plain:n(\"PrLZ\"),GSSAPI:n(\"Zwq/\"),ScramSHA1:n(\"bojC\").ScramSHA1,ScramSHA256:n(\"bojC\").ScramSHA256,parseConnectionString:n(\"Hk6q\")}},q6MH:function(e,t,n){\"use strict\";const r=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).Transform,o=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).PassThrough,i=n(\"MCLT\").inherits,s=n(\"MCLT\").deprecate,a=n(\"Bx6p\").handleCallback,u=n(\"q64v\").ReadPreference,c=n(\"q64v\").MongoError,l=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).Readable,p=n(\"q64v\").Cursor,h=n(\"q64v\").BSON.Map,f=n(\"Bx6p\").executeOperation,d=n(\"Ut3Q\").count,m=n(\"Ut3Q\").each,g=n(\"Ut3Q\").hasNext,y=n(\"Ut3Q\").next,v=n(\"Ut3Q\").toArray,b=[\"tailable\",\"oplogReplay\",\"noCursorTimeout\",\"awaitData\",\"exhaust\",\"partial\"],w=[\"numberOfRetries\",\"tailableRetryInterval\"];function _(e,t,n,r,o,i){p.apply(this,Array.prototype.slice.call(arguments,0));const s=_.INIT,a=r.numberOfRetries||5,u=r.tailableRetryInterval||500,c=a,h=r.promiseLibrary||Promise;l.call(this,{objectMode:!0}),this.s={numberOfRetries:a,tailableRetryInterval:u,currentNumberOfRetries:c,state:s,streamOptions:{},bson:e,ns:t,cmd:n,options:r,topology:o,topologyOptions:i,promiseLibrary:h,currentDoc:null,explicitlyIgnoreSession:r.explicitlyIgnoreSession},!r.explicitlyIgnoreSession&&r.session&&(this.s.session=r.session),!0===this.s.options.noCursorTimeout&&this.addCursorFlag(\"noCursorTimeout\",!0),this.sortValue=this.s.cmd.sort,this.setCursorBatchSize(n.cursor&&n.cursor.batchSize?n.cursor&&n.cursor.batchSize:r.cursor&&r.cursor.batchSize?r.cursor.batchSize:1e3)}i(_,l),_.prototype._next=function(){return this._initImplicitSession&&this._initImplicitSession(),p.prototype.next.apply(this,arguments)};for(let S in p.prototype)_.prototype[S]=p.prototype[S];_.prototype._initImplicitSession=function(){this.s.explicitlyIgnoreSession||this.s.session||!this.s.topology.hasSessionSupport()||(this.s.session=this.s.topology.startSession({owner:this}),this.cursorState.session=this.s.session)},_.prototype._endSession=function(){p.prototype._endSession.apply(this,arguments)&&(this.s.session=void 0)},_.prototype.hasNext=function(e){return f(this.s.topology,g,[this,e],{skipSessions:!0})},_.prototype.next=function(e){return f(this.s.topology,y,[this,e],{skipSessions:!0})},_.prototype.filter=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.query=e,this},_.prototype.maxScan=s(function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxScan=e,this},\"Cursor.maxScan is deprecated, and will be removed in a later version\"),_.prototype.hint=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.hint=e,this},_.prototype.min=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.min=e,this},_.prototype.max=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.max=e,this},_.prototype.returnKey=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.returnKey=e,this},_.prototype.showRecordId=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.showDiskLoc=e,this},_.prototype.snapshot=s(function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.snapshot=e,this},\"Cursor Snapshot is deprecated, and will be removed in a later version\"),_.prototype.setCursorOption=function(e,t){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(-1===w.indexOf(e))throw c.create({message:`option ${e} is not a supported option ${w}`,driver:!0});return this.s[e]=t,\"numberOfRetries\"===e&&(this.s.currentNumberOfRetries=t),this},_.prototype.addCursorFlag=function(e,t){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(-1===b.indexOf(e))throw c.create({message:`flag ${e} is not a supported flag ${b}`,driver:!0});if(\"boolean\"!=typeof t)throw c.create({message:`flag ${e} must be a boolean value`,driver:!0});return this.s.cmd[e]=t,this},_.prototype.addQueryModifier=function(e,t){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"$\"!==e[0])throw c.create({message:`${e} is not a valid query modifier`,driver:!0});const n=e.substr(1);return this.s.cmd[n]=t,\"orderby\"===n&&(this.s.cmd.sort=this.s.cmd[n]),this},_.prototype.comment=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.comment=e,this},_.prototype.maxAwaitTimeMS=function(e){if(\"number\"!=typeof e)throw c.create({message:\"maxAwaitTimeMS must be a number\",driver:!0});if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxAwaitTimeMS=e,this},_.prototype.maxTimeMs=_.prototype.maxTimeMS=function(e){if(\"number\"!=typeof e)throw c.create({message:\"maxTimeMS must be a number\",driver:!0});if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.maxTimeMS=e,this},_.prototype.project=function(e){if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});return this.s.cmd.fields=e,this},_.prototype.sort=function(e,t){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support sorting\",driver:!0});if(this.s.state===_.CLOSED||this.s.state===_.OPEN||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});let n=e;return Array.isArray(n)&&Array.isArray(n[0])&&(n=new h(n.map(e=>{const t=[e[0],null];if(\"asc\"===e[1])t[1]=1;else if(\"desc\"===e[1])t[1]=-1;else{if(1!==e[1]&&-1!==e[1]&&!e[1].$meta)throw new c(\"Illegal sort clause, must be of the form [['field1', '(ascending|descending)'], ['field2', '(ascending|descending)']]\");t[1]=e[1]}return t}))),null!=t&&(n=[[e,t]]),this.s.cmd.sort=n,this.sortValue=n,this},_.prototype.batchSize=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support batchSize\",driver:!0});if(this.s.state===_.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"batchSize requires an integer\",driver:!0});return this.s.cmd.batchSize=e,this.setCursorBatchSize(e),this},_.prototype.collation=function(e){return this.s.cmd.collation=e,this},_.prototype.limit=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support limit\",driver:!0});if(this.s.state===_.OPEN||this.s.state===_.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"limit requires an integer\",driver:!0});return this.s.cmd.limit=e,this.setCursorLimit(e),this},_.prototype.skip=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor doesn't support skip\",driver:!0});if(this.s.state===_.OPEN||this.s.state===_.CLOSED||this.isDead())throw c.create({message:\"Cursor is closed\",driver:!0});if(\"number\"!=typeof e)throw c.create({message:\"skip requires an integer\",driver:!0});return this.s.cmd.skip=e,this.setCursorSkip(e),this},_.prototype.each=s(function(e){this.rewind(),this.s.state=_.INIT,m(this,e)},\"Cursor.each is deprecated. Use Cursor.forEach instead.\"),_.prototype.forEach=function(e,t){if(this.rewind(),this.s.state=_.INIT,\"function\"!=typeof t)return new this.s.promiseLibrary((t,n)=>{m(this,(r,o)=>r?(n(r),!1):null==o?(t(null),!1):(e(o),!0))});m(this,(n,r)=>{if(n)return t(n),!1;if(null!=r)return e(r),!0;if(null==r&&t){const e=t;return t=null,e(null),!1}})},_.prototype.setReadPreference=function(e){if(this.s.state!==_.INIT)throw c.create({message:\"cannot change cursor readPreference after cursor has been accessed\",driver:!0});if(e instanceof u)this.s.options.readPreference=e;else{if(\"string\"!=typeof e)throw new TypeError(\"Invalid read preference: \"+e);this.s.options.readPreference=new u(e)}return this},_.prototype.toArray=function(e){if(this.s.options.tailable)throw c.create({message:\"Tailable cursor cannot be converted to array\",driver:!0});return f(this.s.topology,v,[this,e],{skipSessions:!0})},_.prototype.count=function(e,t,n){if(null==this.s.cmd.query)throw c.create({message:\"count can only be used with find command\",driver:!0});return\"function\"==typeof t&&(n=t,t={}),t=t||{},\"function\"==typeof e&&(n=e,e=!0),this.s.session&&(t=Object.assign({},t,{session:this.s.session})),f(this.s.topology,d,[this,e,t,n],{skipSessions:!!this.s.session})},_.prototype.close=function(e,t){\"function\"==typeof e&&(t=e,e={}),e=Object.assign({},{skipKillCursors:!1},e),this.s.state=_.CLOSED,e.skipKillCursors||this.kill();const n=()=>(this.emit(\"close\"),\"function\"==typeof t?a(t,null,this):new this.s.promiseLibrary(e=>{e()}));return this.s.session?\"function\"==typeof t?this._endSession(()=>n()):new this.s.promiseLibrary(e=>{this._endSession(()=>n().then(e))}):n()},_.prototype.map=function(e){if(this.cursorState.transforms&&this.cursorState.transforms.doc){const t=this.cursorState.transforms.doc;this.cursorState.transforms.doc=(n=>e(t(n)))}else this.cursorState.transforms={doc:e};return this},_.prototype.isClosed=function(){return this.isDead()},_.prototype.destroy=function(e){e&&this.emit(\"error\",e),this.pause(),this.close()},_.prototype.stream=function(e){return this.s.streamOptions=e||{},this},_.prototype.transformStream=function(e){const t=e||{};if(\"function\"==typeof t.transform){const e=new r({objectMode:!0,transform:function(e,n,r){this.push(t.transform(e)),r()}});return this.pipe(e)}return this.pipe(new o({objectMode:!0}))},_.prototype.explain=function(e){return this.s.cmd.explain=!0,this.s.cmd.readConcern&&delete this.s.cmd.readConcern,f(this.s.topology,this._next.bind(this),[e],{skipSessions:!0})},_.prototype._read=function(){if(this.s.state===_.CLOSED||this.isDead())return this.push(null);this.next((e,t)=>e?(this.listeners(\"error\")&&this.listeners(\"error\").length>0&&this.emit(\"error\",e),this.isDead()||this.close(),this.emit(\"end\"),this.emit(\"finish\")):\"function\"==typeof this.s.streamOptions.transform&&null!=t?this.push(this.s.streamOptions.transform(t)):this.cursorState.transforms&&\"function\"==typeof this.cursorState.transforms.doc&&null!=t?this.push(this.cursorState.transforms.doc(t)):(this.push(t),void(null===t&&this.isDead()&&this.once(\"end\",()=>{this.close(),this.emit(\"finish\")}))))},_.prototype.getLogger=function(){return this.logger},Object.defineProperty(_.prototype,\"readPreference\",{enumerable:!0,get:function(){return this&&this.s?this.s.options.readPreference:null}}),Object.defineProperty(_.prototype,\"namespace\",{enumerable:!0,get:function(){if(!this||!this.s)return null;const e=this.s.ns||\"\",t=e.indexOf(\".\");return t<0?{database:this.s.ns,collection:\"\"}:{database:e.substr(0,t),collection:e.substr(t+1)}}}),_.INIT=0,_.OPEN=1,_.CLOSED=2,_.GET_MORE=3,e.exports=_},qL64:function(e,t,n){\"use strict\";if(void 0!==global.Map)e.exports=global.Map,e.exports.Map=global.Map;else{var r=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}};r.prototype.clear=function(){this._keys=[],this._values={}},r.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},r.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},r.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},r.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},r.prototype.has=function(e){return null!=this._values[e]},r.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},r.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},r.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(r.prototype,\"size\",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=r,e.exports.Map=r}},qchN:function(e,t,n){\"use strict\";var r=n(\"MqoK\"),o=/^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/,i=/^(\\+|-)?(Infinity|inf)$/i,s=/^(\\+|-)?NaN$/i,a=6176,u=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),p=/^([-+])?(\\d+)?$/,h=function(e){return!isNaN(parseInt(e,10))},f=function(e){var t=r.fromNumber(1e9),n=r.fromNumber(0),o=0;if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(o=0;o<=3;o++)n=(n=n.shiftLeft(32)).add(new r(e.parts[o],0)),e.parts[o]=n.div(t).low_,n=n.modulo(t);return{quotient:e,rem:n}},d=function(e){this._bsontype=\"Decimal128\",this.bytes=e};d.fromString=function(e){var t,n=!1,f=!1,m=!1,g=0,y=0,v=0,b=0,w=0,_=[0],S=0,C=0,O=0,E=0,T=0,x=0,N=[0,0],A=[0,0],I=0;if((e=e.trim()).length>=7e3)throw new Error(e+\" not a valid Decimal128 string\");var k=e.match(o),P=e.match(i),R=e.match(s);if(!k&&!P&&!R||0===e.length)throw new Error(e+\" not a valid Decimal128 string\");if(k&&k[4]&&void 0===k[2])throw new Error(e+\" not a valid Decimal128 string\");if(\"+\"!==e[I]&&\"-\"!==e[I]||(n=\"-\"===e[I++]),!h(e[I])&&\".\"!==e[I]){if(\"i\"===e[I]||\"I\"===e[I])return new d(new Buffer(n?c:l));if(\"N\"===e[I])return new d(new Buffer(u))}for(;h(e[I])||\".\"===e[I];)if(\".\"!==e[I])S<34&&(\"0\"!==e[I]||m)&&(m||(w=y),m=!0,_[C++]=parseInt(e[I],10),S+=1),m&&(v+=1),f&&(b+=1),y+=1,I+=1;else{if(f)return new d(new Buffer(u));f=!0,I+=1}if(f&&!y)throw new Error(e+\" not a valid Decimal128 string\");if(\"e\"===e[I]||\"E\"===e[I]){var M=e.substr(++I).match(p);if(!M||!M[2])return new d(new Buffer(u));T=parseInt(M[0],10),I+=M[0].length}if(e[I])return new d(new Buffer(u));if(O=0,S){if(E=S-1,g=v,0!==T&&1!==g)for(;\"0\"===e[w+g-1];)g-=1}else O=0,E=0,_[0]=0,v=1,S=1,g=0;for(T<=b&&b-T>16384?T=-6176:T-=b;T>6111;){if((E+=1)-O>34){var D=_.join(\"\");if(D.match(/^0+$/)){T=6111;break}return new d(new Buffer(n?c:l))}T-=1}for(;T<-6176||S<v;){if(0===E){T=-6176,g=0;break}if(S<v?v-=1:E-=1,!(T<6111)){if((D=_.join(\"\")).match(/^0+$/)){T=6111;break}return new d(new Buffer(n?c:l))}T+=1}if(E-O+1<g&&\"0\"!==e[g]){var B=y;f&&-6176===T&&(w+=1,B+=1);var L=parseInt(e[w+E+1],10),j=0;if(L>=5&&(j=1,5===L))for(j=_[E]%2==1,x=w+E+2;x<B;x++)if(parseInt(e[x],10)){j=1;break}if(j)for(var U=E;U>=0&&++_[U]>9;U--)if(_[U]=0,0===U){if(!(T<6111))return new d(new Buffer(n?c:l));T+=1,_[U]=1}}if(N=r.fromNumber(0),A=r.fromNumber(0),0===g)N=r.fromNumber(0),A=r.fromNumber(0);else if(E-O<17)for(U=O,A=r.fromNumber(_[U++]),N=new r(0,0);U<=E;U++)A=(A=A.multiply(r.fromNumber(10))).add(r.fromNumber(_[U]));else{for(U=O,N=r.fromNumber(_[U++]);U<=E-17;U++)N=(N=N.multiply(r.fromNumber(10))).add(r.fromNumber(_[U]));for(A=r.fromNumber(_[U++]);U<=E;U++)A=(A=A.multiply(r.fromNumber(10))).add(r.fromNumber(_[U]))}var V,z,q,F,H=function(e,t){if(!e&&!t)return{high:r.fromNumber(0),low:r.fromNumber(0)};var n=e.shiftRightUnsigned(32),o=new r(e.getLowBits(),0),i=t.shiftRightUnsigned(32),s=new r(t.getLowBits(),0),a=n.multiply(i),u=n.multiply(s),c=o.multiply(i),l=o.multiply(s);return a=a.add(u.shiftRightUnsigned(32)),u=new r(u.getLowBits(),0).add(c).add(l.shiftRightUnsigned(32)),{high:a=a.add(u.shiftRightUnsigned(32)),low:l=u.shiftLeft(32).add(new r(l.getLowBits(),0))}}(N,r.fromString(\"100000000000000000\"));H.low=H.low.add(A),((q=(V=H.low).high_>>>0)<(F=(z=A).high_>>>0)||q===F&&V.low_>>>0<z.low_>>>0)&&(H.high=H.high.add(r.fromNumber(1))),t=T+a;var W={low:r.fromNumber(0),high:r.fromNumber(0)};H.high.shiftRightUnsigned(49).and(r.fromNumber(1)).equals(r.fromNumber)?(W.high=W.high.or(r.fromNumber(3).shiftLeft(61)),W.high=W.high.or(r.fromNumber(t).and(r.fromNumber(16383).shiftLeft(47))),W.high=W.high.or(H.high.and(r.fromNumber(0x7fffffffffff)))):(W.high=W.high.or(r.fromNumber(16383&t).shiftLeft(49)),W.high=W.high.or(H.high.and(r.fromNumber(562949953421311)))),W.low=H.low,n&&(W.high=W.high.or(r.fromString(\"9223372036854775808\")));var $=new Buffer(16);return I=0,$[I++]=255&W.low.low_,$[I++]=W.low.low_>>8&255,$[I++]=W.low.low_>>16&255,$[I++]=W.low.low_>>24&255,$[I++]=255&W.low.high_,$[I++]=W.low.high_>>8&255,$[I++]=W.low.high_>>16&255,$[I++]=W.low.high_>>24&255,$[I++]=255&W.high.low_,$[I++]=W.high.low_>>8&255,$[I++]=W.high.low_>>16&255,$[I++]=W.high.low_>>24&255,$[I++]=255&W.high.high_,$[I++]=W.high.high_>>8&255,$[I++]=W.high.high_>>16&255,$[I++]=W.high.high_>>24&255,new d($)},a=6176,d.prototype.toString=function(){for(var e,t,n,o,i,s,u=0,c=new Array(36),l=0;l<c.length;l++)c[l]=0;var p,h,d,m,g,y=0,v=!1,b={parts:new Array(4)},w=[];y=0;var _=this.bytes;if(o=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24,n=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24,t=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24,e=_[y++]|_[y++]<<8|_[y++]<<16|_[y++]<<24,y=0,(new r(o,n),new r(t,e)).lessThan(r.ZERO)&&w.push(\"-\"),(i=e>>26&31)>>3==3){if(30===i)return w.join(\"\")+\"Infinity\";if(31===i)return\"NaN\";s=e>>15&16383,d=8+(e>>14&1)}else d=e>>14&7,s=e>>17&16383;if(p=s-a,b.parts[0]=(16383&e)+((15&d)<<14),b.parts[1]=t,b.parts[2]=n,b.parts[3]=o,0===b.parts[0]&&0===b.parts[1]&&0===b.parts[2]&&0===b.parts[3])v=!0;else for(g=3;g>=0;g--){var S=0,C=f(b);if(b=C.quotient,S=C.rem.low_)for(m=8;m>=0;m--)c[9*g+m]=S%10,S=Math.floor(S/10)}if(v)u=1,c[y]=0;else for(u=36,l=0;!c[y];)l++,u-=1,y+=1;if((h=u-1+p)>=34||h<=-7||p>0){for(w.push(c[y++]),(u-=1)&&w.push(\".\"),l=0;l<u;l++)w.push(c[y++]);w.push(\"E\"),w.push(h>0?\"+\"+h:h)}else if(p>=0)for(l=0;l<u;l++)w.push(c[y++]);else{var O=u+p;if(O>0)for(l=0;l<O;l++)w.push(c[y++]);else w.push(\"0\");for(w.push(\".\");O++<0;)w.push(\"0\");for(l=0;l<u-Math.max(O-1,0);l++)w.push(c[y++])}return w.join(\"\")},d.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.exports=d,e.exports.Decimal128=d},qvTl:function(e,t,n){\"use strict\";const r=n(\"+qE3\"),o=n(\"q64v\").MongoError,i=n(\"MCLT\").format,s=n(!function(){var e=new Error(\"Cannot find module 'os'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),a=n(\"Bx6p\").translateReadPreference,u=n(\"q64v\").Sessions.ClientSession;var c=function(e,t){var n=this;this.s={storedOps:[],storeOptions:t=t||{force:!1,bufferMaxEntries:-1},topology:e},Object.defineProperty(this,\"length\",{enumerable:!0,get:function(){return n.s.storedOps.length}})};c.prototype.add=function(e,t,n,r,s){if(this.s.storeOptions.force)return s(o.create({message:\"db closed by application\",driver:!0}));if(0===this.s.storeOptions.bufferMaxEntries)return s(o.create({message:i(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(o.create({message:i(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));else this.s.storedOps.push({t:e,n:t,o:n,op:r,c:s})},c.prototype.addObjectAndMethod=function(e,t,n,r,s){if(this.s.storeOptions.force)return s(o.create({message:\"db closed by application\",driver:!0}));if(0===this.s.storeOptions.bufferMaxEntries)return s(o.create({message:i(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));if(this.s.storeOptions.bufferMaxEntries>0&&this.s.storedOps.length>this.s.storeOptions.bufferMaxEntries)for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(o.create({message:i(\"no connection available for operation and number of stored operation > %s\",this.s.storeOptions.bufferMaxEntries),driver:!0}));else this.s.storedOps.push({t:e,m:n,o:t,p:r,c:s})},c.prototype.flush=function(e){for(;this.s.storedOps.length>0;)this.s.storedOps.shift().c(e||o.create({message:i(\"no connection available for operation\"),driver:!0}))};var l=[\"primary\",\"primaryPreferred\",\"nearest\",\"secondaryPreferred\"],p=[\"secondary\",\"secondaryPreferred\"];c.prototype.execute=function(e){e=e||{};var t=this.s.storedOps;this.s.storedOps=[];for(var n=\"boolean\"!=typeof e.executePrimary||e.executePrimary,r=\"boolean\"!=typeof e.executeSecondary||e.executeSecondary;t.length>0;){var o=t.shift();\"cursor\"===o.t?n&&r?o.o[o.m].apply(o.o,o.p):n&&o.o.options&&o.o.options.readPreference&&-1!==l.indexOf(o.o.options.readPreference.mode)?o.o[o.m].apply(o.o,o.p):!n&&r&&o.o.options&&o.o.options.readPreference&&-1!==p.indexOf(o.o.options.readPreference.mode)&&o.o[o.m].apply(o.o,o.p):\"auth\"===o.t?this.s.topology[o.t].apply(this.s.topology,o.o):n&&r?this.s.topology[o.t](o.n,o.o,o.op,o.c):n&&o.op&&o.op.readPreference&&-1!==l.indexOf(o.op.readPreference.mode)?this.s.topology[o.t](o.n,o.o,o.op,o.c):!n&&r&&o.op&&o.op.readPreference&&-1!==p.indexOf(o.op.readPreference.mode)&&this.s.topology[o.t](o.n,o.o,o.op,o.c)}},c.prototype.all=function(){return this.s.storedOps};var h=function(e){var t=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n}})},n=!1,r=!1,o=!1,i=!1,s=!1,a=!1,u=e.maxWriteBatchSize||1e3,c=!1,l=!1;e.minWireVersion>=0&&(o=!0),e.maxWireVersion>=1&&(n=!0,i=!0),e.maxWireVersion>=2&&(r=!0),e.maxWireVersion>=3&&(s=!0,a=!0),e.maxWireVersion>=5&&(c=!0,l=!0),null==e.minWireVersion&&(e.minWireVersion=0),null==e.maxWireVersion&&(e.maxWireVersion=0),t(this,\"hasAggregationCursor\",n),t(this,\"hasWriteCommands\",r),t(this,\"hasTextSearch\",o),t(this,\"hasAuthCommands\",i),t(this,\"hasListCollectionsCommand\",s),t(this,\"hasListIndexesCommand\",a),t(this,\"minWireVersion\",e.minWireVersion),t(this,\"maxWireVersion\",e.maxWireVersion),t(this,\"maxNumberOfDocsInBatch\",u),t(this,\"commandsTakeWriteConcern\",c),t(this,\"commandsTakeCollation\",l)};const f=n(\"g/H3\").version,d=i(\"Node.js %s, %s\",process.version,s.endianness()),m=s.type(),g=process.platform,y=process.arch,v=s.release();class b extends r{constructor(){super(),this.clientInfo={driver:{name:\"nodejs\",version:f},os:{type:m,name:g,architecture:y,version:v},platform:d},this.setMaxListeners(1/0)}hasSessionSupport(){return null!=this.logicalSessionTimeoutMinutes}startSession(e,t){const n=new u(this,this.s.sessionPool,e,t);return n.once(\"ended\",()=>{this.s.sessions=this.s.sessions.filter(e=>!e.equals(n))}),this.s.sessions.push(n),n}endSessions(e,t){return this.s.coreTopology.endSessions(e,t)}capabilities(){return this.s.sCapabilities?this.s.sCapabilities:null==this.s.coreTopology.lastIsMaster()?null:(this.s.sCapabilities=new h(this.s.coreTopology.lastIsMaster()),this.s.sCapabilities)}command(e,t,n,r){this.s.coreTopology.command(e,t,a(n),r)}insert(e,t,n,r){this.s.coreTopology.insert(e,t,n,r)}update(e,t,n,r){this.s.coreTopology.update(e,t,n,r)}remove(e,t,n,r){this.s.coreTopology.remove(e,t,n,r)}isConnected(e){return e=a(e=e||{}),this.s.coreTopology.isConnected(e)}isDestroyed(){return this.s.coreTopology.isDestroyed()}cursor(e,t,n){return(n=a(n=n||{})).disconnectHandler=this.s.store,n.topology=this,this.s.coreTopology.cursor(e,t,n)}lastIsMaster(){return this.s.coreTopology.lastIsMaster()}selectServer(e,t,n){return this.s.coreTopology.selectServer(e,t,n)}unref(){return this.s.coreTopology.unref()}auth(){var e=Array.prototype.slice.call(arguments,0);this.s.coreTopology.auth.apply(this.s.coreTopology,e)}logout(){var e=Array.prototype.slice.call(arguments,0);this.s.coreTopology.logout.apply(this.s.coreTopology,e)}connections(){return this.s.coreTopology.connections()}close(e){this.s.sessions.length&&this.s.sessions.forEach(e=>e.endSession()),this.s.sessionPool&&this.s.sessionPool.endAllPooledSessions(),this.s.coreTopology.destroy({force:\"boolean\"==typeof e&&e}),!0===e&&(this.s.storeOptions.force=e,this.s.store.flush())}}Object.defineProperty(b.prototype,\"bson\",{enumerable:!0,get:function(){return this.s.coreTopology.s.bson}}),Object.defineProperty(b.prototype,\"parserType\",{enumerable:!0,get:function(){return this.s.coreTopology.parserType}}),Object.defineProperty(b.prototype,\"logicalSessionTimeoutMinutes\",{enumerable:!0,get:function(){return this.s.coreTopology.logicalSessionTimeoutMinutes}}),Object.defineProperty(b.prototype,\"type\",{enumerable:!0,get:function(){return this.s.coreTopology.type}}),t.Store=c,t.ServerCapabilities=h,t.TopologyBase=b},r6Vy:function(e,t,n){\"use strict\";var r=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),o=n(\"MCLT\");function i(e,t,n,o,i){this.s={bytesRead:0,chunks:e,cursor:null,expected:0,files:t,filter:o,init:!1,expectedEnd:0,file:null,options:i,readPreference:n},r.Readable.call(this)}function s(e){if(e.s.init)throw new Error(\"You cannot change options after the stream has enteredflowing mode!\")}function a(e,t){e.emit(\"error\",t)}e.exports=i,o.inherits(i,r.Readable),i.prototype._read=function(){var e=this;this.destroyed||function(e,t){if(e.s.file)return t();var n,r;e.s.init||(r={},(n=e).s.readPreference&&(r.readPreference=n.s.readPreference),n.s.options&&n.s.options.sort&&(r.sort=n.s.options.sort),n.s.options&&n.s.options.skip&&(r.skip=n.s.options.skip),n.s.files.findOne(n.s.filter,r,function(e,t){if(e)return a(n,e);if(!t){var r=n.s.filter._id?n.s.filter._id.toString():n.s.filter.filename,o=new Error(\"FileNotFound: file \"+r+\" was not found\");return o.code=\"ENOENT\",a(n,o)}if(t.length<=0)n.push(null);else if(n.destroyed)n.emit(\"close\");else{n.s.bytesToSkip=function(e,t,n){if(n&&null!=n.start){if(n.start>t.length)throw new Error(\"Stream start (\"+n.start+\") must not be more than the length of the file (\"+t.length+\")\");if(n.start<0)throw new Error(\"Stream start (\"+n.start+\") must not be negative\");if(null!=n.end&&n.end<n.start)throw new Error(\"Stream start (\"+n.start+\") must not be greater than stream end (\"+n.end+\")\");return e.s.bytesRead=Math.floor(n.start/t.chunkSize)*t.chunkSize,e.s.expected=Math.floor(n.start/t.chunkSize),n.start-e.s.bytesRead}}(n,t,n.s.options);var i={files_id:t._id};if(n.s.options&&null!=n.s.options.start){var s=Math.floor(n.s.options.start/t.chunkSize);s>0&&(i.n={$gte:s})}n.s.cursor=n.s.chunks.find(i).sort({n:1}),n.s.readPreference&&n.s.cursor.setReadPreference(n.s.readPreference),n.s.expectedEnd=Math.ceil(t.length/t.chunkSize),n.s.file=t,n.s.bytesToTrim=function(e,t,n,r){if(r&&null!=r.end){if(r.end>t.length)throw new Error(\"Stream end (\"+r.end+\") must not be more than the length of the file (\"+t.length+\")\");if(r.start<0)throw new Error(\"Stream end (\"+r.end+\") must not be negative\");var o=null!=r.start?Math.floor(r.start/t.chunkSize):0;return n.limit(Math.ceil(r.end/t.chunkSize)-o),e.s.expectedEnd=Math.ceil(r.end/t.chunkSize),Math.ceil(r.end/t.chunkSize)*t.chunkSize-r.end}}(n,t,n.s.cursor,n.s.options),n.emit(\"file\",t)}}),e.s.init=!0),e.once(\"file\",function(){t()})}(e,function(){!function(e){e.destroyed||e.s.cursor.next(function(t,n){if(!e.destroyed){if(t)return a(e,t);if(!n)return e.push(null),e.s.cursor.close(function(t){if(t)return a(e,t);e.emit(\"close\")});var r=e.s.file.length-e.s.bytesRead,o=e.s.expected++,i=Math.min(e.s.file.chunkSize,r);if(n.n>o){var s=\"ChunkIsMissing: Got unexpected n: \"+n.n+\", expected: \"+o;return a(e,new Error(s))}if(n.n<o)return s=\"ExtraChunk: Got unexpected n: \"+n.n+\", expected: \"+o,a(e,new Error(s));var u=Buffer.isBuffer(n.data)?n.data:n.data.buffer;if(u.length!==i)return r<=0?(s=\"ExtraChunk: Got unexpected n: \"+n.n,a(e,new Error(s))):(s=\"ChunkIsWrongSize: Got unexpected length: \"+u.length+\", expected: \"+i,a(e,new Error(s)));if(e.s.bytesRead+=u.length,0===u.length)return e.push(null);var c=null,l=null;null!=e.s.bytesToSkip&&(c=e.s.bytesToSkip,e.s.bytesToSkip=0),o===e.s.expectedEnd&&null!=e.s.bytesToTrim&&(l=e.s.bytesToTrim),e.s.options.end&&e.s.options.end-e.s.bytesToSkip<u.length&&(l=e.s.options.end-e.s.bytesToSkip),null==c&&null==l||(u=u.slice(c||0,l||u.length)),e.push(u)}})}(e)})},i.prototype.start=function(e){return s(this),this.s.options.start=e,this},i.prototype.end=function(e){return s(this),this.s.options.end=e,this},i.prototype.abort=function(e){var t=this;this.push(null),this.destroyed=!0,this.s.cursor?this.s.cursor.close(function(n){t.emit(\"close\"),e&&e(n)}):(this.s.init||t.emit(\"close\"),e&&e())}},r8II:function(e,t,n){\"use strict\";t.decode=t.parse=n(\"YcCt\"),t.encode=t.stringify=n(\"6MUB\")},r9BW:function(e,t,n){\"use strict\";const r=n(\"MCLT\").inherits,o=n(\"+qE3\").EventEmitter,i=n(\"Nnq7\"),s=n(\"OkLf\").MongoError,a=n(\"OkLf\").MongoNetworkError,u=n(\"OkLf\").MongoWriteConcernError,c=n(\"0C3t\"),l=n(\"MCLT\").format,p=n(\"BvkA\").Query,h=n(\"gt1M\"),f=n(\"+kV9\").MESSAGE_HEADER_SIZE,d=n(\"+kV9\").opcodes,m=n(\"Jr2G\").compress,g=n(\"Jr2G\").compressorIDs,y=n(\"Jr2G\").uncompressibleCommands,v=n(\"U18u\").resolveClusterTime,b=n(\"3m0N\"),w=n(\"WN5W\").defaultAuthProviders,_=n(\"hwdV\").Buffer;var S=\"disconnected\",C=\"connecting\",O=\"connected\",E=\"destroying\",T=\"destroyed\",x=0,N=function(e,t){if(o.call(this),this.topology=e,this.options=Object.assign({host:\"localhost\",port:27017,size:5,minSize:0,connectionTimeout:3e4,socketTimeout:36e4,keepAlive:!0,keepAliveInitialDelay:3e5,noDelay:!0,ssl:!1,checkServerIdentity:!0,ca:null,crl:null,cert:null,key:null,passPhrase:null,rejectUnauthorized:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,reconnect:!0,reconnectInterval:1e3,reconnectTries:30,domainsEnabled:!1},t),this.id=x++,this.retriesLeft=this.options.reconnectTries,this.reconnectId=null,!t.bson||t.bson&&(\"function\"!=typeof t.bson.serialize||\"function\"!=typeof t.bson.deserialize))throw new Error(\"must pass in valid bson parser\");this.logger=c(\"Pool\",t),this.state=S,this.availableConnections=[],this.inUseConnections=[],this.connectingConnections=[],this.executing=!1,this.queue=[],this.authProviders=t.authProviders||w(t.bson),this.reconnectConnection=null,this.authenticating=!1,this.loggingout=!1,this.nonAuthenticatedConnections=[],this.authenticatingTimestamp=null,this.numberOfConsecutiveTimeouts=0,this.connectionIndex=0};function A(e,t){var n={disconnected:[C,E,S],connecting:[C,E,O,S],connected:[O,S,E],destroying:[E,T],destroyed:[T]}[e.state];n&&-1!==n.indexOf(t)?(e.emit(\"stateChanged\",e.state,t),e.state=t):e.logger.error(l(\"Pool with id [%s] failed attempted illegal state transition from [%s] to [%s] only following state allowed [%s]\",e.id,e.state,t,n))}function I(e,t,n,r){if(void 0===t[0])return r(null);var o=t[0],i=t[1];if(!e.authProviders[o])throw new s(l(\"authMechanism %s not supported\",o));var a=e.authProviders[o];a.auth.apply(a,[k(e),[n],i].concat(t.slice(2)).concat([r]))}function k(e){return function(t,n,r){if(e.state===T||e.state===E)return r(new s(\"pool destroyed\"));t.workItems.push({cb:r,command:!0,requestId:n.requestId}),t.write(n.toBin())}}function P(e,t,n){!function e(t,n,r,o){if(0===r.length)return o();t.authProviders[r.pop()].reauthenticate(k(t),[n],function(i){if(i)return o(i);e(t,n,r,o)})}(e,t,Object.keys(e.authProviders),n)}function R(e,t){return function(n){if(!this._connectionFailHandled){for(this._connectionFailHandled=!0,this.destroy(),q(e,this);this.workItems.length>0;){var r=this.workItems.shift();r.cb&&r.cb(n)}if(\"timeout\"===t&&(e.numberOfConsecutiveTimeouts=e.numberOfConsecutiveTimeouts+1,e.numberOfConsecutiveTimeouts>e.options.reconnectTries))return e.numberOfConsecutiveTimeouts=0,e.destroy(!0),e.emit(\"close\",e);0===e.socketCount()&&(e.state!==T&&e.state!==E&&A(e,S),e.emit(t=\"error\"===t?\"close\":t,n)),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(M(e),e.options.reconnectInterval)),e.availableConnections.length+e.connectingConnections.length+e.inUseConnections.length<e.minSize&&H(e)}}}function M(e){return function(){function t(e){return function(){this._connectionFailHandled||(this._connectionFailHandled=!0,this.destroy(),e.retriesLeft=e.retriesLeft-1,e.retriesLeft<=0?(e.destroy(),e.emit(\"reconnectFailed\",new a(l(\"failed to reconnect after %s attempts with interval %s ms\",e.options.reconnectTries,e.options.reconnectInterval)))):e.reconnectId=setTimeout(M(e),e.options.reconnectInterval))}}e.emit(\"attemptReconnect\",e),e.state!==T&&e.state!==E&&(e.isConnected()?e.reconnectId=null:(e.reconnectConnection=new i(B(e),e.options),e.reconnectConnection.on(\"close\",t(e)),e.reconnectConnection.on(\"error\",t(e)),e.reconnectConnection.on(\"timeout\",t(e)),e.reconnectConnection.on(\"parseError\",t(e)),e.reconnectConnection.on(\"connect\",function(e){return function(){var t=this;if(e.state===T||e.state===E)return t.destroy();F.forEach(function(e){t.removeAllListeners(e)}),e.reconnectId=null,t.on(\"error\",R(e,\"error\")),t.on(\"close\",R(e,\"close\")),t.on(\"timeout\",R(e,\"timeout\")),t.on(\"parseError\",R(e,\"parseError\")),P(e,this,function(){e.retriesLeft=e.options.reconnectTries,e.availableConnections.push(t),e.reconnectConnection=null,e.emit(\"reconnect\",e),$(e)()})}}(e)),e.reconnectConnection.connect()))}}function D(e,t,n){var r=t.indexOf(e);-1!==r&&(t.splice(r,1),n.push(e))}function B(e){return function(t,n){for(var r=null,o=0;o<n.workItems.length;o++)n.workItems[o].requestId===t.responseTo&&(r=n.workItems[o],n.workItems.splice(o,1));function i(e,t,n,r){if(!e.options.domainsEnabled)return process.nextTick(function(){return t(n,r)});t(n,r)}e.numberOfConsecutiveTimeouts=0,r&&r.socketTimeout&&n.resetSocketTimeout(),e.logger.isDebug()&&e.logger.debug(l(\"message [%s] received from %s:%s\",t.raw.toString(\"hex\"),e.options.host,e.options.port)),function(e,t,n){var r=e.nonAuthenticatedConnections.slice(0),o=e.nonAuthenticatedConnections;if(e.nonAuthenticatedConnections=[],1===t.workItems.length&&(!0===t.workItems[0].authenticating||\"number\"==typeof t.workItems[0].authenticatingTimestamp&&t.workItems[0].authenticatingTimestamp!==e.authenticatingTimestamp)&&r.push(t),0===r.length)return D(t,e.inUseConnections,e.availableConnections),n();for(var i=r.length,s=0;s<i;s++)P(e,r[s],function(){0==(i-=1)&&(e.availableConnections=e.availableConnections.concat(o),D(t,e.inUseConnections,e.availableConnections),n())})}(e,n,function(){if(e.executing||process.nextTick(function(){$(e)()}),r&&!r.immediateRelease){try{t.parse(r)}catch(t){return i(e,r.cb,new s(t))}if(t.documents[0]){if(t.documents[0].$clusterTime){const n=t.documents[0].$clusterTime;e.topology.clusterTime=n,null!=r.session&&v(r.session,n)}t.documents[0].operationTime&&r.session&&r.session.supports.causalConsistency&&r.session.advanceOperationTime(t.documents[0].operationTime)}if(r.command&&t.documents[0]){const n=t.documents[0];if(0===n.ok||n.$err||n.errmsg||n.code)return i(e,r.cb,new s(n));if(n.writeConcernError){const t=1===n.ok?new u(n.writeConcernError,n):new u(n.writeConcernError);return i(e,r.cb,t)}}t.hashedName=n.hashedName,i(e,r.cb,null,new h(r.fullResult?t:t.documents[0],n,t))}})}}r(N,o),Object.defineProperty(N.prototype,\"size\",{enumerable:!0,get:function(){return this.options.size}}),Object.defineProperty(N.prototype,\"minSize\",{enumerable:!0,get:function(){return this.options.minSize}}),Object.defineProperty(N.prototype,\"connectionTimeout\",{enumerable:!0,get:function(){return this.options.connectionTimeout}}),Object.defineProperty(N.prototype,\"socketTimeout\",{enumerable:!0,get:function(){return this.options.socketTimeout}}),N.prototype.socketCount=function(){return this.availableConnections.length+this.inUseConnections.length},N.prototype.allConnections=function(){return this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections)},N.prototype.get=function(){return this.allConnections()[0]},N.prototype.isConnected=function(){if(this.state===T||this.state===E)return!1;for(var e=this.availableConnections.concat(this.inUseConnections),t=0;t<e.length;t++)if(e[t].isConnected())return!0;return!(0!==e.length||!this.authenticating)},N.prototype.isDestroyed=function(){return this.state===T||this.state===E},N.prototype.isDisconnected=function(){return this.state===S},N.prototype.connect=function(){if(this.state!==S)throw new s(\"connection in unlawful state \"+this.state);var e=this;A(this,C);var t=Array.prototype.slice.call(arguments,0),n=new i(B(e),this.options);this.connectingConnections.push(n),n.once(\"connect\",function(n){return e.state===T||e.state===E?e.destroy():e.options.inTopology?(A(e,O),D(n,e.connectingConnections,e.availableConnections),e.emit(\"connect\",e)):void P(e,n,function(r){return e.state===T||e.state===E?e.destroy():r?(e.destroy(),e.emit(\"error\",r)):void I(e,t,n,function(t){if(e.state===T||e.state===E)return e.destroy();if(t)return e.destroy(),e.emit(\"error\",t);if(A(e,O),D(n,e.connectingConnections,e.availableConnections),e.minSize)for(let n=0;n<e.minSize;n++)H(e);e.emit(\"connect\",e)})})}),n.once(\"error\",R(this,\"error\")),n.once(\"close\",R(this,\"close\")),n.once(\"timeout\",R(this,\"timeout\")),n.once(\"parseError\",R(this,\"parseError\"));try{n.connect()}catch(t){process.nextTick(function(){e.emit(\"error\",t)})}},N.prototype.auth=function(e){var t=this,n=Array.prototype.slice.call(arguments,0),r=n.pop();if(null==t.authProviders[e]&&\"default\"!==e)throw new s(l(\"auth provider %s does not exist\",e));this.authenticating=!0,this.authenticatingTimestamp=(new Date).getTime(),function e(t,n){if(!t.loggingout)return n();setTimeout(function(){e(t,n)},1)}(t,function(){!function(e,t,n){var o=e.allConnections();e.availableConnections=[],e.inUseConnections=[],e.connectingConnections=[];var i=o.length,s=null;if(0===i)return e.authenticating=!1,r(null);for(var a=0;a<o.length;a++)I(e,t,o[a],function(t,r){if(i-=1,t&&(s=t),0===i){if(e.authenticating=!1,e.availableConnections=e.availableConnections.concat(o),s)return e.logger.isError()&&e.logger.error(l(\"[%s] failed to authenticate against server %s:%s\",e.id,e.options.host,e.options.port)),n(s,r);n(null,r)}})}(t,n,function(e,n){t.authenticating=!1,r(e,n)})})},N.prototype.logout=function(e,t){var n=this;if(\"string\"!=typeof e)throw new s(\"logout method requires a db name as first argument\");if(\"function\"!=typeof t)throw new s(\"logout method requires a callback\");this.loggingout=!0;for(var r=n.availableConnections.concat(n.inUseConnections),o=r.length,i=null,a=0;a<r.length;a++)k(n)(r[a],new p(this.options.bson,l(\"%s.$cmd\",e),{logout:1},{numberToSkip:0,numberToReturn:1}),function(e){e&&(i=e),0==(o-=1)&&(n.loggingout=!1,t(i))})},N.prototype.unref=function(){this.availableConnections.concat(this.inUseConnections).concat(this.connectingConnections).forEach(function(e){e.unref()})};var L=[\"error\",\"close\",\"timeout\",\"parseError\",\"connect\"];function j(e,t){t.forEach(function(e){for(var t=0;t<L.length;t++)e.removeAllListeners(L[t]);e.destroy()}),e.inUseConnections=[],e.availableConnections=[],e.nonAuthenticatedConnections=[],e.connectingConnections=[],A(e,T)}N.prototype.destroy=function(e){var t=this;if(this.state!==T&&t.state!==E){if(A(this,E),e){for(var n=t.availableConnections.concat(t.inUseConnections).concat(t.nonAuthenticatedConnections).concat(t.connectingConnections);t.queue.length>0;){var r=t.queue.shift();\"function\"==typeof r.cb&&r.cb(new s(\"Pool was force destroyed\"))}return j(t,n)}this.reconnectId&&clearTimeout(this.reconnectId),this.reconnectConnection&&this.reconnectConnection.destroy(),function e(){if(W(t.queue),0===t.queue.length){for(var n=t.availableConnections.concat(t.inUseConnections).concat(t.nonAuthenticatedConnections).concat(t.connectingConnections),r=0;r<n.length;r++)if(n[r].workItems.length>0)return setTimeout(e,1);j(t,n)}else $(t)(),setTimeout(e,1)}()}};var U=function(e,t,n,r){if(0===t.length)return r(null,n);var o=t.shift(),i=o.toBin();if(e.options.agreedCompressor&&!V(o)){var s=_.concat(i),a=s.slice(f),u=s.readInt32LE(12);m(e,a,function(i,s){if(i)return r(i,null);var c=_.alloc(f);c.writeInt32LE(f+9+s.length,0),c.writeInt32LE(o.requestId,4),c.writeInt32LE(0,8),c.writeInt32LE(d.OP_COMPRESSED,12);var l=_.alloc(9);l.writeInt32LE(u,0),l.writeInt32LE(a.length,4),l.writeUInt8(g[e.options.agreedCompressor],8),n.push(_.concat([c,l,s])),U(e,t,n,r)})}else n.push(i),U(e,t,n,r)};N.prototype.write=function(e,t,n){var r=this;if(\"function\"==typeof t&&(n=t),t=t||{},\"function\"!=typeof n&&!t.noResponse)throw new s(\"write method must provide a callback\");if(this.state!==T&&this.state!==E){if(this.options.domainsEnabled&&process.domain&&\"function\"==typeof n){var o=n;n=process.domain.bind(function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;t++)e[t]=arguments[t];process.nextTick(function(){o.apply(null,e)})})}var i,a={cb:n,raw:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,fullResult:!1};if(a.promoteLongs=\"boolean\"!=typeof t.promoteLongs||t.promoteLongs,a.promoteValues=\"boolean\"!=typeof t.promoteValues||t.promoteValues,a.promoteBuffers=\"boolean\"==typeof t.promoteBuffers&&t.promoteBuffers,a.raw=\"boolean\"==typeof t.raw&&t.raw,a.immediateRelease=\"boolean\"==typeof t.immediateRelease&&t.immediateRelease,a.documentsReturnedIn=t.documentsReturnedIn,a.command=\"boolean\"==typeof t.command&&t.command,a.fullResult=\"boolean\"==typeof t.fullResult&&t.fullResult,a.noResponse=\"boolean\"==typeof t.noResponse&&t.noResponse,a.session=t.session||null,a.socketTimeout=t.socketTimeout,a.monitoring=t.monitoring,t.socketTimeout&&(a.socketTimeout=t.socketTimeout),Array.isArray(e)||(e=[e]),a.requestId=e[e.length-1].requestId,null!=(i=this.topology)&&null!=i.ismaster&&i.ismaster.maxWireVersion>=6){let t={};if(this.topology.clusterTime&&(t={$clusterTime:this.topology.clusterTime}),a.session){if(a.session.hasEnded)return n(new s(\"Use of expired sessions is not permitted\"));a.session.clusterTime&&a.session.clusterTime.clusterTime.greaterThan(t.$clusterTime.clusterTime)&&(t.$clusterTime=a.session.clusterTime),t.lsid=a.session.id,a.session.serverSession.lastUse=Date.now()}e.forEach(e=>{e instanceof p?e.query.$query?Object.assign(e.query.$query,t):Object.assign(e.query,t):Object.assign(e,t)})}if(r.options.monitorCommands){const t=e[0];this.emit(\"commandStarted\",new b.CommandStartedEvent(this,t)),a.started=process.hrtime(),a.cb=((e,o)=>{e?r.emit(\"commandFailed\",new b.CommandFailedEvent(this,t,e,a.started)):o&&o.result&&(0===o.result.ok||o.result.$err)?r.emit(\"commandFailed\",new b.CommandFailedEvent(this,t,o.result,a.started)):r.emit(\"commandSucceeded\",new b.CommandSucceededEvent(this,t,o,a.started)),\"function\"==typeof n&&n(e,o)})}U(r,e,[],function(e,n){if(e)throw e;a.buffer=n,t.monitoring?r.queue.unshift(a):r.queue.push(a),r.executing||process.nextTick(function(){$(r)()})})}else if(n)try{n(new s(\"pool destroyed\"))}catch(e){process.nextTick(function(){throw e})}};var V=function(e){return y.some(function(t){return e.query.hasOwnProperty(t)})};function z(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return t.splice(n,1),!0}function q(e,t){z(t,e.availableConnections)||z(t,e.inUseConnections)||z(t,e.connectingConnections)||z(t,e.nonAuthenticatedConnections)}var F=[\"close\",\"message\",\"error\",\"timeout\",\"parseError\",\"connect\"];function H(e){if(e.state!==T&&e.state!==E){var t=new i(B(e),e.options);e.connectingConnections.push(t);var n,r=function(t){return function(){t.destroy(),q(e,t),!e.reconnectId&&e.options.reconnect&&(e.reconnectId=setTimeout(M(e),e.options.reconnectInterval))}};t.once(\"close\",r(t)),t.once(\"error\",r(t)),t.once(\"timeout\",r(t)),t.once(\"parseError\",r(t)),t.once(\"connect\",(n=t,function(){if(e.state===T||e.state===E)return q(e,n),n.destroy();F.forEach(function(e){n.removeAllListeners(e)}),n.once(\"close\",R(e,\"close\")),n.once(\"error\",R(e,\"error\")),n.once(\"timeout\",R(e,\"timeout\")),n.once(\"parseError\",R(e,\"parseError\")),P(e,n,function(t){return e.state===T||e.state===E?n.destroy():(q(e,n),t?n.destroy():void(e.authenticating?e.nonAuthenticatedConnections.push(n):(e.availableConnections.push(n),$(e)())))})})),t.connect()}}function W(e){for(var t=0;t<e.length;t++)if(e[t].monitoring){var n=e[t];e.splice(t,1),n.cb(new s({message:\"no connection available for monitoring\",driver:!0}))}}function $(e){return function(){e.state!==T&&(e.executing||(e.executing=!0,function t(n){if(!e.authenticating)return n();setTimeout(function(){t(n)},1)}(function(){if(!(e.connectingConnections.length>0))for(;;){var t=e.availableConnections.length+e.connectingConnections.length+e.inUseConnections.length;if(0===e.availableConnections.length){W(e.queue);break}if(0===e.queue.length)break;for(var n=null,r=[],o=0;o<e.availableConnections.length;o++)0===e.availableConnections[o].workItems.length&&r.push(e.availableConnections[o]);if((n=0===r.length?e.availableConnections[e.connectionIndex++%e.availableConnections.length]:r[e.connectionIndex++%r.length]).isConnected()){var i=e.queue.shift();if(i.monitoring){var s=!1;for(o=0;o<e.availableConnections.length;o++)if(e.availableConnections[o].isConnected()&&0===e.availableConnections[o].workItems.length){s=!0,n=e.availableConnections[o];break}if(!s){e.queue.unshift(i),t<e.options.size&&e.queue.length>0&&H(e),setTimeout(function(){$(e)()},10);break}}if(t<e.options.size&&n.workItems.length>0){e.queue.unshift(i),H(e);break}var a=i.buffer;i.authenticating=e.authenticating,i.authenticatingTimestamp=e.authenticatingTimestamp,i.monitoring&&D(n,e.availableConnections,e.inUseConnections),i.noResponse||n.workItems.push(i),i.immediateRelease||\"number\"!=typeof i.socketTimeout||n.setSocketTimeout(i.socketTimeout);var u=!0;if(Array.isArray(a))for(o=0;o<a.length;o++)u=n.write(a[o]);else u=n.write(a);i.noResponse&&\"function\"==typeof i.cb&&i.cb(null,null),u&&i.immediateRelease&&e.authenticating?(q(e,n),e.nonAuthenticatedConnections.push(n)):!1===u&&(e.queue.unshift(i),q(e,n),W(e.queue))}else q(e,n),W(e.queue)}}),e.executing=!1))}}N._execute=$,e.exports=N},rObB:function(e,t,n){\"use strict\";const r=n(\"M9st\").retrieveBSON,o=n(\"+qE3\"),i=r().Binary,s=n(\"6uN0\").uuidV4,a=n(\"OkLf\").MongoError,u=n(\"OkLf\").isRetryableError,c=n(\"OkLf\").MongoNetworkError,l=n(\"OkLf\").MongoWriteConcernError,p=n(\"lrrP\").Transaction,h=n(\"lrrP\").TxnState;function f(e,t){if(null==e.serverSession){const e=new a(\"Cannot use a session that has ended\");if(\"function\"==typeof t)return t(e,null),!1;throw e}return!0}class d extends o{constructor(e,t,n,r){if(super(),null==e)throw new Error(\"ClientSession requires a topology\");if(null==t||!(t instanceof y))throw new Error(\"ClientSession requires a ServerSessionPool\");n=n||{},this.topology=e,this.sessionPool=t,this.hasEnded=!1,this.serverSession=t.acquire(),this.clientOptions=r,this.supports={causalConsistency:void 0===n.causalConsistency||n.causalConsistency},this.clusterTime=void 0!==(n=n||{}).initialClusterTime?n.initialClusterTime:null,this.operationTime=null,this.explicit=!!n.explicit,this.owner=n.owner,this.defaultTransactionOptions=Object.assign({},n.defaultTransactionOptions),this.transaction=new p}get id(){return this.serverSession.id}endSession(e,t){\"function\"==typeof e&&(t=e,e={}),e=e||{},this.hasEnded?\"function\"==typeof t&&t(null,null):(this.serverSession&&this.inTransaction()&&this.abortTransaction(),this.hasEnded=!0,this.emit(\"ended\",this),this.sessionPool.release(this.serverSession),\"function\"==typeof t&&t(null,null))}advanceOperationTime(e){null!=this.operationTime?e.greaterThan(this.operationTime)&&(this.operationTime=e):this.operationTime=e}equals(e){return e instanceof d&&this.id.id.buffer.equals(e.id.id.buffer)}incrementTransactionNumber(){this.serverSession.txnNumber++}inTransaction(){return this.transaction.isActive}startTransaction(e){if(f(this),this.inTransaction())throw new a(\"Transaction already in progress\");this.incrementTransactionNumber(),this.transaction=new p(Object.assign({},this.clientOptions,e||this.defaultTransactionOptions)),this.transaction.transition(h.STARTING_TRANSACTION)}commitTransaction(e){if(\"function\"!=typeof e)return new Promise((e,t)=>{m(this,\"commitTransaction\",(n,r)=>n?t(n):e(r))});m(this,\"commitTransaction\",e)}abortTransaction(e){if(\"function\"!=typeof e)return new Promise((e,t)=>{m(this,\"abortTransaction\",(n,r)=>n?t(n):e(r))});m(this,\"abortTransaction\",e)}toBSON(){throw new Error(\"ClientSession cannot be serialized to BSON.\")}}function m(e,t,n){if(!f(e,n))return;let r=e.transaction.state;if(r===h.NO_TRANSACTION)return void n(new a(\"No transaction started\"));if(\"commitTransaction\"===t){if(r===h.STARTING_TRANSACTION||r===h.TRANSACTION_COMMITTED_EMPTY)return e.transaction.transition(h.TRANSACTION_COMMITTED_EMPTY),void n(null,null);if(r===h.TRANSACTION_ABORTED)return void n(new a(\"Cannot call commitTransaction after calling abortTransaction\"))}else{if(r===h.STARTING_TRANSACTION)return e.transaction.transition(h.TRANSACTION_ABORTED),void n(null,null);if(r===h.TRANSACTION_ABORTED)return void n(new a(\"Cannot call abortTransaction twice\"));if(r===h.TRANSACTION_COMMITTED||r===h.TRANSACTION_COMMITTED_EMPTY)return void n(new a(\"Cannot call abortTransaction after calling commitTransaction\"))}const o={[t]:1};function i(r,o){if(\"commitTransaction\"===t){if(e.transaction.transition(h.TRANSACTION_COMMITTED),r&&(r instanceof c||r instanceof l||u(r))){if(r.errorLabels){const e=r.errorLabels.indexOf(\"TransientTransactionError\");-1!==e&&r.errorLabels.splice(e,1)}else r.errorLabels=[];r.errorLabels.push(\"UnknownTransactionCommitResult\")}}else e.transaction.transition(h.TRANSACTION_ABORTED);n(r,o)}function s(e){return\"commitTransaction\"===t?e:null}e.transaction.options.writeConcern?Object.assign(o,{writeConcern:e.transaction.options.writeConcern}):e.clientOptions&&e.clientOptions.w&&Object.assign(o,{writeConcern:{w:e.clientOptions.w}}),e.topology.command(\"admin.$cmd\",o,{session:e},(t,n)=>{if(t&&u(t))return e.topology.command(\"admin.$cmd\",o,{session:e},(e,t)=>i(s(e),t));i(s(t),n)})}class g{constructor(){this.id={id:new i(s(),i.SUBTYPE_UUID)},this.lastUse=Date.now(),this.txnNumber=0}hasTimedOut(e){return Math.round((Date.now()-this.lastUse)%864e5%36e5/6e4)>e-1}}class y{constructor(e){if(null==e)throw new Error(\"ServerSessionPool requires a topology\");this.topology=e,this.sessions=[]}endAllPooledSessions(){this.sessions.length&&(this.topology.endSessions(this.sessions.map(e=>e.id)),this.sessions=[])}acquire(){const e=this.topology.logicalSessionTimeoutMinutes;for(;this.sessions.length;){const t=this.sessions.shift();if(!t.hasTimedOut(e))return t}return new g}release(e){const t=this.topology.logicalSessionTimeoutMinutes;for(;this.sessions.length&&this.sessions[this.sessions.length-1].hasTimedOut(t);)this.sessions.pop();e.hasTimedOut(t)||this.sessions.unshift(e)}}e.exports={ClientSession:d,ServerSession:g,ServerSessionPool:y,TxnState:h}},rWzI:function(e,t,n){(function(e){var r;!function(o){\"object\"==typeof global&&global;var i,s=2147483647,a=36,u=1,c=26,l=38,p=700,h=72,f=128,d=\"-\",m=/^xn--/,g=/[^\\x20-\\x7E]/,y=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,v={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},b=a-u,w=Math.floor,_=String.fromCharCode;function S(e){throw RangeError(v[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split(\"@\"),r=\"\";return n.length>1&&(r=n[0]+\"@\",e=n[1]),r+C((e=e.replace(y,\".\")).split(\".\"),t).join(\".\")}function E(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function T(e){return C(e,function(e){var t=\"\";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)}).join(\"\")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,n){var r=0;for(e=n?w(e/p):e>>1,e+=w(e/t);e>b*c>>1;r+=a)e=w(e/b);return w(r+(b+1)*e/(e+l))}function A(e){var t,n,r,o,i,l,p,m,g,y,v,b=[],_=e.length,C=0,O=f,E=h;for((n=e.lastIndexOf(d))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&S(\"not-basic\"),b.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(i=C,l=1,p=a;o>=_&&S(\"invalid-input\"),((m=(v=e.charCodeAt(o++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:a)>=a||m>w((s-C)/l))&&S(\"overflow\"),C+=m*l,!(m<(g=p<=E?u:p>=E+c?c:p-E));p+=a)l>w(s/(y=a-g))&&S(\"overflow\"),l*=y;E=N(C-i,t=b.length+1,0==i),w(C/t)>s-O&&S(\"overflow\"),O+=w(C/t),C%=t,b.splice(C++,0,O)}return T(b)}function I(e){var t,n,r,o,i,l,p,m,g,y,v,b,C,O,T,A=[];for(b=(e=E(e)).length,t=f,n=0,i=h,l=0;l<b;++l)(v=e[l])<128&&A.push(_(v));for(r=o=A.length,o&&A.push(d);r<b;){for(p=s,l=0;l<b;++l)(v=e[l])>=t&&v<p&&(p=v);for(p-t>w((s-n)/(C=r+1))&&S(\"overflow\"),n+=(p-t)*C,t=p,l=0;l<b;++l)if((v=e[l])<t&&++n>s&&S(\"overflow\"),v==t){for(m=n,g=a;!(m<(y=g<=i?u:g>=i+c?c:g-i));g+=a)A.push(_(x(y+(T=m-y)%(O=a-y),0))),m=w(T/O);A.push(_(x(m,0))),i=N(n,C,r==o),n=0,++r}++n,++t}return A.join(\"\")}i={version:\"1.3.2\",ucs2:{decode:E,encode:T},decode:A,encode:I,toASCII:function(e){return O(e,function(e){return g.test(e)?\"xn--\"+I(e):e})},toUnicode:function(e){return O(e,function(e){return m.test(e)?A(e.slice(4).toLowerCase()):e})}},void 0===(r=(function(){return i}).call(t,n,t,e))||(e.exports=r)}()}).call(this,n(\"YuTi\")(e))},t2HT:function(e,t,n){var r=n(\"VHch\");function o(e){if(!(this instanceof o))return new o(e);if(e||(e={}),Buffer.isBuffer(e)&&(e={buffer:e}),this.pageOffset=e.pageOffset||0,this.pageSize=e.pageSize||1024,this.pages=e.pages||r(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,(t=this.pageSize)&t-1)throw new Error(\"The page size should be a power of two\");var t;if(this._trackUpdates=!!e.trackUpdates,this._pageMask=this.pageSize-1,e.buffer){for(var n=0;n<e.buffer.length;n+=this.pageSize)this.pages.set(n/this.pageSize,e.buffer.slice(n,n+this.pageSize));this.byteLength=e.buffer.length,this.length=8*this.byteLength}}e.exports=o,o.prototype.get=function(e){var t=7&e;return!!(this.getByte((e-t)/8)&128>>t)},o.prototype.getByte=function(e){var t=e&this._pageMask,n=this.pages.get((e-t)/this.pageSize,!0);return n?n.buffer[t+this.pageOffset]:0},o.prototype.set=function(e,t){var n=7&e,r=(e-n)/8,o=this.getByte(r);return this.setByte(r,t?o|128>>n:o&(255^128>>n))},o.prototype.toBuffer=function(){for(var e=function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t}(this.pages.length*this.pageSize),t=0;t<this.pages.length;t++){var n=this.pages.get(t,!0);n&&n.buffer.copy(e,t*this.pageSize,this.pageOffset,this.pageOffset+this.pageSize)}return e},o.prototype.setByte=function(e,t){var n=e&this._pageMask,r=this.pages.get((e-n)/this.pageSize,!1);return r.buffer[n+=this.pageOffset]!==t&&(r.buffer[n]=t,e>=this.byteLength&&(this.byteLength=e+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(r),!0)}},tjlA:function(e,t,n){\"use strict\";var r=n(\"H7XF\"),o=n(\"kVK+\"),i=n(\"49sm\");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,n,r):\"string\"==typeof t?function(e,t,n){if(\"string\"==typeof n&&\"\"!==n||(n=\"utf8\"),!u.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|d(t,n),o=(e=a(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if(\"Buffer\"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function p(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return U(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return V(e).length;default:if(r)return U(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function y(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var p=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){p=!1;break}if(p)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError(\"Invalid hex string\");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return z(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return z(V(t),e,n,r)}function C(e,t,n,r){return z(function(e,t){for(var n,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o.push(n%256),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],l=null,p=c>239?4:c>223?3:c>191?2:1;if(o+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:s=e[o+2],128==(192&(i=e[o+1]))&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=e[o+2],a=e[o+3],128==(192&(i=e[o+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,p=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=p}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n=\"\",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(null,t):void 0!==n?\"string\"==typeof r?a(null,t).fill(n,r):a(null,t).fill(n):a(null,t)}(0,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?E(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return A(this,t,n);case\"utf8\":case\"utf-8\":return E(this,t,n);case\"ascii\":return x(this,t,n);case\"latin1\":case\"binary\":return N(this,t,n);case\"base64\":return O(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return I(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}).apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,s=n-t,a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n),p=0;p<a;++p)if(c[p]!==l[p]){i=c[p],s=l[p];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var i=!1;;)switch(r){case\"hex\":return v(this,e,t,n);case\"utf8\":case\"utf-8\":return b(this,e,t,n);case\"ascii\":return w(this,e,t,n);case\"latin1\":case\"binary\":return _(this,e,t,n);case\"base64\":return S(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function N(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i=\"\",s=t;s<n;++s)i+=(r=e[s])<16?\"0\"+r.toString(16):r.toString(16);return i}function I(e,t,n){for(var r=e.slice(t,n),o=\"\",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function P(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function B(e,t,n,r,i){return i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!u.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=u.isBuffer(e)?e:U(new u(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var j=/[^+\\/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(j,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},tmbX:function(module,exports,__webpack_require__){\"use strict\";var Long=__webpack_require__(\"MqoK\").Long,Double=__webpack_require__(\"OgGp\").Double,Timestamp=__webpack_require__(\"B2Iy\").Timestamp,ObjectID=__webpack_require__(\"czSF\").ObjectID,Symbol=__webpack_require__(\"cfbU\").Symbol,Code=__webpack_require__(\"kHNH\").Code,MinKey=__webpack_require__(\"Oxqu\").MinKey,MaxKey=__webpack_require__(\"kpKE\").MaxKey,Decimal128=__webpack_require__(\"qchN\"),Int32=__webpack_require__(\"v0W3\"),DBRef=__webpack_require__(\"/iOP\").DBRef,BSONRegExp=__webpack_require__(\"vXaj\").BSONRegExp,Binary=__webpack_require__(\"9k0L\").Binary,deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5||e.length<o||o+r>e.length)throw new Error(\"corrupt bson message\");if(0!==e[r+o-1])throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");return deserializeObject(e,r,t,n)},deserializeObject=function(e,t,n,r){var o=null!=n.evalFunctions&&n.evalFunctions,i=null!=n.cacheFunctions&&n.cacheFunctions,s=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!s)var a=null;var u=null==n.fieldsAsRaw?null:n.fieldsAsRaw,c=null!=n.raw&&n.raw,l=\"boolean\"==typeof n.bsonRegExp&&n.bsonRegExp,p=null!=n.promoteBuffers&&n.promoteBuffers,h=null==n.promoteLongs||n.promoteLongs,f=null==n.promoteValues||n.promoteValues,d=t;if(e.length<5)throw new Error(\"corrupt bson message < 5 bytes long\");var m=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(m<5||m>e.length)throw new Error(\"corrupt bson message\");for(var g=r?[]:{},y=0;;){var v=e[t++];if(0===v)break;for(var b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var w=r?y++:e.toString(\"utf8\",t,b);if(t=b+1,v===BSON.BSON_DATA_STRING){var _=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(_<=0||_>e.length-t||0!==e[t+_-1])throw new Error(\"bad string length in bson\");g[w]=e.toString(\"utf8\",t,t+_-1),t+=_}else if(v===BSON.BSON_DATA_OID){var S=new Buffer(12);e.copy(S,0,t,t+12),g[w]=new ObjectID(S),t+=12}else if(v===BSON.BSON_DATA_INT&&!1===f)g[w]=new Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(v===BSON.BSON_DATA_INT)g[w]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(v===BSON.BSON_DATA_NUMBER&&!1===f)g[w]=new Double(e.readDoubleLE(t)),t+=8;else if(v===BSON.BSON_DATA_NUMBER)g[w]=e.readDoubleLE(t),t+=8;else if(v===BSON.BSON_DATA_DATE){var C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[w]=new Date(new Long(C,O).toNumber())}else if(v===BSON.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error(\"illegal boolean type value\");g[w]=1===e[t++]}else if(v===BSON.BSON_DATA_OBJECT){var E=t,T=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(T<=0||T>e.length-t)throw new Error(\"bad embedded document length in bson\");g[w]=c?e.slice(t,t+T):deserializeObject(e,E,n,!1),t+=T}else if(v===BSON.BSON_DATA_ARRAY){E=t;var x=n,N=t+(T=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(u&&u[w]){for(var A in x={},n)x[A]=n[A];x.raw=!0}if(g[w]=deserializeObject(e,E,x,!0),0!==e[(t+=T)-1])throw new Error(\"invalid array terminator byte\");if(t!==N)throw new Error(\"corrupted array bson\")}else if(v===BSON.BSON_DATA_UNDEFINED)g[w]=void 0;else if(v===BSON.BSON_DATA_NULL)g[w]=null;else if(v===BSON.BSON_DATA_LONG){C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var I=new Long(C,O);g[w]=h&&!0===f&&I.lessThanOrEqual(JS_INT_MAX_LONG)&&I.greaterThanOrEqual(JS_INT_MIN_LONG)?I.toNumber():I}else if(v===BSON.BSON_DATA_DECIMAL128){var k=new Buffer(16);e.copy(k,0,t,t+16),t+=16;var P=new Decimal128(k);g[w]=P.toObject?P.toObject():P}else if(v===BSON.BSON_DATA_BINARY){var R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,M=R,D=e[t++];if(R<0)throw new Error(\"Negative binary type element size found\");if(R>e.length)throw new Error(\"Binary type size larger than document size\");if(null!=e.slice){if(D===Binary.SUBTYPE_BYTE_ARRAY){if((R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(R>M-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(R<M-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}g[w]=p&&f?e.slice(t,t+R):new Binary(e.slice(t,t+R),D)}else{var B=\"undefined\"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(R)):new Array(R);if(D===Binary.SUBTYPE_BYTE_ARRAY){if((R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error(\"Negative binary type element size found for subtype 0x02\");if(R>M-4)throw new Error(\"Binary type with subtype 0x02 contains to long binary size\");if(R<M-4)throw new Error(\"Binary type with subtype 0x02 contains to short binary size\")}for(b=0;b<R;b++)B[b]=e[t+b];g[w]=p&&f?B:new Binary(B,D)}t+=R}else if(v===BSON.BSON_DATA_REGEXP&&!1===l){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var L=e.toString(\"utf8\",t,b);for(b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");var j=e.toString(\"utf8\",t,b);t=b+1;var U=new Array(j.length);for(b=0;b<j.length;b++)switch(j[b]){case\"m\":U[b]=\"m\";break;case\"s\":U[b]=\"g\";break;case\"i\":U[b]=\"i\"}g[w]=new RegExp(L,U.join(\"\"))}else if(v===BSON.BSON_DATA_REGEXP&&!0===l){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");for(L=e.toString(\"utf8\",t,b),b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error(\"Bad BSON Document: illegal CString\");j=e.toString(\"utf8\",t,b),t=b+1,g[w]=new BSONRegExp(L,j)}else if(v===BSON.BSON_DATA_SYMBOL){if((_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||_>e.length-t||0!==e[t+_-1])throw new Error(\"bad string length in bson\");g[w]=new Symbol(e.toString(\"utf8\",t,t+_-1)),t+=_}else if(v===BSON.BSON_DATA_TIMESTAMP)C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,O=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,g[w]=new Timestamp(C,O);else if(v===BSON.BSON_DATA_MIN_KEY)g[w]=new MinKey;else if(v===BSON.BSON_DATA_MAX_KEY)g[w]=new MaxKey;else if(v===BSON.BSON_DATA_CODE){if((_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||_>e.length-t||0!==e[t+_-1])throw new Error(\"bad string length in bson\");var V=e.toString(\"utf8\",t,t+_-1);if(o)if(i){var z=s?a(V):V;g[w]=isolateEvalWithHash(functionCache,z,V,g)}else g[w]=isolateEval(V);else g[w]=new Code(V);t+=_}else if(v===BSON.BSON_DATA_CODE_W_SCOPE){var q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(q<13)throw new Error(\"code_w_scope total size shorter minimum expected length\");if((_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||_>e.length-t||0!==e[t+_-1])throw new Error(\"bad string length in bson\");V=e.toString(\"utf8\",t,t+_-1),T=e[t+=_]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;var F=deserializeObject(e,E=t,n,!1);if(t+=T,q<8+T+_)throw new Error(\"code_w_scope total size is to short, truncating scope\");if(q>8+T+_)throw new Error(\"code_w_scope total size is to long, clips outer document\");o?(i?(z=s?a(V):V,g[w]=isolateEvalWithHash(functionCache,z,V,g)):g[w]=isolateEval(V),g[w].scope=F):g[w]=new Code(V,F)}else{if(v!==BSON.BSON_DATA_DBPOINTER)throw new Error(\"Detected unknown BSON type \"+v.toString(16)+' for fieldname \"'+w+'\", are you using the latest BSON parser');if((_=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||_>e.length-t||0!==e[t+_-1])throw new Error(\"bad string length in bson\");var H=e.toString(\"utf8\",t,t+_-1);t+=_;var W=new Buffer(12);e.copy(W,0,t,t+12),S=new ObjectID(W),t+=12;var $=H.split(\".\"),Y=$.shift(),G=$.join(\".\");g[w]=new DBRef(G,S,Y)}}if(m!==t-d){if(r)throw new Error(\"corrupt array bson\");throw new Error(\"corrupt object bson\")}return null!=g.$id&&(g=new DBRef(g.$ref,g.$id,g.$db)),g},isolateEvalWithHash=function(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval(\"value = \"+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function(functionString){var value=null;return eval(\"value = \"+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize},u1MM:function(e,t,n){\"use strict\";const r=n(\"yT76\"),o=n(\"MCLT\").deprecate,i=n(\"q64v\").Logger,s=n(\"q64v\").MongoError,a=n(\"Jrgb\"),u=n(\"q64v\").parseConnectionString,c=n(\"q64v\").ReadPreference,l=n(\"z+g+\"),p=n(\"e1Yl\"),h=n(\"q64v\").Sessions.ServerSessionPool,f=[\"timeout\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"commandStarted\",\"commandSucceeded\",\"commandFailed\",\"joined\",\"left\",\"ping\",\"ha\",\"all\",\"fullsetup\",\"open\"],d=[\"native_parser\"],m=[\"server\",\"replset\",\"replSet\",\"mongos\",\"db\"],g=o(n(\"d0Jw\"),\"current URL string parser is deprecated, and will be removed in a future version. To use the new parser, pass option { useNewUrlParser: true } to MongoClient.connect.\"),y=[\"poolSize\",\"ssl\",\"sslValidate\",\"sslCA\",\"sslCert\",\"sslKey\",\"sslPass\",\"sslCRL\",\"autoReconnect\",\"noDelay\",\"keepAlive\",\"keepAliveInitialDelay\",\"connectTimeoutMS\",\"family\",\"socketTimeoutMS\",\"reconnectTries\",\"reconnectInterval\",\"ha\",\"haInterval\",\"replicaSet\",\"secondaryAcceptableLatencyMS\",\"acceptableLatencyMS\",\"connectWithNoPrimary\",\"authSource\",\"w\",\"wtimeout\",\"j\",\"forceServerObjectId\",\"serializeFunctions\",\"ignoreUndefined\",\"raw\",\"bufferMaxEntries\",\"readPreference\",\"pkFactory\",\"promiseLibrary\",\"readConcern\",\"maxStalenessSeconds\",\"loggerLevel\",\"logger\",\"promoteValues\",\"promoteBuffers\",\"promoteLongs\",\"domainsEnabled\",\"checkServerIdentity\",\"validateOptions\",\"appname\",\"auth\",\"user\",\"password\",\"authMechanism\",\"compression\",\"fsync\",\"readPreferenceTags\",\"numberOfRetries\",\"auto_reconnect\",\"minSize\",\"monitorCommands\",\"retryWrites\",\"useNewUrlParser\"];function v(e,t){t.on(\"authenticated\",_(e,\"authenticated\")),t.on(\"error\",_(e,\"error\")),t.on(\"timeout\",_(e,\"timeout\")),t.on(\"close\",_(e,\"close\")),t.on(\"parseError\",_(e,\"parseError\")),t.once(\"open\",_(e,\"open\")),t.once(\"fullsetup\",_(e,\"fullsetup\")),t.once(\"all\",_(e,\"all\")),t.on(\"reconnect\",_(e,\"reconnect\"))}function b(e,t){e.topology=t,t.s.sessionPool=new h(t.s.coreTopology)}function w(e,t,n){return(o,i)=>o?O(o,i,n):t.auth?void r(e,t.user,t.password,t,(e,r)=>{r?O(null,i,n):(i&&i.close(),O(e||new Error(\"Could not authenticate user \"+t.auth[0]),i,n))}):O(o,i,n)}function _(e,t){const n=new Set([\"all\",\"fullsetup\",\"open\",\"reconnect\"]);return(r,o)=>{if(n.has(t))return e.emit(t,e);e.emit(t,r,o)}}function S(e,t,n,r){n.promiseLibrary=e.s.promiseLibrary;const o={};\"unified\"===t&&(o.createServers=!1);const i=I(n,o);let s;\"mongos\"===t?s=new a(i,n):\"replicaset\"===t&&(s=new l(i,n)),v(e,s),x(e,s),s.connect(n,(t,n)=>{if(t)return s.close(!0),r(t);b(e,n),r(null,n)})}function C(e,t){const n=[\"mongos\",\"server\",\"db\",\"replset\",\"db_options\",\"server_options\",\"rs_options\",\"mongos_options\"],r=[\"readconcern\",\"compression\"];for(const o in t)-1!==r.indexOf(o.toLowerCase())?e[o]=t[o]:-1!==n.indexOf(o.toLowerCase())?e=T(e,t[o],!1):!t[o]||\"object\"!=typeof t[o]||Buffer.isBuffer(t[o])||Array.isArray(t[o])?e[o]=t[o]:e=T(e,t[o],!0);return e}function O(e,t,n){return process.nextTick(()=>{try{n(e,t)}catch(e){throw t&&t.close(),e}})}function E(e){return T(C({},e),e,!1)}function T(e,t,n){for(const r in t)t[r]&&\"object\"==typeof t[r]&&n?e=T(e,t[r],n):e[r]=t[r];return e}function x(e,t){[\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"commandStarted\",\"commandSucceeded\",\"commandFailed\",\"joined\",\"left\",\"ping\",\"ha\"].forEach(n=>{t.on(n,(t,r)=>{e.emit(n,t,r)})})}const N=y.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{});function A(e){let t=Object.assign({servers:e.hosts},e.options);for(let n in t){const e=N[n];e&&(t[e]=t[n])}if(e.auth){const n=e.auth;for(let e in n)n[e]&&(t[e]=n[e]);n.username&&(t.auth=n,t.user=n.username)}return e.defaultDatabase&&(t.dbName=e.defaultDatabase),t.maxpoolsize&&(t.poolSize=t.maxpoolsize),t.readconcernlevel&&(t.readConcern={level:t.readconcernlevel}),t.wtimeoutms&&(t.wtimeout=t.wtimeoutms),t}function I(e,t){if(t=Object.assign({},{createServers:!0},t),\"string\"!=typeof e.readPreference&&\"string\"!=typeof e.read_preference||(e.readPreference=new c(e.readPreference||e.read_preference)),e.readPreference&&(e.readPreferenceTags||e.read_preference_tags)&&(e.readPreference.tags=e.readPreferenceTags||e.read_preference_tags),e.maxStalenessSeconds&&(e.readPreference.maxStalenessSeconds=e.maxStalenessSeconds),null==e.socketTimeoutMS&&(e.socketTimeoutMS=36e4),null==e.connectTimeoutMS&&(e.connectTimeoutMS=3e4),t.createServers)return e.servers.map(t=>t.domain_socket?new p(t.domain_socket,27017,e):new p(t.host,t.port,e))}e.exports={connectOp:function(e,t,o){if(t)return o(t);!function(e,t,o,h){if(o=Object.assign({},o),null==h)throw new Error(\"no callback function provided\");const d=i(\"MongoClient\",o);if(t instanceof p||t instanceof l||t instanceof a)return function(e,t,n,o){b(e,t),v(e,t),x(e,t);let i=Object.assign({},n);return\"string\"!=typeof n.readPreference&&\"string\"!=typeof n.read_preference||(i.readPreference=new c(n.readPreference||n.read_preference)),t.connect(i,w(e,i,(t,n)=>t?o(t,n):i.user||i.password||i.authMechanism?r(e,i.user,i.password,i,e=>{if(e)return o(e,n);o(e,n)}):void o(t,n)))}(e,t,o,y);const m=o.useNewUrlParser?A:E;function y(e,t){const n=\"seed list contains no mongos proxies, replicaset connections requires the parameter replicaSet to be supplied in the URI or options object, mongodb://server:port/db?replicaSet=name\";if(e&&\"no mongos proxies found in seed list\"===e.message)return d.isWarn()&&d.warn(n),h(new s(n));h(e,t)}(o.useNewUrlParser?u:g)(t,o,(t,r)=>{if(t)return h(t);const i=m(r),s=C(i,o);return null==s.socketTimeoutMS&&(s.socketTimeoutMS=36e4),null==s.connectTimeoutMS&&(s.connectTimeoutMS=3e4),s.db_options&&s.db_options.auth&&delete s.db_options.auth,e.s.options=s,0===i.servers.length?h(new Error(\"connection string must contain at least one seed host\")):s.replicaSet||s.rs_name?S(e,\"replicaset\",s,w(e,s,y)):i.servers.length>1?S(e,\"mongos\",s,w(e,s,y)):function(e,t,r){t.promiseLibrary=e.s.promiseLibrary;const o=I(t)[0],i=function(e,t){const r=n(\"wcAq\"),o=[];return e instanceof r&&f.forEach(n=>{t.on(n,(t,r)=>{o.push(\"open\"===n?{event:n,object1:e}:{event:n,object1:t,object2:r})})}),o}(e,o);o.connect(t,(n,s)=>{if(n)return o.close(!0),r(n);s=o,f.forEach(e=>s.removeAllListeners(e)),x(e,o),v(e,o);const a=s.lastIsMaster();if(b(e,s),a&&\"isdbgrid\"===a.msg)return s.close(),S(e,\"mongos\",t,r);!function(e,t){for(let n=0;n<t.length;n++)e.emit(t[n].event,t[n].object1,t[n].object2)}(e,i),r(n,s)})}(e,s,w(e,s,y))})}(e,e.s.url,e.s.options,t=>{if(t)return o(t);o(null,e)})},logout:function(e,t,n){e.topology.logout(t,e=>{if(e)return n(e);n(null,!0)})},validOptions:function(e){const t=y.concat(m);for(const n in e)if(-1===d.indexOf(n)){if(-1===t.indexOf(n)&&e.validateOptions)return new s(`option ${n} is not supported`);-1===t.indexOf(n)&&console.warn(`the options [${n}] is not supported`),-1!==m.indexOf(n)&&console.warn(\"the server/replset/mongos/db options are deprecated, \"+`all their options are supported at the top level of the options object [${y}]`)}}}},u30Y:function(e,t,n){\"use strict\";const r=n(\"glTG\"),o=n(\"q64v\").BSON.ObjectID,i=n(\"q64v\").ReadPreference,s=n(\"hwdV\").Buffer,a=n(!function(){var e=new Error(\"Cannot find module 'fs'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),u=n(\"MCLT\").format,c=n(\"MCLT\"),l=n(\"q64v\").MongoError,p=c.inherits,h=n(!function(){var e=new Error(\"Cannot find module 'stream'\");throw e.code=\"MODULE_NOT_FOUND\",e}()).Duplex,f=n(\"Bx6p\").shallowClone,d=n(\"Bx6p\").executeOperation,m=(0,n(\"MCLT\").deprecate)(()=>{},\"GridStore is deprecated, and will be removed in a future version. Please use GridFSBucket instead\");var g=function e(t,n,s,a,u){if(m(),!(this instanceof e))return new e(t,n,s,a,u);this.db=t,void 0===u&&(u={}),void 0===a?(a=s,s=void 0):\"object\"==typeof a&&(u=a,a=s,s=void 0),n&&\"ObjectID\"===n._bsontype?(this.referenceBy=1,this.fileId=n,this.filename=s):void 0===s?(this.referenceBy=0,this.filename=n,null!=a.indexOf(\"w\")&&(this.fileId=new o)):(this.referenceBy=1,this.fileId=n,this.filename=s),this.mode=null==a?\"r\":a,this.options=u||{},this.isOpen=!1,this.root=null==this.options.root?e.DEFAULT_ROOT_COLLECTION:this.options.root,this.position=0,this.readPreference=this.options.readPreference||t.options.readPreference||i.primary,this.writeConcern=U(t,this.options),this.internalChunkSize=null==this.options.chunkSize?r.DEFAULT_CHUNK_SIZE:this.options.chunkSize;var c=this.options.promiseLibrary||Promise;this.promiseLibrary=c,Object.defineProperty(this,\"chunkSize\",{enumerable:!0,get:function(){return this.internalChunkSize},set:function(e){this.internalChunkSize=\"w\"!==this.mode[0]||0!==this.position||null!=this.uploadDate?this.internalChunkSize:e}}),Object.defineProperty(this,\"md5\",{enumerable:!0,get:function(){return this.internalMd5}}),Object.defineProperty(this,\"chunkNumber\",{enumerable:!0,get:function(){return this.currentChunk&&this.currentChunk.chunkNumber?this.currentChunk.chunkNumber:null}})};g.prototype.open=function(e,t){if(\"function\"==typeof e&&(t=e,e={}),e=e||{},\"w\"!==this.mode&&\"w+\"!==this.mode&&\"r\"!==this.mode)throw l.create({message:\"Illegal mode \"+this.mode,driver:!0});return d(this.db.s.topology,y,[this,e,t],{skipSessions:!0})};var y=function(e,t,n){var r=U(e.db,e.options);\"w\"===e.mode||\"w+\"===e.mode?e.collection().ensureIndex([[\"filename\",1]],r,function(){var t=e.chunkCollection(),o=f(r);o.unique=!0,t.ensureIndex([[\"files_id\",1],[\"n\",1]],o,function(){T(e,r,function(t,r){if(t)return n(t);e.isOpen=!0,n(t,r)})})}):T(e,r,function(t,r){if(t)return n(t);e.isOpen=!0,n(t,r)})};g.prototype.eof=function(){return this.position===this.length},g.prototype.getc=function(e,t){return\"function\"==typeof e&&(t=e,e={}),d(this.db.s.topology,v,[this,e=e||{},t],{skipSessions:!0})};var v=function(e,t,n){e.eof()?n(null,null):e.currentChunk.eof()?A(e,e.currentChunk.chunkNumber+1,function(t,r){e.currentChunk=r,e.position=e.position+1,n(t,e.currentChunk.getc())}):(e.position=e.position+1,n(null,e.currentChunk.getc()))};g.prototype.puts=function(e,t,n){\"function\"==typeof t&&(n=t,t={}),t=t||{};var r=null==e.match(/\\n$/)?e+\"\\n\":e;return d(this.db.s.topology,this.write.bind(this),[r,t,n],{skipSessions:!0})},g.prototype.stream=function(){return new V(this)},g.prototype.write=function(e,t,n,r){return\"function\"==typeof n&&(r=n,n={}),d(this.db.s.topology,L,[this,e,t,n=n||{},r],{skipSessions:!0})},g.prototype.destroy=function(){this.writable&&(this.readable=!1,this.writable&&(this.writable=!1,this._q.length=0,this.emit(\"close\")))},g.prototype.writeFile=function(e,t,n){return\"function\"==typeof t&&(n=t,t={}),d(this.db.s.topology,b,[this,e,t=t||{},n],{skipSessions:!0})};var b=function(e,t,n,o){\"string\"!=typeof t?e.open(function(e,n){if(e)return o(e,n);a.fstat(t,function(e,i){if(e)return o(e,n);var u=0,c=0,l=function(){var e=s.alloc(n.chunkSize);a.read(t,e,0,e.length,u,function(e,s,p){if(e)return o(e,n);u+=s,new r(n,{n:c++},n.writeConcern).write(p.slice(0,s),function(e,r){if(e)return o(e,n);r.save({},function(e){return e?o(e,n):(n.position=n.position+s,n.currentChunk=r,u>=i.size?void a.close(t,function(e){if(e)return o(e);n.close(function(e){return o(e||null,n)})}):process.nextTick(l))})})})};process.nextTick(l)})}):a.open(t,\"r\",function(t,n){if(t)return o(t);e.writeFile(n,o)})};g.prototype.close=function(e,t){return\"function\"==typeof e&&(t=e,e={}),d(this.db.s.topology,w,[this,e=e||{},t],{skipSessions:!0})};var w=function(e,t,n){\"w\"===e.mode[0]?(t=Object.assign({},e.writeConcern,t),null!=e.currentChunk&&e.currentChunk.position>0?e.currentChunk.save({},function(r){if(r&&\"function\"==typeof n)return n(r);e.collection(function(r,o){if(r&&\"function\"==typeof n)return n(r);null!=e.uploadDate?N(e,function(e,r){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(r,t,function(e){\"function\"==typeof n&&n(e,r)})}):(e.uploadDate=new Date,N(e,function(e,r){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(r,t,function(e){\"function\"==typeof n&&n(e,r)})}))})}):e.collection(function(r,o){if(r&&\"function\"==typeof n)return n(r);e.uploadDate=new Date,N(e,function(e,r){if(e){if(\"function\"==typeof n)return n(e);throw e}o.save(r,t,function(e){\"function\"==typeof n&&n(e,r)})})})):\"r\"===e.mode[0]?\"function\"==typeof n&&n(null,null):\"function\"==typeof n&&n(l.create({message:u(\"Illegal mode %s\",e.mode),driver:!0}))};g.prototype.chunkCollection=function(e){return\"function\"==typeof e?this.db.collection(this.root+\".chunks\",e):this.db.collection(this.root+\".chunks\")},g.prototype.unlink=function(e,t){return\"function\"==typeof e&&(t=e,e={}),d(this.db.s.topology,_,[this,e=e||{},t],{skipSessions:!0})};var _=function(e,t,n){k(e,function(t){if(null!==t)return t.message=\"at deleteChunks: \"+t.message,n(t);e.collection(function(t,r){if(null!==t)return t.message=\"at collection: \"+t.message,n(t);r.remove({_id:e.fileId},e.writeConcern,function(t){n(t,e)})})})};g.prototype.collection=function(e){return\"function\"==typeof e&&this.db.collection(this.root+\".files\",e),this.db.collection(this.root+\".files\")},g.prototype.readlines=function(e,t,n){var r=Array.prototype.slice.call(arguments,0);return n=\"function\"==typeof r[r.length-1]?r.pop():void 0,e=(e=r.length?r.shift():\"\\n\")||\"\\n\",t=r.length?r.shift():{},d(this.db.s.topology,S,[this,e,t,n],{skipSessions:!0})};var S=function(e,t,n,r){e.read(function(e,n){if(e)return r(e);var o=n.toString().split(t);o=o.length>0?o.splice(0,o.length-1):[];for(var i=0;i<o.length;i++)o[i]=o[i]+t;r(null,o)})};g.prototype.rewind=function(e,t){return\"function\"==typeof e&&(t=e,e={}),d(this.db.s.topology,C,[this,e=e||{},t],{skipSessions:!0})};var C=function(e,t,n){0!==e.currentChunk.chunkNumber?\"w\"===e.mode[0]?k(e,function(t){if(t)return n(t);e.currentChunk=new r(e,{n:0},e.writeConcern),e.position=0,n(null,e)}):e.currentChunk(0,function(t,r){if(t)return n(t);e.currentChunk=r,e.currentChunk.rewind(),e.position=0,n(null,e)}):(e.currentChunk.rewind(),e.position=0,n(null,e))};g.prototype.read=function(e,t,n,r){var o=Array.prototype.slice.call(arguments,0);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,e=o.length?o.shift():null,t=o.length?o.shift():null,n=o.length?o.shift():{},d(this.db.s.topology,O,[this,e,t,n,r],{skipSessions:!0})};var O=function(e,t,n,r,o){var i=null==t?e.length-e.position:t,a=null==n?s.alloc(i):n;if(a._index=null!=n&&null!=n._index?n._index:0,e.currentChunk.length()-e.currentChunk.position+a._index>=i){var u=e.currentChunk.readSlice(i-a._index);return u.copy(a,a._index),e.position=e.position+a.length,0===i&&0===a.length?o(l.create({message:\"File does not exist\",driver:!0}),null):o(null,a)}(u=e.currentChunk.readSlice(e.currentChunk.length()-e.currentChunk.position)).copy(a,a._index),a._index+=u.length,A(e,e.currentChunk.chunkNumber+1,function(n,r){if(n)return o(n);r.length()>0?(e.currentChunk=r,e.read(t,a,o)):a._index>0?o(null,a):o(l.create({message:\"no chunks found for file, possibly corrupt\",driver:!0}),null)})};g.prototype.tell=function(e){var t=this;return\"function\"==typeof e?e(null,this.position):new t.promiseLibrary(function(e){e(t.position)})},g.prototype.seek=function(e,t,n,r){var o=Array.prototype.slice.call(arguments,1);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,t=o.length?o.shift():null,n=o.length?o.shift():{},d(this.db.s.topology,E,[this,e,t,n,r],{skipSessions:!0})};var E=function(e,t,n,r,o){if(\"r\"!==e.mode)return o(l.create({message:\"seek is only supported for mode r\",driver:!0}));var i,s=null==n?g.IO_SEEK_SET:n;i=s===g.IO_SEEK_CUR?e.position+t:s===g.IO_SEEK_END?e.length+t:t;var a=Math.floor(i/e.chunkSize);A(e,a,function(t,n){return t?o(t,null):null==n?o(new Error(\"no chunk found\")):(e.currentChunk=n,e.position=i,e.currentChunk.position=e.position%e.chunkSize,void o(t,e))})},T=function(e,t,n){var i=e.collection(),s=1===e.referenceBy?{_id:e.fileId}:{filename:e.filename};function a(e){a.err||n(a.err=e)}s=null==e.fileId&&null==e.filename?null:s,t.readPreference=e.readPreference,null!=s?i.findOne(s,t,function(i,s){if(i)return a(i);if(null!=s)e.fileId=s._id,e.filename=\"r\"===e.mode||void 0===e.filename?s.filename:e.filename,e.contentType=s.contentType,e.internalChunkSize=s.chunkSize,e.uploadDate=s.uploadDate,e.aliases=s.aliases,e.length=s.length,e.metadata=s.metadata,e.internalMd5=s.md5;else{if(\"r\"===e.mode){e.length=0;var c=\"ObjectID\"===e.fileId._bsontype?e.fileId.toHexString():e.fileId;return a(l.create({message:u(\"file with id %s not opened for writing\",1===e.referenceBy?c:e.filename),driver:!0}))}e.fileId=null==e.fileId?new o:e.fileId,e.contentType=g.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?r.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0}\"r\"===e.mode?A(e,0,t,function(t,r){if(t)return a(t);e.currentChunk=r,e.position=0,n(null,e)}):\"w\"===e.mode&&s?k(e,t,function(t){if(t)return a(t);e.currentChunk=new r(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)}):\"w\"===e.mode?(e.currentChunk=new r(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)):\"w+\"===e.mode&&A(e,I(e),t,function(t,o){if(t)return a(t);e.currentChunk=null==o?new r(e,{n:0},e.writeConcern):o,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,n(null,e)})}):(e.fileId=null==e.fileId?new o:e.fileId,e.contentType=g.DEFAULT_CONTENT_TYPE,e.internalChunkSize=null==e.internalChunkSize?r.DEFAULT_CHUNK_SIZE:e.internalChunkSize,e.length=0,\"w\"===e.mode?k(e,t,function(t){if(t)return a(t);e.currentChunk=new r(e,{n:0},e.writeConcern),e.contentType=null==e.options.content_type?e.contentType:e.options.content_type,e.internalChunkSize=null==e.options.chunk_size?e.internalChunkSize:e.options.chunk_size,e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=0,n(null,e)}):\"w+\"===e.mode&&A(e,I(e),t,function(t,o){if(t)return a(t);e.currentChunk=null==o?new r(e,{n:0},e.writeConcern):o,e.currentChunk.position=e.currentChunk.data.length(),e.metadata=null==e.options.metadata?e.metadata:e.options.metadata,e.aliases=null==e.options.aliases?e.aliases:e.options.aliases,e.position=e.length,n(null,e)}))},x=function(e,t,n,o){\"function\"==typeof n&&(o=n,n=null);var i=\"boolean\"==typeof n&&n;if(\"w\"!==e.mode)o(l.create({message:u(\"file with id %s not opened for writing\",1===e.referenceBy?e.referenceBy:e.filename),driver:!0}),null);else{if(!(e.currentChunk.position+t.length>=e.chunkSize))return e.position=e.position+t.length,e.currentChunk.write(t),i?e.close(function(t){o(t,e)}):o(null,e);for(var s=e.currentChunk.chunkNumber,a=e.chunkSize-e.currentChunk.position,c=t.slice(0,a),p=t.slice(a),h=[e.currentChunk.write(c)];p.length>=e.chunkSize;){var f=new r(e,{n:s+1},e.writeConcern);c=p.slice(0,e.chunkSize),p=p.slice(e.chunkSize),s+=1,f.write(c),h.push(f)}e.currentChunk=new r(e,{n:s+1},e.writeConcern),p.length>0&&e.currentChunk.write(p),e.position=e.position+t.length;for(var d=h.length,m=0;m<h.length;m++)h[m].save({},function(t){return t?o(t):(d-=1)<=0?i?e.close(function(t){o(t,e)}):o(null,e):void 0})}},N=function(e,t){var n={_id:e.fileId,filename:e.filename,contentType:e.contentType,length:e.position?e.position:0,chunkSize:e.chunkSize,uploadDate:e.uploadDate,aliases:e.aliases,metadata:e.metadata};e.db.command({filemd5:e.fileId,root:e.root},function(e,r){if(e)return t(e);n.md5=r.md5,t(null,n)})},A=function(e,t,n,o){\"function\"==typeof n&&(o=n,n={}),(n=n||e.writeConcern).readPreference=e.readPreference,e.chunkCollection().findOne({files_id:e.fileId,n:t},n,function(t,n){if(t)return o(t);o(null,new r(e,null==n?{}:n,e.writeConcern))})},I=function(e){return Math.floor((e.length?e.length-1:0)/e.chunkSize)},k=function(e,t,n){\"function\"==typeof t&&(n=t,t={}),t=t||e.writeConcern,null!=e.fileId?e.chunkCollection().remove({files_id:e.fileId},t,function(e){if(e)return n(e,!1);n(null,!0)}):n(null,!0)};g.DEFAULT_ROOT_COLLECTION=\"fs\",g.DEFAULT_CONTENT_TYPE=\"binary/octet-stream\",g.IO_SEEK_SET=0,g.IO_SEEK_CUR=1,g.IO_SEEK_END=2,g.exist=function(e,t,n,r,o){var i=Array.prototype.slice.call(arguments,2);return o=\"function\"==typeof i[i.length-1]?i.pop():void 0,n=i.length?i.shift():null,r=i.length?i.shift():{},d(e.s.topology,P,[e,t,n,r=r||{},o],{skipSessions:!0})};var P=function(e,t,n,r,o){var s=r.readPreference||i.PRIMARY;e.collection((null!=n?n:g.DEFAULT_ROOT_COLLECTION)+\".files\",function(e,n){if(e)return o(e);var r=\"string\"==typeof t||\"[object RegExp]\"===Object.prototype.toString.call(t)?{filename:t}:{_id:t};null!=t&&\"object\"==typeof t&&\"[object RegExp]\"!==Object.prototype.toString.call(t)&&(r=t),n.findOne(r,{readPreference:s},function(e,t){if(e)return o(e);o(null,null!=t)})})};g.list=function(e,t,n,r){var o=Array.prototype.slice.call(arguments,1);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,t=o.length?o.shift():null,n=o.length?o.shift():{},d(e.s.topology,R,[e,t,n=n||{},r],{skipSessions:!0})};var R=function(e,t,n,r){null!=t&&\"object\"==typeof t&&(n=t,t=null);var o=n.readPreference||i.primary,s=null!=n.id&&n.id,a=[];e.collection((null!=t?t:g.DEFAULT_ROOT_COLLECTION)+\".files\",function(e,t){if(e)return r(e);t.find({},{readPreference:o},function(e,t){if(e)return r(e);t.each(function(e,t){null!=t?a.push(s?t._id:t.filename):r(e,a)})})})};g.read=function(e,t,n,r,o,i){var s=Array.prototype.slice.call(arguments,2);return i=\"function\"==typeof s[s.length-1]?s.pop():void 0,n=s.length?s.shift():null,r=s.length?s.shift():null,o=s.length?s.shift():null,d(e.s.topology,M,[e,t,n,r,o=o||{},i],{skipSessions:!0})};var M=function(e,t,n,r,o,i){new g(e,t,\"r\",o).open(function(e,t){return e?i(e):r&&r>=t.length?i(\"offset larger than size of file\",null):n&&n>t.length?i(\"length is larger than the size of the file\",null):r&&n&&r+n>t.length?i(\"offset and length is larger than the size of the file\",null):void(null!=r?t.seek(r,function(e,t){if(e)return i(e);t.read(n,i)}):t.read(n,i))})};g.readlines=function(e,t,n,r,o){var i=Array.prototype.slice.call(arguments,2);return o=\"function\"==typeof i[i.length-1]?i.pop():void 0,n=i.length?i.shift():null,r=i.length?i.shift():null,d(e.s.topology,D,[e,t,n,r=r||{},o],{skipSessions:!0})};var D=function(e,t,n,r,o){var i=null==n?\"\\n\":n;new g(e,t,\"r\",r).open(function(e,t){if(e)return o(e);t.readlines(i,o)})};g.unlink=function(e,t,n,r){var o=Array.prototype.slice.call(arguments,2);return r=\"function\"==typeof o[o.length-1]?o.pop():void 0,n=o.length?o.shift():{},d(e.s.topology,B,[this,e,t,n=n||{},r],{skipSessions:!0})};var B=function(e,t,n,r,o){var i=U(t,r);if(n.constructor===Array)for(var s=0,a=0;a<n.length;a++)++s,g.unlink(t,n[a],r,function(){0==--s&&o(null,e)});else new g(t,n,\"w\",r).open(function(t,n){if(t)return o(t);k(n,function(t){if(t)return o(t);n.collection(function(t,r){if(t)return o(t);r.remove({_id:n.fileId},i,function(t){o(t,e)})})})})},L=function(e,t,n,r,o){return s.isBuffer(t)?x(e,t,n,o):x(e,s.from(t,\"binary\"),n,o)},j=function(e){var t={};return null!=e.w&&(t.w=e.w),!0===e.journal&&(t.j=e.journal),!0===e.j&&(t.j=e.j),!0===e.fsync&&(t.fsync=e.fsync),null!=e.wtimeout&&(t.wtimeout=e.wtimeout),t},U=function(e,t){var n={w:1};if(null!=(t=t||{}).w||\"boolean\"==typeof t.j||\"boolean\"==typeof t.journal||\"boolean\"==typeof t.fsync?n=j(t):null!=t.safe&&\"object\"==typeof t.safe?n=j(t.safe):\"boolean\"==typeof t.safe?n={w:t.safe?1:0}:null!=e.options.w||\"boolean\"==typeof e.options.j||\"boolean\"==typeof e.options.journal||\"boolean\"==typeof e.options.fsync?n=j(e.options):!e.safe||null==e.safe.w&&\"boolean\"!=typeof e.safe.j&&\"boolean\"!=typeof e.safe.journal&&\"boolean\"!=typeof e.safe.fsync?\"boolean\"==typeof e.safe&&(n={w:e.safe?1:0}):n=j(e.safe),n.w<1&&(!0===n.journal||!0===n.j||!0===n.fsync))throw l.create({message:\"No acknowledgement using w < 1 cannot be combined with journal:true or fsync:true\",driver:!0});return n},V=function(e){h.call(this),this.gs=e,this.endCalled=!1,this.totalBytesToRead=this.gs.length-this.gs.position,this.seekPosition=this.gs.position};p(V,h),V.prototype._pipe=V.prototype.pipe,V.prototype.pipe=function(e){var t=this;return t.gs.isOpen?(t.totalBytesToRead=t.gs.length-t.gs.position,t._pipe.apply(t,[e])):t.gs.open(function(n){if(n)return t.emit(\"error\",n);t.totalBytesToRead=t.gs.length-t.gs.position,t._pipe.apply(t,[e])}),e},V.prototype._read=function(){var e=this,t=function(){e.gs.read(n,function(t,n){return t&&!e.endCalled?e.emit(\"error\",t):e.endCalled||null==n?e.push(null):(n.length<=e.totalBytesToRead?(e.totalBytesToRead=e.totalBytesToRead-n.length,e.push(n)):n.length>e.totalBytesToRead&&(e.totalBytesToRead=e.totalBytesToRead-n._index,e.push(n.slice(0,n._index))),void(e.totalBytesToRead<=0&&(e.endCalled=!0)))})},n=e.gs.length<e.gs.chunkSize?e.gs.length-e.seekPosition:e.gs.chunkSize;e.gs.isOpen?t():e.gs.open(function(n){if(e.totalBytesToRead=e.gs.length-e.gs.position,n)return e.emit(\"error\",n);t()})},V.prototype.destroy=function(){this.pause(),this.endCalled=!0,this.gs.close(),this.emit(\"end\")},V.prototype.write=function(e){var t=this;return t.endCalled?t.emit(\"error\",l.create({message:\"attempting to write to stream after end called\",driver:!0})):t.gs.isOpen?(t.gs.write(e,function(){t.emit(\"drain\")}),!0):(t.gs.open(function(){t.gs.isOpen=!0,t.gs.write(e,function(){process.nextTick(function(){t.emit(\"drain\")})})}),!1)},V.prototype.end=function(e,t,n){var r=this,o=Array.prototype.slice.call(arguments,0);n=\"function\"==typeof o[o.length-1]?o.pop():void 0,e=o.length?o.shift():null,o.length&&o.shift(),r.endCalled=!0,e&&r.gs.write(e,function(){r.gs.close(function(){\"function\"==typeof n&&n(),r.emit(\"end\")})}),r.gs.close(function(){\"function\"==typeof n&&n(),r.emit(\"end\")})},e.exports=g},upQV:function(e,t,n){\"use strict\";const r=n(\"Bx6p\").applyWriteConcern,o=n(\"q64v\").BSON.Code,i=n(\"Bx6p\").resolveReadPreference,s=n(!function(){var e=new Error(\"Cannot find module 'crypto'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),a=n(\"mn2F\"),u=n(\"Bx6p\").debugOptions,c=n(\"Bx6p\").handleCallback,l=n(\"q64v\").MongoError,p=n(\"Bx6p\").parseIndexOptions,h=n(\"q64v\").ReadPreference,f=n(\"Bx6p\").toError,d=n(\"xAVX\").count,m=n(\"xAVX\").findOne,g=n(\"xAVX\").remove,y=n(\"xAVX\").updateOne,v=[\"authSource\",\"w\",\"wtimeout\",\"j\",\"native_parser\",\"forceServerObjectId\",\"serializeFunctions\",\"raw\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"bufferMaxEntries\",\"numberOfRetries\",\"retryMiliSeconds\",\"readPreference\",\"pkFactory\",\"parentDb\",\"promiseLibrary\",\"noListener\"],b=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"autoIndexId\",\"strict\",\"serializeFunctions\",\"pkFactory\",\"raw\",\"readPreference\",\"session\"];function w(e,t,n,o,i){let s=Object.assign({},{readPreference:h.PRIMARY},o);if((s=r(s,{db:e},o)).writeConcern&&\"function\"!=typeof i)throw l.create({message:\"Cannot use a writeConcern without a provided callback\",driver:!0});if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new l(\"topology was destroyed\"));!function(e,t,n,o,i){const s=p(n),a=\"string\"==typeof o.name?o.name:s.name,u=[{name:a,key:s.fieldHash}],d=Object.keys(u[0]).concat([\"writeConcern\",\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\",\"session\"]);for(let r in o)-1===d.indexOf(r)&&(u[0][r]=o[r]);const m=e.s.topology.capabilities();if(u[0].collation&&m&&!m.commandsTakeCollation){const e=new l(\"server/primary/mongos does not support collation\");return e.code=67,i(e)}const g=r({createIndexes:t,indexes:u},{db:e},o);o.readPreference=h.PRIMARY,_(e,g,o,(e,t)=>e?c(i,e,null):0===t.ok?c(i,f(t),null):void c(i,null,a))}(e,t,n,s,(r,u)=>{if(null==r)return c(i,r,u);if(67===r.code||11e3===r.code||85===r.code||86===r.code||11600===r.code||197===r.code)return c(i,r,u);const p=C(e,t,n,o);s.checkKeys=!1,e.s.topology.insert(`${e.s.databaseName}.${a.SYSTEM_INDEX_COLLECTION}`,p,s,(e,t)=>{if(null!=i)return e?c(i,e):null==t?c(i,null,null):t.result.writeErrors?c(i,l.create(t.result.writeErrors[0]),null):void c(i,null,p.name)})})}function _(e,t,n,r){if(e.serverConfig&&e.serverConfig.isDestroyed())return r(new l(\"topology was destroyed\"));const o=n.dbName||n.authdb||e.s.databaseName;n.readPreference=i(n,{db:e,default:h.primary}),e.s.logger.isDebug()&&e.s.logger.debug(`executing command ${JSON.stringify(t)} against ${o}.$cmd with options [${JSON.stringify(u(v,n))}]`),e.s.topology.command(`${o}.$cmd`,t,n,(e,t)=>e?c(r,e):n.full?c(r,null,t):void c(r,null,t.result))}function S(e,t,n,r){const o=null!=n.full&&n.full;if(e.serverConfig&&e.serverConfig.isDestroyed())return r(new l(\"topology was destroyed\"));e.collection(t).listIndexes(n).toArray((e,t)=>e?r(f(e)):Array.isArray(t)?o?c(r,null,t):void c(r,null,function(e){let t={};for(let n=0;n<e.length;n++){const r=e[n];t[r.name]=[];for(let e in r.key)t[r.name].push([e,r.key[e]])}return t}(t)):c(r,null,[]))}function C(e,t,n,r){const o=p(n),i={ns:e.databaseName+\".\"+t,key:o.fieldHash,name:\"string\"==typeof r.name?r.name:o.name},s=null!=r&&\"object\"!=typeof r&&r;r=null==r||\"boolean\"==typeof r?{}:r;const a=Object.keys(i);for(let c in r)-1===a.indexOf(c)&&(i[c]=r[c]);null==i.unique&&(i.unique=s);const u=[\"w\",\"wtimeout\",\"j\",\"fsync\",\"readPreference\",\"session\"];for(let c=0;c<u.length;c++)delete i[u[c]];return i}e.exports={addUser:function(e,t,n,o,i){if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new l(\"topology was destroyed\"));!function(e,t,n,o,i){if(\"string\"==typeof t&&null!=n&&\"object\"==typeof n&&(o=n,n=null),\"function\"==typeof o&&(i=o,o={}),null!=o.digestPassword)return i(f(\"The digestPassword option is not supported via add_user. Please use db.command('createUser', ...) instead for this option.\"));const a=null!=o.customData?o.customData:{};let u=Array.isArray(o.roles)?o.roles:[];const l=\"number\"==typeof o.maxTimeMS?o.maxTimeMS:null;0===u.length&&console.log(\"Creating a user without roles is deprecated in MongoDB >= 2.6\");const p={writeCommand:!0};o.dbName&&(p.dbName=o.dbName),null!=l&&(p.maxTimeMS=l),\"admin\"!==e.databaseName.toLowerCase()&&\"admin\"!==o.dbName||Array.isArray(o.roles)?Array.isArray(o.roles)||(u=[\"dbOwner\"]):u=[\"root\"];const d=e.s.topology.lastIsMaster().maxWireVersion>=7;let m={createUser:t,customData:a,roles:u,digestPassword:d};m=r(m,{db:e},o);let g=n;if(!d){const e=s.createHash(\"md5\");e.update(t+\":mongo:\"+n),g=e.digest(\"hex\")}\"string\"==typeof n&&(m.pwd=g),p.readPreference=h.primary,_(e,m,p,(e,n)=>e&&0===e.ok&&void 0===e.code?c(i,{code:-5e3},null):e?c(i,e,null):void c(i,n.ok?null:f(n),n.ok?[{user:t,pwd:\"\"}]:null))}(e,t,n,o,(e,u)=>{if(e&&-5e3===e.code){const e=r(Object.assign({},o),{db:p},o),u=s.createHash(\"md5\");u.update(t+\":mongo:\"+n);const l=u.digest(\"hex\"),p=o.dbName?new a(o.dbName,p.s.topology,p.s.options):p,h=p.collection(a.SYSTEM_USER_COLLECTION);d(h,{},e,(n,r)=>{if(null!=n)return c(i,n,null);const o=Object.assign({projection:{dbName:1}},e);h.find({user:t},o).toArray(n=>{if(null!=n)return c(i,n,null);e.upsert=!0,y(h,{user:t},{$set:{user:t,pwd:l}},e,e=>0===r&&e?c(i,null,[{user:t,pwd:l}]):e?c(i,e,null):void c(i,null,[{user:t,pwd:l}]))})})}else{if(e)return c(i,e);c(i,e,u)}})},collections:function(e,t,r){const o=n(\"Hwnt\");t=Object.assign({},t,{nameOnly:!0}),e.listCollections({},t).toArray((t,n)=>{if(null!=t)return c(r,t,null);n=n.filter(e=>-1===e.name.indexOf(\"$\")),c(r,null,n.map(t=>new o(e,e.s.topology,e.s.databaseName,t.name,e.s.pkFactory,e.s.options)))})},createCollection:function(e,t,o,i){const s=n(\"Hwnt\"),a=r(Object.assign({},o),{db:e},o);if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new l(\"topology was destroyed\"));const u=Object.assign({},a,{nameOnly:!0});e.listCollections({name:t},u).setReadPreference(h.PRIMARY).toArray((n,u)=>{if(null!=n)return c(i,n,null);if(u.length>0&&a.strict)return c(i,l.create({message:`Collection ${t} already exists. Currently in strict mode.`,driver:!0}),null);if(u.length>0)try{return c(i,null,new s(e,e.s.topology,e.s.databaseName,t,e.s.pkFactory,o))}catch(n){return c(i,n)}const p={create:t};r(p,{db:e},o);for(let e in o)null!=o[e]&&\"function\"!=typeof o[e]&&-1===b.indexOf(e)&&(p[e]=o[e]);a.readPreference=h.PRIMARY,_(e,p,a,n=>{if(n)return c(i,n);c(i,null,new s(e,e.s.topology,e.s.databaseName,t,e.s.pkFactory,o))})})},createListener:function(e,t,n){return function(r){if(n.listeners(t).length>0){n.emit(t,r,e);for(let n=0;n<e.s.children.length;n++)e.s.children[n].emit(t,r,e.s.children[n])}}},createIndex:w,dropCollection:function(e,t,n,r){_(e,t,n,(t,n)=>e.serverConfig&&e.serverConfig.isDestroyed()?r(new l(\"topology was destroyed\")):t?c(r,t):n.ok?c(r,null,!0):void c(r,null,!1))},dropDatabase:function(e,t,n,r){_(e,t,n,(t,n)=>e.serverConfig&&e.serverConfig.isDestroyed()?r(new l(\"topology was destroyed\")):null!=r?t?c(r,t,null):void c(r,null,!!n.ok):void 0)},ensureIndex:function(e,t,n,o,i){const s=r({},{db:e},o),a=C(e,t,n,o).name;if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new l(\"topology was destroyed\"));s.readPreference=h.PRIMARY,S(e,t,s,(r,s)=>{if(null!=r&&26!==r.code)return c(i,r,null);if(null!=s&&s[a]){if(\"function\"==typeof i)return c(i,null,a)}else w(e,t,n,o,i)})},evaluate:function(e,t,n,r,i){let s=t,a=[];if(e.serverConfig&&e.serverConfig.isDestroyed())return i(new l(\"topology was destroyed\"));s&&\"Code\"===s._bsontype||(s=new o(s)),null==n||Array.isArray(n)||\"function\"==typeof n?null!=n&&Array.isArray(n)&&\"function\"!=typeof n&&(a=n):a=[n];let u={$eval:s,args:a};r.nolock&&(u.nolock=r.nolock),r.readPreference=new h(h.PRIMARY),_(e,u,r,(e,t)=>e?c(i,e,null):t&&1===t.ok?c(i,null,t.retval):t?c(i,l.create({message:`eval failed: ${t.errmsg}`,driver:!0}),null):void c(i,e,t))},executeCommand:_,executeDbAdminCommand:function(e,t,n,r){e.s.topology.command(\"admin.$cmd\",t,n,(t,n)=>e.serverConfig&&e.serverConfig.isDestroyed()?r(new l(\"topology was destroyed\")):t?c(r,t):void c(r,null,n.result))},listCollectionsTransforms:function(e){const t=`${e}.`;return{doc:e=>{const n=e.name.indexOf(t);return e.name&&0===n&&(e.name=e.name.substr(n+t.length)),e}}},indexInformation:S,profilingInfo:function(e,t,n){try{e.collection(\"system.profile\").find({},t).toArray(n)}catch(e){return n(e,null)}},profilingLevel:function(e,t,n){_(e,{profile:-1},t,(e,t)=>{if(null==e&&1===t.ok){const e=t.was;return 0===e?n(null,\"off\"):1===e?n(null,\"slow_only\"):2===e?n(null,\"all\"):n(new Error(\"Error: illegal profiling level value \"+e),null)}n(null!=e?e:new Error(\"Error with profile command\"),null)})},removeUser:function(e,t,n,o){!function(e,t,n,o){if(\"function\"==typeof n&&(o=n,n={}),n=n||{},e.serverConfig&&e.serverConfig.isDestroyed())return o(new l(\"topology was destroyed\"));const i={writeCommand:!0};n.dbName&&(i.dbName=n.dbName);const s=\"number\"==typeof n.maxTimeMS?n.maxTimeMS:null;null!=s&&(i.maxTimeMS=s);let a={dropUser:t};a=r(a,{db:e},n),i.readPreference=h.primary,_(e,a,i,(e,t)=>e&&!e.ok&&void 0===e.code?c(o,{code:-5e3}):e?c(o,e,null):void c(o,null,!!t.ok))}(e,t,n,(e,i)=>{if(e&&-5e3===e.code){const e=r(Object.assign({},n),{db:i},n),i=n.dbName?new a(n.dbName,i.s.topology,i.s.options):i,s=i.collection(a.SYSTEM_USER_COLLECTION);m(s,{user:t},e,(n,r)=>{if(null==r)return c(o,n,!1);g(s,{user:t},e,e=>{c(o,e,!0)})})}else{if(e)return c(o,e);c(o,e,i)}})},setProfilingLevel:function(e,t,n,r){const o={};let i=0;if(\"off\"===t)i=0;else if(\"slow_only\"===t)i=1;else{if(\"all\"!==t)return r(new Error(\"Error: illegal profiling level value \"+t));i=2}o.profile=i,_(e,o,n,(e,n)=>null==e&&1===n.ok?r(null,t):r(null!=e?e:new Error(\"Error with profile command\"),null))},validateDatabaseName:function(e){if(\"string\"!=typeof e)throw l.create({message:\"database name must be a string\",driver:!0});if(0===e.length)throw l.create({message:\"database name cannot be the empty string\",driver:!0});if(\"$external\"===e)return;const t=[\" \",\".\",\"$\",\"/\",\"\\\\\"];for(let n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))throw l.create({message:\"database names cannot contain the character '\"+t[n]+\"'\",driver:!0})}}},v0W3:function(e,t){var n=function(e){if(!(this instanceof n))return new n(e);this._bsontype=\"Int32\",this.value=e};n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Int32=n},vXaj:function(e,t){function n(e,t){if(!(this instanceof n))return new n;this._bsontype=\"BSONRegExp\",this.pattern=e||\"\",this.options=t||\"\";for(var r=0;r<this.options.length;r++)if(\"i\"!==this.options[r]&&\"m\"!==this.options[r]&&\"x\"!==this.options[r]&&\"l\"!==this.options[r]&&\"s\"!==this.options[r]&&\"u\"!==this.options[r])throw new Error(\"the regular expression options [\"+this.options[r]+\"] is not supported\")}e.exports=n,e.exports.BSONRegExp=n},wcAq:function(e,t,n){\"use strict\";const r=n(\"gCFD\"),o=n(\"mn2F\"),i=n(\"+qE3\").EventEmitter,s=n(\"Bx6p\").executeOperation,a=n(\"Bx6p\").handleCallback,u=n(\"MCLT\").inherits,c=n(\"q64v\").MongoError,l=n(\"u1MM\").connectOp,p=n(\"u1MM\").logout,h=n(\"u1MM\").validOptions;function f(e,t){if(!(this instanceof f))return new f(e,t);i.call(this),this.s={url:e,options:t||{},promiseLibrary:null,dbCache:{},sessions:[]};const n=this.s.options.promiseLibrary||Promise;this.s.promiseLibrary=n}u(f,i),f.prototype.connect=function(e){const t=h(this.s.options);if(\"string\"==typeof e)throw new TypeError(\"`connect` only accepts a callback\");return s(this,l,[this,t,e],{skipSessions:!0})},f.prototype.logout=function(e,t){return\"function\"==typeof e&&(t=e,e={}),e=e||{},s(this,p,[this,this.s.options.authSource?this.s.options.authSource:this.s.options.dbName,t],{skipSessions:!0})},f.prototype.close=function(e,t){\"function\"==typeof e&&(t=e,e=!1),this.topology&&this.topology.close(e),this.emit(\"close\",this);for(const n in this.s.dbCache)this.s.dbCache[n].emit(\"close\");return this.removeAllListeners(\"close\"),\"function\"==typeof t?process.nextTick(()=>{a(t,null)}):new this.s.promiseLibrary(e=>{e()})},f.prototype.db=function(e,t){t=t||{},e||(e=this.s.options.dbName);const n=Object.assign({},this.s.options,t);if(this.s.dbCache[e]&&!0!==n.returnNonCachedInstance)return this.s.dbCache[e];if(n.promiseLibrary=this.s.promiseLibrary,!this.topology)throw new c(\"MongoClient must be connected before calling MongoClient.prototype.db\");const r=new o(e,this.topology,n);return this.s.dbCache[e]=r,r},f.prototype.isConnected=function(e){return e=e||{},!!this.topology&&this.topology.isConnected(e)},f.connect=function(e,t,n){const r=Array.prototype.slice.call(arguments,1);return n=\"function\"==typeof r[r.length-1]?r.pop():void 0,new f(e,(r.length?r.shift():null)||{}).connect(n)},f.prototype.startSession=function(e){if(e=Object.assign({explicit:!0},e),!this.topology)throw new c(\"Must connect to a server before calling this method\");if(!this.topology.hasSessionSupport())throw new c(\"Current topology does not support sessions\");return this.topology.startSession(e,this.s.options)},f.prototype.withSession=function(e,t){\"function\"==typeof e&&(t=e,e=void 0);const n=this.startSession(e);let r=(e,t,o)=>{if(r=(()=>{throw new ReferenceError(\"cleanupHandler was called too many times\")}),o=Object.assign({throw:!0},o),n.endSession(),e){if(o.throw)throw e;return Promise.reject(e)}};try{const e=t(n);return Promise.resolve(e).then(e=>r(null,e)).catch(e=>r(e,null,{throw:!0}))}catch(e){return r(e,null,{throw:!1})}},f.prototype.watch=function(e,t){return e=e||[],t=t||{},Array.isArray(e)||(t=e,e=[]),new r(this,e,t)},f.prototype.getLogger=function(){return this.s.options.logger},e.exports=f},xAVX:function(e,t,n){\"use strict\";const r=n(\"Bx6p\").applyWriteConcern,o=n(\"Bx6p\").applyRetryableWrites,i=n(\"Bx6p\").checkCollectionName,s=n(\"q64v\").BSON.Code,a=n(\"upQV\").createIndex,u=n(\"Bx6p\").decorateCommand,c=n(\"Bx6p\").decorateWithCollation,l=n(\"Bx6p\").decorateWithReadConcern,p=n(\"upQV\").ensureIndex,h=n(\"upQV\").evaluate,f=n(\"upQV\").executeCommand,d=n(\"upQV\").executeDbAdminCommand,m=n(\"Bx6p\").formattedOrderClause,g=n(\"Bx6p\").resolveReadPreference,y=n(\"Bx6p\").handleCallback,v=n(\"upQV\").indexInformation,b=n(\"Bx6p\").isObject,w=n(\"q64v\").BSON.Long,_=n(\"q64v\").MongoError,S=n(\"q64v\").ReadPreference,C=n(\"Bx6p\").toError;function O(e,t,n){const r=n.skip,o=n.limit;let i=n.hint;const s=n.maxTimeMS,a={count:n.collectionName,query:t=t||{}};return e.s.numberOfRetries?(e.s.options.hint?i=e.s.options.hint:e.s.cmd.hint&&(i=e.s.cmd.hint),c(a,e,e.s.cmd)):c(a,e,n),\"number\"==typeof r&&(a.skip=r),\"number\"==typeof o&&(a.limit=o),\"number\"==typeof s&&(a.maxTimeMS=s),i&&(a.hint=i),l(a,e),a}function E(e,t,n){if(null!=n){if(e&&n)return n(e);if(null==t)return n(null,{result:{ok:1}});t.deletedCount=t.result.n,n&&n(null,t)}}function T(e,t,n,o){const i={dropIndexes:e.s.name,index:t};r(i,{db:e.s.db,collection:e},n),f(e.s.db,i,n,(e,t)=>{if(\"function\"==typeof o)return e?y(o,e,null):void y(o,null,t)})}function x(e,t,n,i,s,a){const u={findAndModify:e.s.name,query:t};(n=m(n))&&(u.sort=n),u.new=!!s.new,u.remove=!!s.remove,u.upsert=!!s.upsert;const l=s.projection||s.fields;l&&(u.fields=l),s.arrayFilters&&(u.arrayFilters=s.arrayFilters,delete s.arrayFilters),i&&!s.remove&&(u.update=i),s.maxTimeMS&&(u.maxTimeMS=s.maxTimeMS),s.serializeFunctions=s.serializeFunctions||e.s.serializeFunctions,s.checkKeys=!1;let p=Object.assign({},s);p=o(p,e.s.db),(p=r(p,{db:e.s.db,collection:e},s)).writeConcern&&(u.writeConcern=p.writeConcern),!0===p.bypassDocumentValidation&&(u.bypassDocumentValidation=p.bypassDocumentValidation),p.readPreference=S.primary,c(u,e,p),f(e.s.db,u,p,(e,t)=>e?y(a,e,null):y(a,null,t))}function N(e,t,n){v(e.s.db,e.s.name,t,n)}function A(e,t,n,i){\"function\"==typeof n&&(i=n,n={}),n=n||{},t=Array.isArray(t)?t:[t];let s=Object.assign({},n);s=o(s,e.s.db),!0===(s=r(s,{db:e.s.db,collection:e},n)).keepGoing&&(s.ordered=!1),s.serializeFunctions=n.serializeFunctions||e.s.serializeFunctions,t=k(e,t,n),e.s.topology.insert(e.s.namespace,t,s,(e,n)=>{if(null!=i){if(e)return y(i,e);if(null==n)return y(i,null,null);if(n.result.code)return y(i,C(n.result));if(n.result.writeErrors)return y(i,C(n.result.writeErrors[0]));n.ops=t,y(i,null,n)}})}function I(e,t,n){e.s.db.listCollections({name:e.s.name},t).toArray((t,r)=>t?y(n,t):0===r.length?y(n,_.create({message:`collection ${e.s.namespace} not found`,driver:!0})):void y(n,t,r[0].options||null))}function k(e,t,n){const r=\"boolean\"==typeof n.forceServerObjectId?n.forceServerObjectId:e.s.db.options.forceServerObjectId;return!0===r?t:t.map(t=>(!0!==r&&null==t._id&&(t._id=e.s.pkFactory.createPk()),t))}function P(e){if(!b(e)||\"ObjectID\"===e._bsontype)return e;const t=Object.keys(e);let n;const r={};for(let o=t.length-1;o>=0;o--)r[n=t[o]]=\"function\"==typeof e[n]?new s(String(e[n])):P(e[n]);return r}function R(e,t,n,i){\"function\"==typeof n?(i=n,n={}):\"function\"==typeof t&&(i=t,n={},t={}),n=n||{};let s=Object.assign({},n);s=o(s,e.s.db),s=r(s,{db:e.s.db,collection:e},n),null==t&&(t={});const a={q:t,limit:0};n.single?a.limit=1:s.retryWrites&&(s.retryWrites=!1),c(s,e,n),e.s.topology.remove(e.s.namespace,[a],s,(e,t)=>{if(null!=i)return e?y(i,e,null):null==t?y(i,null,null):t.result.code?y(i,C(t.result)):t.result.writeErrors?y(i,C(t.result.writeErrors[0])):void y(i,null,t)})}function M(e,t,n){if(null!=n){if(e)return n(e);if(null==t)return n(null,{result:{ok:1}});t.modifiedCount=null!=t.result.nModified?t.result.nModified:t.result.n,t.upsertedId=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?t.result.upserted[0]:null,t.upsertedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length?t.result.upserted.length:0,t.matchedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?0:t.result.n,n(null,t)}}function D(e,t,n,i,s){if(\"function\"==typeof i&&(s=i,i=null),null==i&&(i={}),\"function\"!=typeof s&&(s=null),null==t||\"object\"!=typeof t)return s(C(\"selector must be a valid JavaScript object\"));if(null==n||\"object\"!=typeof n)return s(C(\"document must be a valid JavaScript object\"));let a=Object.assign({},i);a=o(a,e.s.db),(a=r(a,{db:e.s.db,collection:e},i)).serializeFunctions=i.serializeFunctions||e.s.serializeFunctions;const u={q:t,u:n};u.upsert=void 0!==i.upsert&&!!i.upsert,u.multi=void 0!==i.multi&&!!i.multi,a.arrayFilters&&(u.arrayFilters=a.arrayFilters,delete a.arrayFilters),a.retryWrites&&u.multi&&(a.retryWrites=!1),c(a,e,i),e.s.topology.update(e.s.namespace,[u],a,(e,t)=>{if(null!=s)return e?y(s,e,null):null==t?y(s,null,null):t.result.code?y(s,C(t.result)):t.result.writeErrors?y(s,C(t.result.writeErrors[0])):void y(s,null,t)})}e.exports={bulkWrite:function(e,t,n,i){e.s.options.ignoreUndefined&&((n=Object.assign({},n)).ignoreUndefined=e.s.options.ignoreUndefined);const s=!0===n.ordered||null==n.ordered?e.initializeOrderedBulkOp(n):e.initializeUnorderedBulkOp(n);let a=!1;try{for(let e=0;e<t.length;e++){const n=Object.keys(t[e])[0];t[e][n].collation&&(a=!0),s.raw(t[e])}}catch(e){return i(e,null)}let u=Object.assign({},n);u=o(u,e.s.db);const c=(u=r(u,{db:e.s.db,collection:e},n)).writeConcern?u.writeConcern:{},l=e.s.topology.capabilities();if(a&&l&&!l.commandsTakeCollation)return i(new _(\"server/primary/mongos does not support collation\"));s.execute(c,u,(e,t)=>{if(!t&&e)return i(e,null);t.insertedCount=t.nInserted,t.matchedCount=t.nMatched,t.modifiedCount=t.nModified||0,t.deletedCount=t.nRemoved,t.upsertedCount=t.getUpsertedIds().length,t.upsertedIds={},t.insertedIds={},t.n=t.insertedCount;const n=t.getInsertedIds();for(let o=0;o<n.length;o++)t.insertedIds[n[o].index]=n[o]._id;const r=t.getUpsertedIds();for(let o=0;o<r.length;o++)t.upsertedIds[r[o].index]=r[o]._id;i(null,t)})},checkForAtomicOperators:function(e){const t=Object.keys(e);return 0===t.length?C(\"The update operation document must contain at least one atomic operator.\"):\"$\"!==t[0][0]?C(\"the update operation document must contain atomic operators.\"):void 0},count:function(e,t,n,r){\"function\"==typeof n&&(r=n,n={}),(n=Object.assign({},n)).collectionName=e.s.name,n.readPreference=g(n,{db:e.s.db,collection:e});const o=O(e,t,n);f(e.s.db,o,n,(e,t)=>{if(e)return y(r,e);y(r,null,t.n)})},countDocuments:function(e,t,n,r){const o=n.skip,i=n.limit;n=Object.assign({},n);const s=[{$match:t}];\"number\"==typeof o&&s.push({$skip:o}),\"number\"==typeof i&&s.push({$limit:i}),s.push({$group:{_id:null,n:{$sum:1}}}),delete n.limit,delete n.skip,e.aggregate(s,n).toArray((e,t)=>{if(e)return y(r,e);y(r,null,t.length?t[0].n:0)})},buildCountCommand:O,createIndex:function(e,t,n,r){a(e.s.db,e.s.name,t,n,r)},createIndexes:function(e,t,n,r){const o=e.s.topology.capabilities();for(let i=0;i<t.length;i++)if(null==t[i].name){const e=[];if(t[i].collation&&o&&!o.commandsTakeCollation)return r(new _(\"server/primary/mongos does not support collation\"));for(let n in t[i].key)e.push(`${n}_${t[i].key[n]}`);t[i].name=e.join(\"_\")}n=Object.assign({},n,{readPreference:S.PRIMARY}),f(e.s.db,{createIndexes:e.s.name,indexes:t},n,r)},deleteMany:function(e,t,n,r){n.single=!1,R(e,t,n,(e,t)=>E(e,t,r))},deleteOne:function(e,t,n,r){n.single=!0,R(e,t,n,(e,t)=>E(e,t,r))},distinct:function(e,t,n,r,o){const i=r.maxTimeMS,s={distinct:e.s.name,key:t,query:n};(r=Object.assign({},r)).readPreference=g(r,{db:e.s.db,collection:e}),\"number\"==typeof i&&(s.maxTimeMS=i),l(s,e,r),c(s,e,r),f(e.s.db,s,r,(e,t)=>{if(e)return y(o,e);y(o,null,t.values)})},dropIndex:T,dropIndexes:function(e,t,n){T(e,\"*\",t,e=>{if(e)return y(n,e,!1);y(n,null,!0)})},ensureIndex:function(e,t,n,r){p(e.s.db,e.s.name,t,n,r)},findAndModify:x,findAndRemove:function(e,t,n,r,o){r.remove=!0,x(e,t,n,null,r,o)},findOne:function(e,t,n,r){e.find(t,n).limit(-1).batchSize(1).next((e,t)=>{if(null!=e)return y(r,C(e),null);y(r,null,t)})},findOneAndDelete:function(e,t,n,r){const o=Object.assign({},n);o.fields=n.projection,o.remove=!0,x(e,t,n.sort,null,o,r)},findOneAndReplace:function(e,t,n,r,o){const i=Object.assign({},r);i.fields=r.projection,i.update=!0,i.new=void 0!==r.returnOriginal&&!r.returnOriginal,i.upsert=void 0!==r.upsert&&!!r.upsert,x(e,t,r.sort,n,i,o)},findOneAndUpdate:function(e,t,n,r,o){const i=Object.assign({},r);i.fields=r.projection,i.update=!0,i.new=\"boolean\"==typeof r.returnOriginal&&!r.returnOriginal,i.upsert=\"boolean\"==typeof r.upsert&&r.upsert,x(e,t,r.sort,n,i,o)},geoHaystackSearch:function(e,t,n,r,o){let i={geoSearch:e.s.name,near:[t,n]};i=u(i,r,{readPreference:!0,session:!0}),(r=Object.assign({},r)).readPreference=g(r,{db:e.s.db,collection:e}),l(i,e,r),f(e.s.db,i,r,(e,t)=>{if(e)return y(o,e);(t.err||t.errmsg)&&y(o,C(t)),y(o,null,t)})},group:function(e,t,n,r,o,i,a,u,p){if(a){const a=o&&\"Code\"===o._bsontype?o:new s(o),h={group:{ns:e.s.name,$reduce:a,cond:n,initial:r,out:\"inline\"}};if(null!=i&&(h.group.finalize=i),\"function\"==typeof t||t&&\"Code\"===t._bsontype)h.group.$keyf=t&&\"Code\"===t._bsontype?t:new s(t);else{const e={};t.forEach(t=>{e[t]=1}),h.group.key=e}(u=Object.assign({},u)).readPreference=g(u,{db:e.s.db,collection:e}),l(h,e,u),c(h,e,u),f(e.s.db,h,u,(e,t)=>{if(e)return y(p,e,null);y(p,null,t.retval)})}else{const i=null!=o&&\"Code\"===o._bsontype?o.scope:{};i.ns=e.s.name,i.keys=t,i.condition=n,i.initial=r;const a='function () {\\nvar c = db[ns].find(condition);\\nvar map = new Map();\\nvar reduce_function = reduce;\\n\\nwhile (c.hasNext()) {\\nvar obj = c.next();\\nvar key = {};\\n\\nfor (var i = 0, len = keys.length; i < len; ++i) {\\nvar k = keys[i];\\nkey[k] = obj[k];\\n}\\n\\nvar aggObj = map.get(key);\\n\\nif (aggObj == null) {\\nvar newObj = Object.extend({}, key);\\naggObj = Object.extend(newObj, initial);\\nmap.put(key, aggObj);\\n}\\n\\nreduce_function(obj, aggObj);\\n}\\n\\nreturn { \"result\": map.values() };\\n}'.replace(/ reduce;/,o.toString()+\";\");h(e.s.db,new s(a,i),null,u,(e,t)=>{if(e)return y(p,e,null);y(p,null,t.result||t)})}},indexes:function(e,t,n){t=Object.assign({},{full:!0},t),v(e.s.db,e.s.name,t,n)},indexExists:function(e,t,n,r){N(e,n,(e,n)=>{if(null!=e)return y(r,e,null);if(!Array.isArray(t))return y(r,null,null!=n[t]);for(let o=0;o<t.length;o++)if(null==n[t[o]])return y(r,null,!1);return y(r,null,!0)})},indexInformation:N,insertOne:function(e,t,n,r){if(Array.isArray(t))return r(_.create({message:\"doc parameter must be an object\",driver:!0}));A(e,[t],n,(e,n)=>{if(null!=r){if(e&&r)return r(e);if(null==n)return r(null,{result:{ok:1}});n.insertedCount=n.result.n,n.insertedId=t._id,r&&r(null,n)}})},isCapped:function(e,t,n){I(e,t,(e,t)=>{if(e)return y(n,e);y(n,null,!(!t||!t.capped))})},mapReduce:function(e,t,o,i,s){const a={mapreduce:e.s.name,map:t,reduce:o},u=[\"readPreference\",\"session\",\"bypassDocumentValidation\"];for(let n in i)\"scope\"===n?a[n]=P(i[n]):-1===u.indexOf(n)&&(a[n]=i[n]);(i=Object.assign({},i)).readPreference=g(i,{db:e.s.db,collection:e}),!1!==i.readPreference&&\"primary\"!==i.readPreference&&i.out&&1!==i.out.inline&&\"inline\"!==i.out?(i.readPreference=\"primary\",r(a,{db:e.s.db,collection:e},i)):l(a,e,i),!0===i.bypassDocumentValidation&&(a.bypassDocumentValidation=i.bypassDocumentValidation),c(a,e,i),f(e.s.db,a,i,(t,r)=>{if(t)return y(s,t);if(1!==r.ok||r.err||r.errmsg)return y(s,C(r));const o={};if(r.timeMillis&&(o.processtime=r.timeMillis),r.counts&&(o.counts=r.counts),r.timing&&(o.timing=r.timing),r.results)return y(s,null,null!=i.verbose&&i.verbose?{results:r.results,stats:o}:r.results);let a=null;if(null!=r.result&&\"object\"==typeof r.result){const t=r.result;a=new(n(\"mn2F\"))(t.db,e.s.db.s.topology,e.s.db.s.options).collection(t.collection)}else a=e.s.db.collection(r.result);if(null==i.verbose||!i.verbose)return y(s,t,a);y(s,t,{collection:a,stats:o})})},optionsOp:I,parallelCollectionScan:function(e,t,n){const r={parallelCollectionScan:e.s.name,numCursors:t.numCursors};l(r,e,t);const o=t.raw;delete t.raw,f(e.s.db,r,t,(r,i)=>{if(r)return y(n,r,null);if(null==i)return y(n,new Error(\"no result returned for parallelCollectionScan\"),null);t=Object.assign({explicitlyIgnoreSession:!0},t);const s=[];o&&(t.raw=o);for(let n=0;n<i.cursors.length;n++){const r=i.cursors[n].cursor.id,o=\"number\"==typeof r?w.fromNumber(r):r;s.push(e.s.topology.cursor(e.s.namespace,o,t))}y(n,null,s)})},prepareDocs:k,reIndex:function(e,t,n){f(e.s.db,{reIndex:e.s.name},t,(e,t)=>{if(null!=n)return e?y(n,e,null):void y(n,null,!!t.ok)})},removeDocuments:R,rename:function(e,t,o,s){const a=n(\"Hwnt\");i(t);const u={renameCollection:`${e.s.dbName}.${e.s.name}`,to:`${e.s.dbName}.${t}`,dropTarget:\"boolean\"==typeof o.dropTarget&&o.dropTarget};r(u,{db:e.s.db,collection:e},o),d(e.s.db.admin().s.db,u,o,(n,r)=>{if(n)return y(s,n,null);if(r.errmsg)return y(s,C(r),null);try{return y(s,null,new a(e.s.db,e.s.topology,e.s.dbName,t,e.s.pkFactory,e.s.options))}catch(n){return y(s,C(n),null)}})},replaceOne:function(e,t,n,r,o){r.multi=!1,D(e,t,n,r,(e,t)=>{if(null!=o){if(e&&o)return o(e);if(null==t)return o(null,{result:{ok:1}});t.modifiedCount=null!=t.result.nModified?t.result.nModified:t.result.n,t.upsertedId=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?t.result.upserted[0]:null,t.upsertedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length?t.result.upserted.length:0,t.matchedCount=Array.isArray(t.result.upserted)&&t.result.upserted.length>0?0:t.result.n,t.ops=[n],o&&o(null,t)}})},save:function(e,t,n,o){const i=r(Object.assign({},n),{db:e.s.db,collection:e},n);if(null!=t._id)return i.upsert=!0,D(e,{_id:t._id},t,i,o);A(e,[t],i,(e,n)=>{if(null!=o)return null==t?y(o,null,null):e?y(o,e,null):void y(o,null,n)})},stats:function(e,t,n){const r={collStats:e.s.name};null!=t.scale&&(r.scale=t.scale),(t=Object.assign({},t)).readPreference=g(t,{db:e.s.db,collection:e}),f(e.s.db,r,t,n)},updateDocuments:D,updateMany:function(e,t,n,r,o){r.multi=!0,D(e,t,n,r,(e,t)=>M(e,t,o))},updateOne:function(e,t,n,r,o){r.multi=!1,D(e,t,n,r,(e,t)=>M(e,t,o))}}},xD0M:function(e,t){t.readIEEE754=function(e,t,n,r,o){var i,s,a=\"big\"===n,u=8*o-r-1,c=(1<<u)-1,l=c>>1,p=-7,h=a?0:o-1,f=a?1:-1,d=e[t+h];for(h+=f,i=d&(1<<-p)-1,d>>=-p,p+=u;p>0;i=256*i+e[t+h],h+=f,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=r;p>0;s=256*s+e[t+h],h+=f,p-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=l}return(d?-1:1)*s*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var s,a,u,c=\"big\"===r,l=8*i-o-1,p=(1<<l)-1,h=p>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=c?i-1:0,m=c?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=p?(a=0,s=p):s+h>=1?(a=(t*u-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=m,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+d]=255&s,d+=m,s/=256,l-=8);e[n+d-m]|=128*g}},yT76:function(e,t,n){\"use strict\";var r=n(\"Bx6p\").shallowClone,o=n(\"Bx6p\").handleCallback,i=n(\"q64v\").MongoError,s=n(\"MCLT\").format,a=function(e,t,n,r,a){if(e.topology&&e.topology.isDestroyed())return a(new i(\"topology was destroyed\"));var u=r.dbName;u=r.authdb?r.authdb:u,u=r.authSource?r.authSource:u;var c=function(t,n){e.listeners(\"authenticated\").length>0&&e.emit(\"authenticated\",t,n),o(a,t,n)},l=r.authMechanism||\"\";\"MONGODB-CR\"===(l=l.toUpperCase())?e.topology.auth(\"mongocr\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"PLAIN\"===l?e.topology.auth(\"plain\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"MONGODB-X509\"===l?e.topology.auth(\"x509\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"SCRAM-SHA-1\"===l?e.topology.auth(\"scram-sha-1\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"SCRAM-SHA-256\"===l?e.topology.auth(\"scram-sha-256\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"GSSAPI\"===l?\"win32\"===process.platform?e.topology.auth(\"sspi\",u,t,n,r,function(e){if(e)return o(a,e,!1);c(null,!0)}):e.topology.auth(\"gssapi\",u,t,n,r,function(e){if(e)return o(a,e,!1);c(null,!0)}):\"DEFAULT\"===l?e.topology.auth(\"default\",u,t,n,function(e){if(e)return o(a,e,!1);c(null,!0)}):o(a,i.create({message:s(\"authentication mechanism %s not supported\",r.authMechanism),driver:!0}))};e.exports=function(e,t,n,s,u){if(\"function\"==typeof s&&(u=s,s={}),(s=r(s=s||{})).authMechanism){if(\"GSSAPI\"!==s.authMechanism&&\"DEFAULT\"!==s.authMechanism&&\"MONGODB-CR\"!==s.authMechanism&&\"MONGODB-X509\"!==s.authMechanism&&\"SCRAM-SHA-1\"!==s.authMechanism&&\"SCRAM-SHA-256\"!==s.authMechanism&&\"PLAIN\"!==s.authMechanism)return o(u,i.create({message:\"only DEFAULT, GSSAPI, PLAIN, MONGODB-X509, or SCRAM-SHA-1 is supported by authMechanism\",driver:!0}))}else s.authMechanism=\"DEFAULT\";return\"function\"==typeof u?a(e,t,n,s,function(e,t){if(e&&e.message&&-1!==e.message.indexOf(\"saslStart\")&&(e.code=59),e)return u(e,t);u(null,t)}):new e.s.promiseLibrary(function(r,o){a(e,t,n,s,function(e,t){if(e&&e.message&&-1!==e.message.indexOf(\"saslStart\")&&(e.code=59),e)return o(e);r(t)})})}},\"z+g+\":function(e,t,n){\"use strict\";const r=n(\"e1Yl\"),o=n(\"q6MH\"),i=n(\"q64v\").MongoError,s=n(\"qvTl\").TopologyBase,a=n(\"qvTl\").Store,u=n(\"q64v\").ReplSet,c=n(\"Bx6p\").MAX_JS_INT,l=n(\"Bx6p\").translateOptions,p=n(\"Bx6p\").filterOptions,h=n(\"Bx6p\").mergeOptions;var f=[\"ha\",\"haInterval\",\"replicaSet\",\"rs_name\",\"secondaryAcceptableLatencyMS\",\"connectWithNoPrimary\",\"poolSize\",\"ssl\",\"checkServerIdentity\",\"sslValidate\",\"sslCA\",\"sslCert\",\"ciphers\",\"ecdhCurve\",\"sslCRL\",\"sslKey\",\"sslPass\",\"socketOptions\",\"bufferMaxEntries\",\"store\",\"auto_reconnect\",\"autoReconnect\",\"emitError\",\"keepAlive\",\"keepAliveInitialDelay\",\"noDelay\",\"connectTimeoutMS\",\"socketTimeoutMS\",\"strategy\",\"debug\",\"family\",\"loggerLevel\",\"logger\",\"reconnectTries\",\"appname\",\"domainsEnabled\",\"servername\",\"promoteLongs\",\"promoteValues\",\"promoteBuffers\",\"maxStalenessSeconds\",\"promiseLibrary\",\"minSize\",\"monitorCommands\"];class d extends s{constructor(e,t){super();var n=this;t=p(t=t||{},f);for(var s=0;s<e.length;s++)if(!(e[s]instanceof r))throw i.create({message:\"all seed list instances must be of the Server type\",driver:!0});var d={force:!1,bufferMaxEntries:\"number\"==typeof t.bufferMaxEntries?t.bufferMaxEntries:c},m=t.store||new a(n,d),g=e.map(function(e){return{host:e.host,port:e.port}}),y=h({},{disconnectHandler:m,cursorFactory:o,reconnect:!1,emitError:\"boolean\"!=typeof t.emitError||t.emitError,size:\"number\"==typeof t.poolSize?t.poolSize:5,monitorCommands:\"boolean\"==typeof t.monitorCommands&&t.monitorCommands});y=l(y,t);var v=t.socketOptions&&Object.keys(t.socketOptions).length>0?t.socketOptions:t;(y=l(y,v)).clientInfo=this.clientInfo,t.appname&&(y.clientInfo.application={name:t.appname});var b=new u(g,y);b.on(\"reconnect\",function(){n.emit(\"reconnect\"),m.execute()}),this.s={coreTopology:b,sCapabilities:null,tag:t.tag,storeOptions:d,clonedOptions:y,store:m,options:t,sessionPool:null,sessions:[],promiseLibrary:t.promiseLibrary||Promise},y.debug&&Object.defineProperty(this,\"replset\",{enumerable:!0,get:function(){return b}})}connect(e,t){var n=this;\"function\"==typeof e&&(t=e,e={}),null==e&&(e={}),\"function\"!=typeof t&&(t=null),e=Object.assign({},this.s.clonedOptions,e),n.s.options=e,n.s.storeOptions.bufferMaxEntries=\"number\"==typeof e.bufferMaxEntries?e.bufferMaxEntries:-1;var r=function(e){return function(t){\"error\"!==e&&n.emit(e,t)}};[\"timeout\",\"error\",\"close\",\"serverOpening\",\"serverDescriptionChanged\",\"serverHeartbeatStarted\",\"serverHeartbeatSucceeded\",\"serverHeartbeatFailed\",\"serverClosed\",\"topologyOpening\",\"topologyClosed\",\"topologyDescriptionChanged\",\"commandStarted\",\"commandSucceeded\",\"commandFailed\",\"joined\",\"left\",\"ping\",\"ha\"].forEach(function(e){n.s.coreTopology.removeAllListeners(e)});var o=function(e){return function(t,r){n.emit(e,t,r)}};n.s.coreTopology.on(\"joined\",function(e,t){n.emit(\"joined\",e,t.lastIsMaster(),t)}),n.s.coreTopology.on(\"left\",o(\"left\")),n.s.coreTopology.on(\"ping\",o(\"ping\")),n.s.coreTopology.on(\"ha\",function(e,t){n.emit(\"ha\",e,t),\"start\"===e?n.emit(\"ha_connect\",e,t):\"end\"===e&&n.emit(\"ha_ismaster\",e,t)}),n.s.coreTopology.on(\"serverDescriptionChanged\",o(\"serverDescriptionChanged\")),n.s.coreTopology.on(\"serverHeartbeatStarted\",o(\"serverHeartbeatStarted\")),n.s.coreTopology.on(\"serverHeartbeatSucceeded\",o(\"serverHeartbeatSucceeded\")),n.s.coreTopology.on(\"serverHeartbeatFailed\",o(\"serverHeartbeatFailed\")),n.s.coreTopology.on(\"serverOpening\",o(\"serverOpening\")),n.s.coreTopology.on(\"serverClosed\",o(\"serverClosed\")),n.s.coreTopology.on(\"topologyOpening\",o(\"topologyOpening\")),n.s.coreTopology.on(\"topologyClosed\",o(\"topologyClosed\")),n.s.coreTopology.on(\"topologyDescriptionChanged\",o(\"topologyDescriptionChanged\")),n.s.coreTopology.on(\"commandStarted\",o(\"commandStarted\")),n.s.coreTopology.on(\"commandSucceeded\",o(\"commandSucceeded\")),n.s.coreTopology.on(\"commandFailed\",o(\"commandFailed\")),n.s.coreTopology.on(\"fullsetup\",function(){n.emit(\"fullsetup\",n,n)}),n.s.coreTopology.on(\"all\",function(){n.emit(\"all\",null,n)});var i=function(){return function(e){[\"timeout\",\"error\",\"close\"].forEach(function(e){n.s.coreTopology.removeListener(e,i)}),n.s.coreTopology.removeListener(\"connect\",i),n.s.coreTopology.destroy();try{t(e)}catch(e){n.s.coreTopology.isConnected()||process.nextTick(function(){throw e})}}};n.s.coreTopology.once(\"timeout\",i(\"timeout\")),n.s.coreTopology.once(\"error\",i(\"error\")),n.s.coreTopology.once(\"close\",i(\"close\")),n.s.coreTopology.once(\"connect\",function(){n.s.coreTopology.once(\"timeout\",r(\"timeout\")),n.s.coreTopology.once(\"error\",r(\"error\")),n.s.coreTopology.once(\"close\",r(\"close\")),n.emit(\"open\",null,n);try{t(null,n)}catch(e){process.nextTick(function(){throw e})}}),n.s.coreTopology.connect(e)}close(e){super.close(e),[\"timeout\",\"error\",\"close\",\"joined\",\"left\"].forEach(e=>this.removeAllListeners(e))}}Object.defineProperty(d.prototype,\"haInterval\",{enumerable:!0,get:function(){return this.s.coreTopology.s.haInterval}}),e.exports=d},z64Y:function(e,t,n){\"use strict\";var r=n(\"xD0M\").writeIEEE754,o=n(\"MqoK\").Long,i=n(\"Oxqu\").MinKey,s=n(\"qL64\"),a=n(\"9k0L\").Binary,u=n(\"DQsy\").normalizedFunctionString,c=/\\x00/,l=[\"$db\",\"$ref\",\"$id\",\"$clusterTime\"],p=function(e){return\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)},h=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},f=function(e,t,n,r,o){e[r++]=M.BSON_DATA_STRING,e[(r=r+e.write(t,r,o?\"ascii\":\"utf8\")+1)-1]=0;var i=e.write(n,r+4,\"utf8\");return e[r+3]=i+1>>24&255,e[r+2]=i+1>>16&255,e[r+1]=i+1>>8&255,e[r]=i+1&255,r=r+4+i,e[r++]=0,r},d=function(e,t,n,i,s){if(Math.floor(n)===n&&n>=M.JS_INT_MIN&&n<=M.JS_INT_MAX)if(n>=M.BSON_INT32_MIN&&n<=M.BSON_INT32_MAX){e[i++]=M.BSON_DATA_INT;var a=e.write(t,i,s?\"ascii\":\"utf8\");i+=a,e[i++]=0,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=n>>16&255,e[i++]=n>>24&255}else if(n>=M.JS_INT_MIN&&n<=M.JS_INT_MAX)e[i++]=M.BSON_DATA_NUMBER,i+=a=e.write(t,i,s?\"ascii\":\"utf8\"),e[i++]=0,r(e,n,i,\"little\",52,8),i+=8;else{e[i++]=M.BSON_DATA_LONG,i+=a=e.write(t,i,s?\"ascii\":\"utf8\"),e[i++]=0;var u=o.fromNumber(n),c=u.getLowBits(),l=u.getHighBits();e[i++]=255&c,e[i++]=c>>8&255,e[i++]=c>>16&255,e[i++]=c>>24&255,e[i++]=255&l,e[i++]=l>>8&255,e[i++]=l>>16&255,e[i++]=l>>24&255}else e[i++]=M.BSON_DATA_NUMBER,i+=a=e.write(t,i,s?\"ascii\":\"utf8\"),e[i++]=0,r(e,n,i,\"little\",52,8),i+=8;return i},m=function(e,t,n,r,o){return e[r++]=M.BSON_DATA_NULL,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,r},g=function(e,t,n,r,o){return e[r++]=M.BSON_DATA_BOOLEAN,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,e[r++]=n?1:0,r},y=function(e,t,n,r,i){e[r++]=M.BSON_DATA_DATE,r+=e.write(t,r,i?\"ascii\":\"utf8\"),e[r++]=0;var s=o.fromNumber(n.getTime()),a=s.getLowBits(),u=s.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r},v=function(e,t,n,r,o){if(e[r++]=M.BSON_DATA_REGEXP,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,n.source&&null!=n.source.match(c))throw Error(\"value \"+n.source+\" must not contain null bytes\");return r+=e.write(n.source,r,\"utf8\"),e[r++]=0,n.global&&(e[r++]=115),n.ignoreCase&&(e[r++]=105),n.multiline&&(e[r++]=109),e[r++]=0,r},b=function(e,t,n,r,o){if(e[r++]=M.BSON_DATA_REGEXP,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,null!=n.pattern.match(c))throw Error(\"pattern \"+n.pattern+\" must not contain null bytes\");return r+=e.write(n.pattern,r,\"utf8\"),e[r++]=0,r+=e.write(n.options.split(\"\").sort().join(\"\"),r,\"utf8\"),e[r++]=0,r},w=function(e,t,n,r,o){return e[r++]=null===n?M.BSON_DATA_NULL:n instanceof i?M.BSON_DATA_MIN_KEY:M.BSON_DATA_MAX_KEY,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,r},_=function(e,t,n,r,o){if(e[r++]=M.BSON_DATA_OID,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,\"string\"==typeof n.id)e.write(n.id,r,\"binary\");else{if(!n.id||!n.id.copy)throw new Error(\"object [\"+JSON.stringify(n)+\"] is not a valid ObjectId\");n.id.copy(e,r,0,12)}return r+12},S=function(e,t,n,r,o){e[r++]=M.BSON_DATA_BINARY,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=M.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,i),r+i},C=function(e,t,n,r,o,i,s,a,u,c){for(var l=0;l<c.length;l++)if(c[l]===n)throw new Error(\"cyclic dependency detected\");c.push(n),e[r++]=Array.isArray(n)?M.BSON_DATA_ARRAY:M.BSON_DATA_OBJECT,r+=e.write(t,r,u?\"ascii\":\"utf8\"),e[r++]=0;var p=R(e,n,o,r,i+1,s,a,c);return c.pop(),p},O=function(e,t,n,r,o){return e[r++]=M.BSON_DATA_DECIMAL128,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16},E=function(e,t,n,r,o){e[r++]=\"Long\"===n._bsontype?M.BSON_DATA_LONG:M.BSON_DATA_TIMESTAMP,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0;var i=n.getLowBits(),s=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r},T=function(e,t,n,r,o){return e[r++]=M.BSON_DATA_INT,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r},x=function(e,t,n,o,i){return e[o++]=M.BSON_DATA_NUMBER,o+=e.write(t,o,i?\"ascii\":\"utf8\"),e[o++]=0,r(e,n,o,\"little\",52,8),o+8},N=function(e,t,n,r,o,i,s){e[r++]=M.BSON_DATA_CODE,r+=e.write(t,r,s?\"ascii\":\"utf8\"),e[r++]=0;var a=u(n),c=e.write(a,r+4,\"utf8\")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r},A=function(e,t,n,r,o,i,s,a,u){if(n.scope&&\"object\"==typeof n.scope){e[r++]=M.BSON_DATA_CODE_W_SCOPE;var c=e.write(t,r,u?\"ascii\":\"utf8\");r+=c,e[r++]=0;var l=r,p=\"string\"==typeof n.code?n.code:n.code.toString(),h=e.write(p,(r+=4)+4,\"utf8\")+1;e[r]=255&h,e[r+1]=h>>8&255,e[r+2]=h>>16&255,e[r+3]=h>>24&255,e[r+4+h-1]=0;var f=R(e,n.scope,o,r=r+h+4,i+1,s,a);r=f-1;var d=f-l;e[l++]=255&d,e[l++]=d>>8&255,e[l++]=d>>16&255,e[l++]=d>>24&255,e[r++]=0}else{e[r++]=M.BSON_DATA_CODE,r+=c=e.write(t,r,u?\"ascii\":\"utf8\"),e[r++]=0,p=n.code.toString();var m=e.write(p,r+4,\"utf8\")+1;e[r]=255&m,e[r+1]=m>>8&255,e[r+2]=m>>16&255,e[r+3]=m>>24&255,r=r+4+m-1,e[r++]=0}return r},I=function(e,t,n,r,o){e[r++]=M.BSON_DATA_BINARY,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0;var i=n.value(!0),s=n.position;return n.sub_type===a.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===a.SUBTYPE_BYTE_ARRAY&&(e[r++]=255&(s-=4),e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),i.copy(e,r,0,n.position),r+n.position},k=function(e,t,n,r,o){e[r++]=M.BSON_DATA_SYMBOL,r+=e.write(t,r,o?\"ascii\":\"utf8\"),e[r++]=0;var i=e.write(n.value,r+4,\"utf8\")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r},P=function(e,t,n,r,o,i,s){e[r++]=M.BSON_DATA_OBJECT,r+=e.write(t,r,s?\"ascii\":\"utf8\"),e[r++]=0;var a,u=r,c=(a=R(e,null!=n.db?{$ref:n.namespace,$id:n.oid,$db:n.db}:{$ref:n.namespace,$id:n.oid},!1,r,o+1,i))-u;return e[u++]=255&c,e[u++]=c>>8&255,e[u++]=c>>16&255,e[u++]=c>>24&255,a},R=function(e,t,n,r,o,i,a,u){r=r||0,(u=u||[]).push(t);var R=r+4;if(Array.isArray(t))for(var M=0;M<t.length;M++){var D=\"\"+M,B=t[M];if(B&&B.toBSON){if(\"function\"!=typeof B.toBSON)throw new Error(\"toBSON is not a function\");B=B.toBSON()}var L=typeof B;\"string\"===L?R=f(e,D,B,R,!0):\"number\"===L?R=d(e,D,B,R,!0):\"boolean\"===L?R=g(e,D,B,R,!0):B instanceof Date||p(B)?R=y(e,D,B,R,!0):void 0===B?R=m(e,D,0,R,!0):null===B?R=m(e,D,0,R,!0):\"ObjectID\"===B._bsontype?R=_(e,D,B,R,!0):Buffer.isBuffer(B)?R=S(e,D,B,R,!0):B instanceof RegExp||h(B)?R=v(e,D,B,R,!0):\"object\"===L&&null==B._bsontype?R=C(e,D,B,R,n,o,i,a,!0,u):\"object\"===L&&\"Decimal128\"===B._bsontype?R=O(e,D,B,R,!0):\"Long\"===B._bsontype||\"Timestamp\"===B._bsontype?R=E(e,D,B,R,!0):\"Double\"===B._bsontype?R=x(e,D,B,R,!0):\"function\"==typeof B&&i?R=N(e,D,B,R,0,0,i):\"Code\"===B._bsontype?R=A(e,D,B,R,n,o,i,a,!0):\"Binary\"===B._bsontype?R=I(e,D,B,R,!0):\"Symbol\"===B._bsontype?R=k(e,D,B,R,!0):\"DBRef\"===B._bsontype?R=P(e,D,B,R,o,i,!0):\"BSONRegExp\"===B._bsontype?R=b(e,D,B,R,!0):\"Int32\"===B._bsontype?R=T(e,D,B,R,!0):\"MinKey\"!==B._bsontype&&\"MaxKey\"!==B._bsontype||(R=w(e,D,B,R,!0))}else if(t instanceof s)for(var j=t.entries(),U=!1;!U;){var V=j.next();if(!(U=V.done)){if(L=typeof(B=V.value[1]),\"string\"==typeof(D=V.value[0])&&-1===l.indexOf(D)){if(null!=D.match(c))throw Error(\"key \"+D+\" must not contain null bytes\");if(n){if(\"$\"===D[0])throw Error(\"key \"+D+\" must not start with '$'\");if(~D.indexOf(\".\"))throw Error(\"key \"+D+\" must not contain '.'\")}}\"string\"===L?R=f(e,D,B,R):\"number\"===L?R=d(e,D,B,R):\"boolean\"===L?R=g(e,D,B,R):B instanceof Date||p(B)?R=y(e,D,B,R):null===B||void 0===B&&!1===a?R=m(e,D,0,R):\"ObjectID\"===B._bsontype?R=_(e,D,B,R):Buffer.isBuffer(B)?R=S(e,D,B,R):B instanceof RegExp||h(B)?R=v(e,D,B,R):\"object\"===L&&null==B._bsontype?R=C(e,D,B,R,n,o,i,a,!1,u):\"object\"===L&&\"Decimal128\"===B._bsontype?R=O(e,D,B,R):\"Long\"===B._bsontype||\"Timestamp\"===B._bsontype?R=E(e,D,B,R):\"Double\"===B._bsontype?R=x(e,D,B,R):\"Code\"===B._bsontype?R=A(e,D,B,R,n,o,i,a):\"function\"==typeof B&&i?R=N(e,D,B,R,0,0,i):\"Binary\"===B._bsontype?R=I(e,D,B,R):\"Symbol\"===B._bsontype?R=k(e,D,B,R):\"DBRef\"===B._bsontype?R=P(e,D,B,R,o,i):\"BSONRegExp\"===B._bsontype?R=b(e,D,B,R):\"Int32\"===B._bsontype?R=T(e,D,B,R):\"MinKey\"!==B._bsontype&&\"MaxKey\"!==B._bsontype||(R=w(e,D,B,R))}}else{if(t.toBSON){if(\"function\"!=typeof t.toBSON)throw new Error(\"toBSON is not a function\");if(null!=(t=t.toBSON())&&\"object\"!=typeof t)throw new Error(\"toBSON function did not return an object\")}for(D in t){if((B=t[D])&&B.toBSON){if(\"function\"!=typeof B.toBSON)throw new Error(\"toBSON is not a function\");B=B.toBSON()}if(L=typeof B,\"string\"==typeof D&&-1===l.indexOf(D)){if(null!=D.match(c))throw Error(\"key \"+D+\" must not contain null bytes\");if(n){if(\"$\"===D[0])throw Error(\"key \"+D+\" must not start with '$'\");if(~D.indexOf(\".\"))throw Error(\"key \"+D+\" must not contain '.'\")}}\"string\"===L?R=f(e,D,B,R):\"number\"===L?R=d(e,D,B,R):\"boolean\"===L?R=g(e,D,B,R):B instanceof Date||p(B)?R=y(e,D,B,R):void 0===B?!1===a&&(R=m(e,D,0,R)):null===B?R=m(e,D,0,R):\"ObjectID\"===B._bsontype?R=_(e,D,B,R):Buffer.isBuffer(B)?R=S(e,D,B,R):B instanceof RegExp||h(B)?R=v(e,D,B,R):\"object\"===L&&null==B._bsontype?R=C(e,D,B,R,n,o,i,a,!1,u):\"object\"===L&&\"Decimal128\"===B._bsontype?R=O(e,D,B,R):\"Long\"===B._bsontype||\"Timestamp\"===B._bsontype?R=E(e,D,B,R):\"Double\"===B._bsontype?R=x(e,D,B,R):\"Code\"===B._bsontype?R=A(e,D,B,R,n,o,i,a):\"function\"==typeof B&&i?R=N(e,D,B,R,0,0,i):\"Binary\"===B._bsontype?R=I(e,D,B,R):\"Symbol\"===B._bsontype?R=k(e,D,B,R):\"DBRef\"===B._bsontype?R=P(e,D,B,R,o,i):\"BSONRegExp\"===B._bsontype?R=b(e,D,B,R):\"Int32\"===B._bsontype?R=T(e,D,B,R):\"MinKey\"!==B._bsontype&&\"MaxKey\"!==B._bsontype||(R=w(e,D,B,R))}}u.pop(),e[R++]=0;var z=R-r;return e[r++]=255&z,e[r++]=z>>8&255,e[r++]=z>>16&255,e[r++]=z>>24&255,R},M={BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128,BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648};M.BSON_INT64_MAX=Math.pow(2,63)-1,M.BSON_INT64_MIN=-Math.pow(2,63),M.JS_INT_MAX=9007199254740992,M.JS_INT_MIN=-9007199254740992,e.exports=R},zUnb:function(e,t,n){\"use strict\";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e){var t=\"function\"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function l(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function h(e){return\"function\"==typeof e}var f=!1,d={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){f=e},get useDeprecatedSynchronousErrorHandling(){return f}};function m(e){setTimeout(function(){throw e})}var g={closed:!0,next:function(e){},error:function(e){if(d.useDeprecatedSynchronousErrorHandling)throw e;m(e)},complete:function(){}},y=Array.isArray||function(e){return e&&\"number\"==typeof e.length};function v(e){return null!=e&&\"object\"==typeof e}var b,w={e:{}};function _(){try{return b.apply(this,arguments)}catch(e){return w.e=e,w}}function S(e){return b=e,_}function C(e){return Error.call(this),this.message=e?e.length+\" errors occurred during unsubscription:\\n\"+e.map(function(e,t){return t+1+\") \"+e.toString()}).join(\"\\n  \"):\"\",this.name=\"UnsubscriptionError\",this.errors=e,this}C.prototype=Object.create(Error.prototype);var O=C,E=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=r?r.length:0;n;)n.remove(this),n=++s<a&&r[s]||null;if(h(o)&&S(o).call(this)===w&&(t=!0,e=e||(w.e instanceof O?T(w.e.errors):[w.e])),y(i))for(s=-1,a=i.length;++s<a;){var u=i[s];if(v(u)&&S(u.unsubscribe).call(u)===w){t=!0,e=e||[];var c=w.e;c instanceof O?e=e.concat(T(c.errors)):e.push(c)}}if(t)throw new O(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case\"function\":n=new e(t);case\"object\":if(n.closed||\"function\"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(\"function\"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error(\"unrecognized teardown \"+t+\" added to Subscription.\")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function T(e){return e.reduce(function(e,t){return e.concat(t instanceof O?t.errors:t)},[])}var x=\"function\"==typeof Symbol?Symbol(\"rxSubscriber\"):\"@@rxSubscriber_\"+Math.random(),N=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=g;break;case 1:if(!n){i.destination=g;break}if(\"object\"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new A(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new A(i,n,r,o)}return i}return o(t,e),t.prototype[x]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(E),A=function(e){function t(t,n,r,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return h(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==g&&(h((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=r,s._complete=o,s}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;d.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=d.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):m(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;m(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};d.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),d.useDeprecatedSynchronousErrorHandling)throw e;m(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!d.useDeprecatedSynchronousErrorHandling)throw new Error(\"bad call\");try{t.call(this._context,n)}catch(t){return d.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(m(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(N),I=\"function\"==typeof Symbol&&Symbol.observable||\"@@observable\";function k(){}function P(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R(e)}function R(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:k}var M=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof N)return e;if(e[x])return e[x]()}return e||t||n?new N(e,t,n):new N(g)}(e,t,n);if(r?r.call(o,this.source):o.add(this.source||d.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),d.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){d.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof N?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=D(t))(function(t,r){var o;o=n.subscribe(function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[I]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:R(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=D(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function D(e){if(e||(e=d.Promise||Promise),!e)throw new Error(\"no Promise impl found\");return e}function B(e){return e&&\"function\"==typeof e.schedule}var L=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(N),j=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},U=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,m),t}},V=function(){return\"function\"==typeof Symbol&&Symbol.iterator?Symbol.iterator:\"@@iterator\"}(),z=function(e){return function(t){for(var n=e[V]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return\"function\"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},q=function(e){return function(t){var n=e[I]();if(\"function\"!=typeof n.subscribe)throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");return n.subscribe(t)}},F=function(e){return e&&\"number\"==typeof e.length&&\"function\"!=typeof e};function H(e){return e&&\"function\"!=typeof e.subscribe&&\"function\"==typeof e.then}var W=function(e){if(e instanceof M)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&\"function\"==typeof e[I])return q(e);if(F(e))return j(e);if(H(e))return U(e);if(e&&\"function\"==typeof e[V])return z(e);var t=v(e)?\"an invalid object\":\"'\"+e+\"'\";throw new TypeError(\"You provided \"+t+\" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.\")};function $(e,t,n,r,o){if(void 0===o&&(o=new L(e,n,r)),!o.closed)return W(t)(o)}var Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(N);function G(e,t){return function(n){if(\"function\"!=typeof e)throw new TypeError(\"argument is not a function. Are you looking for `mapTo()`?\");return n.lift(new K(e,t))}}var K=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Z(e,this.project,this.thisArg))},e}(),Z=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(N);function Q(e,t){return new M(t?function(n){var r=new E,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:j(e))}function J(e,t){if(!t)return e instanceof M?e:new M(W(e));if(null!=e){if(function(e){return e&&\"function\"==typeof e[I]}(e))return function(e,t){return new M(t?function(n){var r=new E;return r.add(t.schedule(function(){var o=e[I]();r.add(o.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}:q(e))}(e,t);if(H(e))return function(e,t){return new M(t?function(n){var r=new E;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}:U(e))}(e,t);if(F(e))return Q(e,t);if(function(e){return e&&\"function\"==typeof e[V]}(e)||\"string\"==typeof e)return function(e,t){if(!e)throw new Error(\"Iterable cannot be null\");return new M(t?function(n){var r,o=new E;return o.add(function(){r&&\"function\"==typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[V](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),o}:z(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+\" is not observable\")}function X(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),\"function\"==typeof t?function(r){return r.pipe(X(function(n,r){return J(e(n,r)).pipe(G(function(e,o){return t(n,e,r,o)}))},n))}:(\"number\"==typeof t&&(n=t),function(t){return t.lift(new ee(e,n))})}var ee=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.project,this.concurrent))},e}(),te=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new L(this,void 0,void 0);this.destination.add(r),$(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Y);function ne(e){return e}function re(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),X(ne,e)}function oe(){return Error.call(this),this.message=\"object unsubscribed\",this.name=\"ObjectUnsubscribedError\",this}oe.prototype=Object.create(Error.prototype);var ie=oe,se=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(E),ae=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return o(t,e),t}(N),ue=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[x]=function(){return new ae(this)},t.prototype.lift=function(e){var t=new ce(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ie;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new ie;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ie;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ie;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ie;return this.hasError?(e.error(this.thrownError),E.EMPTY):this.isStopped?(e.complete(),E.EMPTY):(this.observers.push(e),new se(this,e))},t.prototype.asObservable=function(){var e=new M;return e.source=this,e},t.create=function(e,t){return new ce(e,t)},t}(M),ce=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):E.EMPTY},t}(ue);function le(){return function(e){return e.lift(new pe(e))}}var pe=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new he(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),he=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(N),fe=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return o(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new E).add(this.source.subscribe(new me(this.getSubject(),this))),e.closed?(this._connection=null,e=E.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return le()(this)},t}(M).prototype,de={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:fe._subscribe},_isComplete:{value:fe._isComplete,writable:!0},getSubject:{value:fe.getSubject},connect:{value:fe.connect},refCount:{value:fe.refCount}},me=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return o(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(ae);function ge(){return new ue}function ye(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var ve=function(){function e(e,t){this._desc=e,this.ngMetadataName=\"InjectionToken\",this.ngInjectableDef=void 0!==t?ye({providedIn:t.providedIn||\"root\",factory:t.factory}):void 0}return e.prototype.toString=function(){return\"InjectionToken \"+this._desc},e}(),be=\"__parameters__\",we=\"__prop__metadata__\";function _e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=e.apply(void 0,p(t));for(var o in r)this[o]=r[o]}}}function Se(e,t,n){var r=_e(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return r.apply(this,t),this;var i=new((e=o).bind.apply(e,p([void 0],t)));return s.annotation=i,s;function s(e,t,n){for(var r=e.hasOwnProperty(be)?e[be]:Object.defineProperty(e,be,{value:[]})[be];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function Ce(e,t,n){var r=_e(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return r.apply(this,t),this;var i=new((e=o).bind.apply(e,p([void 0],t)));return function(e,t){var n=e.constructor,r=n.hasOwnProperty(we)?n[we]:Object.defineProperty(n,we,{value:{}})[we];r[t]=r.hasOwnProperty(t)&&r[t]||[],r[t].unshift(i)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}var Oe=new ve(\"AnalyzeForEntryComponents\"),Ee=Se(\"Attribute\",function(e){return{attributeName:e}}),Te=Ce(\"Input\",function(e){return{bindingPropertyName:e}}),xe=Ce(\"HostBinding\",function(e){return{hostPropertyName:e}});Function;var Ne=\"undefined\"!=typeof window&&window,Ae=\"undefined\"!=typeof self&&\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=\"undefined\"!=typeof global&&global||Ne||Ae,ke=Promise.resolve(0),Pe=null;function Re(){if(!Pe){var e=Ie.Symbol;if(e&&e.iterator)Pe=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];\"entries\"!==r&&\"size\"!==r&&Map.prototype[r]===Map.prototype.entries&&(Pe=r)}}return Pe}function Me(e){\"undefined\"==typeof Zone?ke.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask(\"scheduleMicrotask\",e)}function De(e,t){return e===t||\"number\"==typeof e&&\"number\"==typeof t&&isNaN(e)&&isNaN(t)}function Be(e){if(\"string\"==typeof e)return e;if(e instanceof Array)return\"[\"+e.map(Be).join(\", \")+\"]\";if(null==e)return\"\"+e;if(e.overriddenName)return\"\"+e.overriddenName;if(e.name)return\"\"+e.name;var t=e.toString();if(null==t)return\"\"+t;var n=t.indexOf(\"\\n\");return-1===n?t:t.substring(0,n)}function Le(e){return e.__forward_ref__=Le,e.toString=function(){return Be(this())},e}function je(e){return\"function\"==typeof e&&e.hasOwnProperty(\"__forward_ref__\")&&e.__forward_ref__===Le?e():e}var Ue=Se(\"Inject\",function(e){return{token:e}}),Ve=Se(\"Optional\"),ze=Se(\"Self\"),qe=Se(\"SkipSelf\"),Fe=Se(\"Host\"),He=\"__source\",We=new Object,$e=We,Ye=new ve(\"INJECTOR\"),Ge=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=We),t===We)throw new Error(\"NullInjectorError: No provider for \"+Be(e)+\"!\");return t},e}(),Ke=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new it(e,t):new it(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=We,e.NULL=new Ge,e.ngInjectableDef=ye({providedIn:\"any\",factory:function(){return pt(Ye)}}),e}(),Ze=function(e){return e},Qe=[],Je=Ze,Xe=function(){return Array.prototype.slice.call(arguments)},et={},tt=function(e){for(var t in e)if(e[t]===et)return t;throw Error(\"!prop\")}({provide:String,useValue:et}),nt=Ke.NULL,rt=/\\n/gm,ot=\"\\u0275\",it=function(){function e(e,t,n){void 0===t&&(t=nt),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(Ke,{token:Ke,fn:Ze,deps:Qe,value:this,useNew:!1}),r.set(Ye,{token:Ye,fn:Ze,deps:Qe,value:this,useNew:!1}),function e(t,n){if(n)if((n=je(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if(\"function\"==typeof n)throw ut(\"Function/Class not supported\",n);if(!n||\"object\"!=typeof n||!n.provide)throw ut(\"Unexpected provider\",n);var o=je(n.provide),i=function(e){var t=function(e){var t=Qe,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var o=6;if((u=je(n[r]))instanceof Array)for(var i=0,s=u;i<s.length;i++){var a=s[i];a instanceof Ve||a==Ve?o|=1:a instanceof qe||a==qe?o&=-3:a instanceof ze||a==ze?o&=-5:u=a instanceof Ue?a.token:je(a)}t.push({token:u,options:o})}}else if(e.useExisting){var u;t=[{token:u=je(e.useExisting),options:6}]}else if(!(n||tt in e))throw ut(\"'deps' required\",e);return t}(e),n=Ze,r=Qe,o=!1,i=je(e.provide);if(tt in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)o=!0,n=je(e.useClass);else{if(\"function\"!=typeof i)throw ut(\"StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable\",e);o=!0,n=i}return{deps:t,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var s=t.get(o);if(s){if(s.fn!==Xe)throw st(o)}else t.set(o,s={token:n.provide,deps:[],useNew:!1,fn:Xe,value:Qe});s.deps.push({token:o=n,options:6})}var a=t.get(o);if(a&&a.fn==Xe)throw st(o);t.set(o,i)}}(r,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=0);var r=this._records.get(e);try{return function e(t,n,r,o,i,s){try{return function(t,n,r,o,i,s){var a,u;if(!n||4&s)2&s||(u=o.get(t,i,0));else{if((u=n.value)==Je)throw Error(ot+\"Circular dependency\");if(u===Qe){n.value=Je;var c=n.useNew,l=n.fn,h=n.deps,f=Qe;if(h.length){f=[];for(var d=0;d<h.length;d++){var m=h[d],g=m.options,y=2&g?r.get(m.token):void 0;f.push(e(m.token,y,r,y||4&g?o:nt,1&g?null:Ke.THROW_IF_NOT_FOUND,0))}}n.value=u=c?new((a=l).bind.apply(a,p([void 0],f))):l.apply(void 0,f)}}return u}(t,n,r,o,i,s)}catch(e){throw e instanceof Error||(e=new Error(e)),(e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(t),n&&n.value==Je&&(n.value=Qe),e}}(e,r,this._records,this.parent,t,n)}catch(t){var o=t.ngTempTokenPath;throw e[He]&&o.unshift(e[He]),t.message=at(\"\\n\"+t.message,o,this.source),t.ngTokenPath=o,t.ngTempTokenPath=null,t}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Be(n))}),\"StaticInjector[\"+e.join(\", \")+\"]\"},e}();function st(e){return ut(\"Cannot mix multi providers and regular providers\",e)}function at(e,t,n){void 0===n&&(n=null),e=e&&\"\\n\"===e.charAt(0)&&e.charAt(1)==ot?e.substr(2):e;var r=Be(t);if(t instanceof Array)r=t.map(Be).join(\" -> \");else if(\"object\"==typeof t){var o=[];for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];o.push(i+\":\"+(\"string\"==typeof s?JSON.stringify(s):Be(s)))}r=\"{\"+o.join(\", \")+\"}\"}return\"StaticInjectorError\"+(n?\"(\"+n+\")\":\"\")+\"[\"+r+\"]: \"+e.replace(rt,\"\\n  \")}function ut(e,t){return new Error(at(e,t))}var ct=void 0;function lt(e){var t=ct;return ct=e,t}function pt(e,t){if(void 0===t&&(t=0),void 0===ct)throw new Error(\"inject() must be called from an injection context\");if(null===ct){var n=e.ngInjectableDef;if(n&&\"root\"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&t)return null;throw new Error(\"Injector: NOT_FOUND [\"+Be(e)+\"]\")}return ct.get(e,8&t?null:void 0,t)}function ht(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){if(0===r.length)throw new Error(\"Arguments array must have arguments.\");for(var o=void 0,i=0,s=0;s<r.length;s++){var a=r[s];a instanceof Ve||\"Optional\"===a.ngMetadataName?i|=8:a instanceof qe||\"SkipSelf\"===a.ngMetadataName?i|=4:a instanceof ze||\"Self\"===a.ngMetadataName?i|=2:o=a instanceof Ue?a.token:a}t.push(pt(o,i))}else t.push(pt(r))}return t}String;var ft=function(e){return e[e.Emulated=0]=\"Emulated\",e[e.Native=1]=\"Native\",e[e.None=2]=\"None\",e[e.ShadowDom=3]=\"ShadowDom\",e}({}),dt=new function(e){this.full=e,this.major=e.split(\".\")[0],this.minor=e.split(\".\")[1],this.patch=e.split(\".\").slice(2).join(\".\")}(\"6.1.10\"),mt=\"ngDebugContext\",gt=\"ngOriginalError\",yt=\"ngErrorLogger\";function vt(e){return e[mt]}function bt(e){return e[gt]}function wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,p(t))}var _t=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[yt]||wt}(e);r(this._console,\"ERROR\",e),t&&r(this._console,\"ORIGINAL ERROR\",t),n&&r(this._console,\"ERROR CONTEXT\",n)},e.prototype._findContext=function(e){return e?vt(e)?vt(e):this._findContext(bt(e)):null},e.prototype._findOriginalError=function(e){for(var t=bt(e);t&&bt(t);)t=bt(t);return t},e}(),St=new ve(\"The presence of this token marks an injector as being the root injector.\"),Ct={},Ot={},Et=[],Tt=void 0;function xt(){return void 0===Tt&&(Tt=new Ge),Tt}var Nt=function(){function e(e,t,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,kt([e],function(e){return r.processInjectorType(e,new Set)}),t&&kt(t,function(e){return r.processProvider(e)}),this.records.set(Ye,It(void 0,this)),this.isRootInjector=this.records.has(St),this.injectorDefTypes.forEach(function(e){return r.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=$e),void 0===n&&(n=0),this.assertNotDestroyed();var r,o=lt(this);try{if(!(4&n)){var i=this.records.get(e);if(void 0===i){var s=(\"function\"==typeof(r=e)||\"object\"==typeof r&&r instanceof ve)&&e.ngInjectableDef||void 0;void 0!==s&&this.injectableDefInScope(s)&&(i=At(e),this.records.set(e,i))}if(void 0!==i)return this.hydrate(e,i)}return 2&n&&xt(),this.parent.get(e,t)}finally{lt(o)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error(\"Injector has already been destroyed.\")},e.prototype.processInjectorType=function(e,t){var n=this,r=(e=je(e)).ngInjectorDef,o=null==r&&e.ngModule||void 0,i=void 0===o?e:o,s=void 0!==o&&e.providers||Et;if(void 0!==o&&(r=o.ngInjectorDef),null!=r){if(t.has(i))throw new Error(\"Circular dependency: type \"+Be(i)+\" ends up importing itself.\");if(this.injectorDefTypes.add(i),this.records.set(i,It(r.factory)),null!=r.imports){t.add(i);try{kt(r.imports,function(e){return n.processInjectorType(e,t)})}finally{t.delete(i)}}null!=r.providers&&kt(r.providers,function(e){return n.processProvider(e)}),kt(s,function(e){return n.processProvider(e)})}},e.prototype.processProvider=function(e){var t=Pt(e=je(e))?e:je(e.provide),n=function(e){var t=je(e),n=Ct,r=void 0;if(Pt(e))return At(e);if(t=je(e.provide),tt in e)n=e.useValue;else if(e.useExisting)r=function(){return pt(e.useExisting)};else if(e.useFactory)r=function(){return e.useFactory.apply(e,p(ht(e.deps||[])))};else{var o=e.useClass||t;if(!e.deps)return At(o);r=function(){return new(o.bind.apply(o,p([void 0],ht(e.deps))))}}return It(r,n)}(e);if(Pt(e)||!0!==e.multi){var r=this.records.get(t);if(r&&void 0!==r.multi)throw new Error(\"Mixed multi-provider for \"+Be(t))}else{var o=this.records.get(t);if(o){if(void 0===o.multi)throw new Error(\"Mixed multi-provider for \"+t+\".\")}else(o=It(void 0,Ct,!0)).factory=function(){return ht(o.multi)},this.records.set(t,o);t=e,o.multi.push(e)}this.records.set(t,n)},e.prototype.hydrate=function(e,t){if(t.value===Ot)throw new Error(\"Circular dep for \"+Be(e));var n;return t.value===Ct&&(t.value=Ot,t.value=t.factory()),\"object\"==typeof t.value&&t.value&&\"object\"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&\"function\"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&(\"string\"==typeof e.providedIn?\"any\"===e.providedIn||\"root\"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function At(e){var t=e.ngInjectableDef;if(void 0===t){if(e instanceof ve)throw new Error(\"Token \"+Be(e)+\" is missing an ngInjectableDef definition.\");return It(function(){return new e})}return It(t.factory)}function It(e,t,n){return void 0===t&&(t=Ct),void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function kt(e,t){e.forEach(function(e){return Array.isArray(e)?kt(e,t):t(e)})}function Pt(e){return\"function\"==typeof e}function Rt(e){return!!e&&\"function\"==typeof e.then}function Mt(e){return!!e&&\"function\"==typeof e.subscribe}var Dt=new ve(\"Application Initializer\"),Bt=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Rt(o)&&t.push(o)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},s([a(0,Ue(Dt)),a(0,Ve())],e)}(),Lt=new ve(\"AppId\");function jt(){return\"\"+Ut()+Ut()+Ut()}function Ut(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Vt=new ve(\"Platform Initializer\"),zt=new ve(\"Platform ID\"),qt=new ve(\"appBootstrapListener\"),Ft=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function Ht(){throw new Error(\"Runtime compiler is not loaded\")}var Wt=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw Ht()},e.prototype.compileModuleAsync=function(e){throw Ht()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw Ht()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw Ht()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),$t=function(){},Yt=function(){},Gt=function(){};function Kt(e){var t=Error(\"No component factory found for \"+Be(e)+\". Did you add it to @NgModule.entryComponents?\");return t[Jt]=e,t}var Zt,Qt,Jt=\"ngComponent\",Xt=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Kt(e)},e}(),en=function(){function e(){}return e.NULL=new Xt,e}(),tn=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Kt(e);return new nn(t,this._ngModule)},e}(),nn=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return o(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(Gt),rn=function(){},on=function(){},sn=function(){var e=Ie.wtf;return!(!e||!(Zt=e.trace)||(Qt=Zt.events,0))}();function an(e,t){return null}var un=sn?function(e,t){return void 0===t&&(t=null),Qt.createScope(e,t)}:function(e,t){return an},cn=sn?function(e,t){return Zt.leaveScope(e,t),t}:function(e,t){return t},ln=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return o(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var o,i=function(e){return null},s=function(){return null};t&&\"object\"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=e.prototype.subscribe.call(this,o,i,s);return t instanceof E&&t.add(a),a},t}(ue),pn=function(){function e(e){var t,n=e.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ln(!1),this.onMicrotaskEmpty=new ln(!1),this.onStable=new ln(!1),this.onError=new ln(!1),\"undefined\"==typeof Zone)throw new Error(\"In this configuration Angular requires Zone.js\");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:\"angular\",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,o,i,s){try{return mn(t),e.invokeTask(r,o,i,s)}finally{gn(t)}},onInvoke:function(e,n,r,o,i,s,a){try{return mn(t),e.invoke(r,o,i,s,a)}finally{gn(t)}},onHasTask:function(e,n,r,o){e.hasTask(r,o),n===r&&(\"microTask\"==o.change?(t.hasPendingMicrotasks=o.microTask,dn(t)):\"macroTask\"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,n,r,o){return e.handleError(r,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get(\"isAngularZone\")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error(\"Expected to be in Angular Zone, but it is not!\")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error(\"Expected to not be in Angular Zone, but it is!\")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var o=this._inner,i=o.scheduleEventTask(\"NgZoneEvent: \"+r,e,fn,hn,hn);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function hn(){}var fn={};function dn(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function mn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gn(e){e._nesting--,dn(e)}var yn,vn=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ln,this.onMicrotaskEmpty=new ln,this.onStable=new ln,this.onError=new ln}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),bn=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),e.run(function(){t.taskTrackingZone=Zone.current.get(\"TaskTrackingZone\")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){pn.assertNotInAngularZone(),Me(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error(\"pending async requests below zero\");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())Me(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,isPeriodic:e.data.isPeriodic,delay:e.data.delay,creationLocation:e.creationLocation,xhr:e.data.target}}):[]},e.prototype.addCallback=function(e,t,n){var r=this,o=-1;t&&t>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==o}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is \"zone.js/dist/task-tracking.js\" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),wn=function(){function e(){this._applications=new Map,_n.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),_n.findTestabilityInTree(this,e,t)},s([u(\"design:paramtypes\",[])],e)}(),_n=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Sn=!0,Cn=!1,On=new ve(\"AllowMultipleToken\");function En(){return Cn=!0,Sn}var Tn=function(e,t){this.name=e,this.token=t};function xn(e,t,n){void 0===n&&(n=[]);var r=\"Platform: \"+t,o=new ve(r);return function(t){void 0===t&&(t=[]);var i=Nn();if(!i||i.injector.get(On,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{var s=n.concat(t).concat({provide:o,useValue:!0});!function(e){if(yn&&!yn.destroyed&&!yn.injector.get(On,!1))throw new Error(\"There can be only one platform. Destroy the previous one to create a new one.\");yn=e.get(An);var t=e.get(Vt,null);t&&t.forEach(function(e){return e()})}(Ke.create({providers:s,name:r}))}return function(e){var t=Nn();if(!t)throw new Error(\"No platform exists!\");if(!t.injector.get(e,null))throw new Error(\"A platform with a different configuration has been created. Please destroy it first.\");return t}(o)}}function Nn(){return yn&&!yn.destroyed?yn:null}var An=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,r=this,o=\"noop\"===(n=t?t.ngZone:void 0)?new vn:(\"zone.js\"===n?void 0:n)||new pn({enableLongStackTrace:En()}),i=[{provide:pn,useValue:o}];return o.run(function(){var t=Ke.create({providers:i,parent:r.injector,name:e.moduleType.name}),n=e.create(t),s=n.injector.get(_t,null);if(!s)throw new Error(\"No ErrorHandler. Is platform module (BrowserModule) included?\");return n.onDestroy(function(){return Pn(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(e){s.handleError(e)}})}),function(e,t,o){try{var i=((s=n.injector.get(Bt)).runInitializers(),s.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Rt(i)?i.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):i}catch(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}var s}(s,o)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=this.injector.get($t),o=In({},t);return r.createCompiler([o]).compileModuleAsync(e).then(function(e){return n.bootstrapModuleFactory(e,o)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(kn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error(\"The module \"+Be(e.instance.constructor)+' was bootstrapped, but it does not declare \"@NgModule.bootstrap\" components nor a \"ngDoBootstrap\" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,\"injector\",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The platform has already been destroyed!\");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,\"destroyed\",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function In(e,t){return Array.isArray(t)?t.reduce(In,e):i({},e,t)}var kn=function(){function e(e,t,n,r,o,i){var s=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=En(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new M(function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){e.next(s._stable),e.complete()})}),u=new M(function(e){var t;s._zone.runOutsideAngular(function(){t=s._zone.onStable.subscribe(function(){pn.assertNotInAngularZone(),Me(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){pn.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return B(o)?(r=e.pop(),e.length>1&&\"number\"==typeof e[e.length-1]&&(n=e.pop())):\"number\"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof M?e[0]:re(n)(Q(e,r))}(a,u.pipe(function(e){return le()((t=ge,function(e){var n;n=\"function\"==typeof t?t:function(){return t};var r=Object.create(e,de);return r.source=e,r.subjectFactory=n,r})(e));var t}))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error(\"Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.\");n=e instanceof Gt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var o=n instanceof nn?null:this._injector.get(rn),i=n.create(Ke.NULL,[],t||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var s=i.injector.get(bn,null);return s&&i.injector.get(wn).registerApplication(i.location.nativeElement,s),this._loadComponent(i),En()&&this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\"),i},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error(\"ApplicationRef.tick is called recursively\");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,cn(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;Pn(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qt,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),Pn(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,\"viewCount\",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=un(\"ApplicationRef#tick()\"),e}();function Pn(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Rn=function(){},Mn=function(e){return e[e.Important=1]=\"Important\",e[e.DashCase=2]=\"DashCase\",e}({}),Dn=function(){},Bn=function(e){this.nativeElement=e},Ln=function(){},jn=function(){function e(){this.dirty=!0,this._results=[],this.changes=new ln,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[Re()]=function(){return this._results[Re()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Un=function(){},Vn={factoryPathPrefix:\"\",factoryPathSuffix:\".ngfactory\"},zn=function(){function e(e,t){this._compiler=e,this._config=t||Vn}return e.prototype.load=function(e){return this._compiler instanceof Wt?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=l(e.split(\"#\"),2),o=r[0],i=r[1];return void 0===i&&(i=\"default\"),n(\"crnd\")(o).then(function(e){return e[i]}).then(function(e){return qn(e,o,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=l(e.split(\"#\"),2),r=t[0],o=t[1],i=\"NgFactory\";return void 0===o&&(o=\"default\",i=\"\"),n(\"crnd\")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[o+i]}).then(function(e){return qn(e,r,o)})},s([a(1,Ve())],e)}();function qn(e,t,n){if(!e)throw new Error(\"Cannot find '\"+n+\"' in '\"+t+\"'\");return e}var Fn=function(){},Hn=function(){},Wn=function(){},$n=function(){function e(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof Yn?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,\"injector\",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentInstance\",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"references\",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"providerTokens\",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),Yn=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return o(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,r=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,p([o+1,0],t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=r}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,r){t.childNodes.forEach(function(t){t instanceof Yn&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,r){t instanceof Yn&&t.childNodes.forEach(function(t){n(t)&&r.push(t),t instanceof Yn&&e(t,n,r)})}(this,e,t),t},Object.defineProperty(t.prototype,\"children\",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}($n),Gn=new Map;function Kn(e){return Gn.get(e)||null}function Zn(e){Gn.set(e.nativeNode,e)}function Qn(e,t){var n=er(e),r=er(t);return n&&r?function(e,t,n){for(var r=e[Re()](),o=t[Re()]();;){var i=r.next(),s=o.next();if(i.done&&s.done)return!0;if(i.done||s.done)return!1;if(!n(i.value,s.value))return!1}}(e,t,Qn):!(n||!e||\"object\"!=typeof e&&\"function\"!=typeof e||r||!t||\"object\"!=typeof t&&\"function\"!=typeof t)||De(e,t)}var Jn=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),Xn=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function er(e){return!!tr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Re()in e)}function tr(e){return null!==e&&(\"function\"==typeof e||\"object\"==typeof e)}var nr=function(){function e(){}return e.prototype.supports=function(e){return er(e)},e.prototype.create=function(e){return new or(e)},e}(),rr=function(e,t){return t},or=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rr}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,o=null;t||n;){var i=!n||t&&t.currentIndex<ur(n,r,o)?t:n,s=ur(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var p=l<o.length?o[l]:o[l]=0,h=p+l;c<=h&&h<u&&(o[l]=p+1)}o[i.previousIndex]=c-u}}s!==a&&e(i,s,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!er(e))throw new Error(\"Error trying to diff '\"+Be(e)+\"'. Only arrays and iterables are allowed\");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,o,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)o=this._trackByFn(a,r=e[a]),null!==i&&De(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,r,o,a)),De(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),s=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[Re()](),o=void 0;!(o=r.next()).done;)t(o.value)}(e,function(e){o=t._trackByFn(n,e),null!==i&&De(i.trackById,o)?(s&&(i=t._verifyReinsertion(i,e,o,n)),De(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,o,n),s=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(De(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(De(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):e=this._addAfter(new ir(t,n),o,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ar),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ar),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),ir=function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},sr=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&De(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),ar=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new sr,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,\"isEmpty\",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function ur(e,t,n){var r=e.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+t+o}var cr=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||tr(e)},e.prototype.create=function(){return new lr},e}(),lr=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,\"isDirty\",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||tr(e)))throw new Error(\"Error trying to diff '\"+Be(e)+\"'. Only maps and objects are allowed\")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new pr(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){De(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),pr=function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},hr=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error(\"Cannot extend IterableDiffers without a parent injector\");return e.create(t,n)},deps:[[e,new qe,new Ve]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error(\"Cannot find a differ supporting object '\"+e+\"' of type '\"+((t=e).name||typeof t)+\"'\")},e.ngInjectableDef=ye({providedIn:\"root\",factory:function(){return new e([new nr])}}),e}(),fr=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error(\"Cannot extend KeyValueDiffers without a parent injector\");return e.create(t,n)},deps:[[e,new qe,new Ve]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error(\"Cannot find a differ supporting object '\"+e+\"'\")},e}(),dr=[new cr],mr=new hr([new nr]),gr=new fr(dr),yr=xn(null,\"core\",[{provide:zt,useValue:\"unknown\"},{provide:An,deps:[Ke]},{provide:wn,deps:[]},{provide:Ft,deps:[]}]),vr=new ve(\"LocaleId\");function br(){return mr}function wr(){return gr}function _r(e){return e||\"en-US\"}var Sr=function(e){},Cr=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument(\"sanitization-inert\"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement(\"html\");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement(\"body\"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload=\"this.parentNode.remove()\"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector(\"svg\")?(this.inertBodyElement.innerHTML='<svg><p><style><img src=\"</style><img src=x onerror=alert(1)//\">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector(\"svg img\")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType=\"document\",t.open(\"GET\",\"data:text/html;charset=utf-8,\"+e,!1),t.send(null);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e=\"<body><remove></remove>\"+e+\"</body>\";try{var t=(new window.DOMParser).parseFromString(e,\"text/html\").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement(\"template\");return\"content\"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;\"xmlns:ns1\"!==r&&0!==r.indexOf(\"ns1:\")||e.removeAttribute(r)}for(var o=e.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},e}(),Or=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Er=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;function Tr(e){return(e=String(e)).match(Or)||e.match(Er)?e:(En()&&console.warn(\"WARNING: sanitizing unsafe URL value \"+e+\" (see http://g.co/ng/security#xss)\"),\"unsafe:\"+e)}function xr(e){var t,n,r={};try{for(var o=c(e.split(\",\")),i=o.next();!i.done;i=o.next())r[i.value]=!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Nr(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};try{for(var i=c(n),s=i.next();!s.done;s=i.next()){var a=s.value;for(var u in a)a.hasOwnProperty(u)&&(o[u]=!0)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return o}var Ar,Ir=xr(\"area,br,col,hr,img,wbr\"),kr=xr(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),Pr=xr(\"rp,rt\"),Rr=Nr(Pr,kr),Mr=Nr(Ir,Nr(kr,xr(\"address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul\")),Nr(Pr,xr(\"a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video\")),Rr),Dr=xr(\"background,cite,href,itemtype,longdesc,poster,src,xlink:href\"),Br=xr(\"srcset\"),Lr=Nr(Dr,Br,xr(\"abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width\")),jr=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(t.nodeType===Node.ELEMENT_NODE?this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var n=this.checkClobberedElement(t,t.nextSibling);if(n){t=n;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join(\"\")},e.prototype.startElement=function(e){var t=e.nodeName.toLowerCase();if(Mr.hasOwnProperty(t)){this.buf.push(\"<\"),this.buf.push(t);for(var n,r=e.attributes,o=0;o<r.length;o++){var i=r.item(o),s=i.name,a=s.toLowerCase();if(Lr.hasOwnProperty(a)){var u=i.value;Dr[a]&&(u=Tr(u)),Br[a]&&(n=u,u=(n=String(n)).split(\",\").map(function(e){return Tr(e.trim())}).join(\", \")),this.buf.push(\" \",s,'=\"',zr(u),'\"')}else this.sanitizedSomething=!0}this.buf.push(\">\")}else this.sanitizedSomething=!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();Mr.hasOwnProperty(t)&&!Ir.hasOwnProperty(t)&&(this.buf.push(\"</\"),this.buf.push(t),this.buf.push(\">\"))},e.prototype.chars=function(e){this.buf.push(zr(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(\"Failed to sanitize html because the element is clobbered: \"+e.outerHTML);return t},e}(),Ur=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,Vr=/([^\\#-~ |!])/g;function zr(e){return e.replace(/&/g,\"&amp;\").replace(Ur,function(e){return\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\"}).replace(Vr,function(e){return\"&#\"+e.charCodeAt(0)+\";\"}).replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function qr(e){return\"content\"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&\"TEMPLATE\"===e.nodeName}(e)?e.content:null}var Fr=new RegExp(\"^([-,.\\\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\\\([-0-9.%, #a-zA-Z]+\\\\))$\",\"g\"),Hr=/^url\\(([^)]+)\\)$/,Wr=function(e){return e[e.NONE=0]=\"NONE\",e[e.HTML=1]=\"HTML\",e[e.STYLE=2]=\"STYLE\",e[e.SCRIPT=3]=\"SCRIPT\",e[e.URL=4]=\"URL\",e[e.RESOURCE_URL=5]=\"RESOURCE_URL\",e}({}),$r=function(){};function Yr(e,t,n){var r=e.state,o=1792&r;return o===t?(e.state=-1793&r|n,e.initIndex=-1,!0):o===n}function Gr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Kr(e,t){return e.nodes[t]}function Zr(e,t){return e.nodes[t]}function Qr(e,t){return e.nodes[t]}function Jr(e,t){return e.nodes[t]}function Xr(e,t){return e.nodes[t]}var eo={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function to(e,t,n,r){var o=\"ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '\"+t+\"'. Current value: '\"+n+\"'.\";return r&&(o+=\" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?\"),function(e,t){var n=new Error(e);return no(n,t),n}(o,e)}function no(e,t){e[mt]=t,e[yt]=t.logError.bind(t)}function ro(e){return new Error(\"ViewDestroyedError: Attempt to use a destroyed view: \"+e)}var oo=function(){},io=new Map;function so(e){var t=io.get(e);return t||(t=Be(e)+\"_\"+io.size,io.set(e,t)),t}function ao(e,t,n,r){if(Jn.isWrapped(r)){r=Jn.unwrap(r);var o=e.def.nodes[t].bindingIndex+n,i=Jn.unwrap(e.oldValues[o]);e.oldValues[o]=new Jn(i)}return r}var uo=\"$$undefined\",co=\"$$empty\";function lo(e){return{id:uo,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var po=0;function ho(e,t,n,r){return!(!(2&e.state)&&De(e.oldValues[t.bindingIndex+n],r))}function fo(e,t,n,r){return!!ho(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function mo(e,t,n,r){var o=e.oldValues[t.bindingIndex+n];if(1&e.state||!Qn(o,r)){var i=t.bindings[n].name;throw to(eo.createDebugContext(e,t.nodeIndex),i+\": \"+o,i+\": \"+r,0!=(1&e.state))}}function go(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function yo(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function vo(e,t,n,r){try{return go(33554432&e.def.nodes[t].flags?Zr(e,t).componentView:e),eo.handleEvent(e,t,n,r)}catch(t){e.root.errorHandler.handleError(t)}}function bo(e){return e.parent?Zr(e.parent,e.parentNodeDef.nodeIndex):null}function wo(e){return e.parent?e.parentNodeDef.parent:null}function _o(e,t){switch(201347067&t.flags){case 1:return Zr(e,t.nodeIndex).renderElement;case 2:return Kr(e,t.nodeIndex).renderText}}function So(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Co(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Oo(e){var t={},n=0,r={};return e&&e.forEach(function(e){var o=l(e,2),i=o[0],s=o[1];\"number\"==typeof i?(t[i]=s,n|=function(e){return 1<<e%32}(i)):r[i]=s}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Eo(e,t){return e.map(function(e){var n,r,o;return Array.isArray(e)?(o=(n=l(e,2))[0],r=n[1]):(o=0,r=e),r&&(\"function\"==typeof r||\"object\"==typeof r)&&t&&Object.defineProperty(r,He,{value:t,configurable:!0}),{flags:o,token:r,tokenKey:so(r)}})}function To(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ft.Native?Zr(e,n.renderParent.nodeIndex).renderElement:void 0:t}var xo=new WeakMap;function No(e){var t=xo.get(e);return t||((t=e(function(){return oo})).factory=e,xo.set(e,t)),t}function Ao(e,t,n,r,o){3===t&&(n=e.renderer.parentNode(_o(e,e.def.lastRenderRootNode))),Io(e,t,0,e.def.nodes.length-1,n,r,o)}function Io(e,t,n,r,o,i,s){for(var a=n;a<=r;a++){var u=e.def.nodes[a];11&u.flags&&Po(e,u,t,o,i,s),a+=u.childCount}}function ko(e,t,n,r,o,i){for(var s=e;s&&!So(s);)s=s.parent;for(var a=s.parent,u=wo(s),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var p=a.def.nodes[l];p.ngContentIndex===t&&Po(a,p,n,r,o,i),l+=p.childCount}if(!a.parent){var h=e.root.projectableNodes[t];if(h)for(l=0;l<h.length;l++)Ro(e,h[l],n,r,o,i)}}function Po(e,t,n,r,o,i){if(8&t.flags)ko(e,t.ngContent.index,n,r,o,i);else{var s=_o(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Ro(e,s,n,r,o,i),32&t.bindingFlags&&Ro(Zr(e,t.nodeIndex).componentView,s,n,r,o,i)):Ro(e,s,n,r,o,i),16777216&t.flags)for(var a=Zr(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)Ao(a[u],n,r,o,i);1&t.flags&&!t.element.name&&Io(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,o,i)}}function Ro(e,t,n,r,o,i){var s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,o);break;case 3:s.removeChild(r,t);break;case 0:i.push(t)}}var Mo=/^:([^:]+):(.+)$/;function Do(e){if(\":\"===e[0]){var t=e.match(Mo);return[t[1],t[2]]}return[\"\",e]}function Bo(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Lo(e,t,n,r,o,i,s,a,u,c,l,p,h,f,d,m,g,y,v,b){switch(e){case 1:return t+jo(n)+r;case 2:return t+jo(n)+r+jo(o)+i;case 3:return t+jo(n)+r+jo(o)+i+jo(s)+a;case 4:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c;case 5:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c+jo(l)+p;case 6:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c+jo(l)+p+jo(h)+f;case 7:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c+jo(l)+p+jo(h)+f+jo(d)+m;case 8:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c+jo(l)+p+jo(h)+f+jo(d)+m+jo(g)+y;case 9:return t+jo(n)+r+jo(o)+i+jo(s)+a+jo(u)+c+jo(l)+p+jo(h)+f+jo(d)+m+jo(g)+y+jo(v)+b;default:throw new Error(\"Does not support more than 9 expressions\")}}function jo(e){return null!=e?e.toString():\"\"}function Uo(e,t,n,r,o,i){e|=1;var s=Oo(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?No(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||oo},provider:null,text:null,query:null,ngContent:null}}function Vo(e,t,n,r,o,i,s,a,u,c,p,h){var f;void 0===s&&(s=[]),c||(c=oo);var d=Oo(n),m=d.matchedQueries,g=d.references,y=d.matchedQueryIds,v=null,b=null;i&&(v=(f=l(Do(i),2))[0],b=f[1]),a=a||[];for(var w=new Array(a.length),_=0;_<a.length;_++){var S=l(a[_],3),C=S[0],O=S[2],E=l(Do(S[1]),2),T=E[0],x=E[1],N=void 0,A=void 0;switch(15&C){case 4:A=O;break;case 1:case 8:N=O}w[_]={flags:C,ns:T,name:x,nonMinifiedName:x,securityContext:N,suffix:A}}u=u||[];var I=new Array(u.length);for(_=0;_<u.length;_++){var k=l(u[_],2);I[_]={type:0,target:k[0],eventName:k[1],propName:null}}var P=(s=s||[]).map(function(e){var t=l(e,2),n=t[1],r=l(Do(t[0]),2);return[r[0],r[1],n]});return h=function(e){if(e&&e.id===uo){var t=null!=e.encapsulation&&e.encapsulation!==ft.None||e.styles.length||Object.keys(e.data).length;e.id=t?\"c\"+po++:co}return e&&e.id===co&&(e=null),e||null}(h),p&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:r,childCount:o,bindings:w,bindingFlags:Bo(w),outputs:I,element:{ns:v,name:b,attrs:P,template:null,componentProvider:null,componentView:p||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||oo},provider:null,text:null,query:null,ngContent:null}}function zo(e,t,n){var r,o=n.element,i=e.root.selectorOrNode,s=e.renderer;if(e.parent||!i){r=o.name?s.createElement(o.name,o.ns):s.createComment(\"\");var a=To(e,t,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(i);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=l(o.attrs[u],3);s.setAttribute(r,c[1],c[2],c[0])}return r}function qo(e,t,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],s=Fo(e,n.nodeIndex,(p=i.eventName,(l=i.target)?l+\":\"+p:p)),a=i.target,u=e;\"component\"===i.target&&(a=null,u=t);var c=u.renderer.listen(a||r,i.eventName,s);e.disposables[n.outputIndex+o]=c}var l,p}function Fo(e,t,n){return function(r){return vo(e,t,n,r)}}function Ho(e,t,n,r){if(!fo(e,t,n,r))return!1;var o=t.bindings[n],i=Zr(e,t.nodeIndex),s=i.renderElement,a=o.name;switch(15&o.flags){case 1:!function(e,t,n,r,o,i){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,i):i;a=null!=a?a.toString():null;var u=e.renderer;null!=i?u.setAttribute(n,o,a,r):u.removeAttribute(n,o,r)}(e,o,s,o.ns,a,r);break;case 2:!function(e,t,n,r){var o=e.renderer;r?o.addClass(t,n):o.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,o){var i=e.root.sanitizer.sanitize(Wr.STYLE,o);if(null!=i){i=i.toString();var s=t.suffix;null!=s&&(i+=s)}else i=null;var a=e.renderer;null!=i?a.setStyle(n,r,i):a.removeStyle(n,r)}(e,o,s,a,r);break;case 8:!function(e,t,n,r,o){var i=t.securityContext,s=i?e.root.sanitizer.sanitize(i,o):o;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&o.flags?i.componentView:e,o,s,a,r)}return!0}var Wo=new Object,$o=so(Ke),Yo=so(Ye),Go=so(rn);function Ko(e,t,n,r){return n=je(n),{index:-1,deps:Eo(r,Be(t)),flags:e,token:t,value:n}}function Zo(e,t,n){void 0===n&&(n=Ke.THROW_IF_NOT_FOUND);var r,o,i=lt(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var s=t.tokenKey;switch(s){case $o:case Yo:case Go:return e}var a=e._def.providersByKey[s];if(a){var u=e._providers[a.index];return void 0===u&&(u=e._providers[a.index]=Qo(e,a)),u===Wo?void 0:u}if(t.token.ngInjectableDef&&(r=e,null!=(o=t.token.ngInjectableDef).providedIn&&(function(e,t){return e._def.modules.indexOf(o.providedIn)>-1}(r)||\"root\"===o.providedIn&&r._def.isRoot))){var c=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:t.token.ngInjectableDef.factory,deps:[],index:c,token:t.token},e._providers[c]=Wo,e._providers[c]=Qo(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{lt(i)}}function Qo(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Zo(e,n[0]));case 2:return new t(Zo(e,n[0]),Zo(e,n[1]));case 3:return new t(Zo(e,n[0]),Zo(e,n[1]),Zo(e,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=Zo(e,n[i]);return new(t.bind.apply(t,p([void 0],o)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Zo(e,n[0]));case 2:return t(Zo(e,n[0]),Zo(e,n[1]));case 3:return t(Zo(e,n[0]),Zo(e,n[1]),Zo(e,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=Zo(e,n[i]);return t.apply(void 0,p(o))}}(e,t.value,t.deps);break;case 2048:n=Zo(e,t.deps[0]);break;case 256:n=t.value}return n===Wo||null==n||\"object\"!=typeof n||131072&t.flags||\"function\"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Wo:n}function Jo(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,ni(n,t),eo.dirtyParentQueries(r),ei(r),r}function Xo(e,t,n){var r=t?_o(t,t.def.lastRenderRootNode):e.renderElement;Ao(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function ei(e){Ao(e,3,null,null,void 0)}function ti(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ni(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var ri=new Object;function oi(e,t,n,r,o,i){return new ii(e,t,n,r,o,i)}var ii=function(e){function t(t,n,r,o,i,s){var a=e.call(this)||this;return a.selector=t,a.componentType=n,a._inputs=o,a._outputs=i,a.ngContentSelectors=s,a.viewDefFactory=r,a}return o(t,e),Object.defineProperty(t.prototype,\"inputs\",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"outputs\",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error(\"ngModule should be provided\");var o=No(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,s=eo.createRootView(e,t||[],n,o,r,ri),a=Qr(s,i).instance;return n&&s.renderer.setAttribute(Zr(s,0).renderElement,\"ng-version\",dt.full),new si(s,new li(s),a)},t}(Gt),si=function(e){function t(t,n,r){var o=e.call(this)||this;return o._view=t,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return o(t,e),Object.defineProperty(t.prototype,\"location\",{get:function(){return new Bn(Zr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"injector\",{get:function(){return new di(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"componentType\",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Yt);function ai(e,t,n){return new ui(e,t,n)}var ui=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,\"element\",{get:function(){return new Bn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"injector\",{get:function(){return new di(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parentInjector\",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=wo(e),e=e.parent;return e?new di(e,t):new di(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Jo(this._data,e);eo.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new li(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,\"length\",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,o){var i=n||this.parentInjector;o||e instanceof nn||(o=i.get(rn));var s=e.create(i,r,void 0,o);return this.insert(s.hostView,t),s},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error(\"Cannot insert a destroyed View in a ViewContainer!\");var n,r,o,i,s=e;return o=s._view,i=(n=this._data).viewContainer._embeddedViews,null!==(r=t)&&void 0!==r||(r=i.length),o.viewContainerParent=this._view,ti(i,r,o),function(e,t){var n=bo(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(n,o),eo.dirtyParentQueries(o),Xo(n,r>0?i[r-1]:null,o),s.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error(\"Cannot move a destroyed View in a ViewContainer!\");var n,r,o,i,s,a=this._embeddedViews.indexOf(e._view);return o=t,s=(i=(n=this._data).viewContainer._embeddedViews)[r=a],ni(i,r),null==o&&(o=i.length),ti(i,o,s),eo.dirtyParentQueries(s),ei(s),Xo(n,o>0?i[o-1]:null,s),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Jo(this._data,e);t&&eo.destroyView(t)},e.prototype.detach=function(e){var t=Jo(this._data,e);return t?new li(t):null},e}();function ci(e){return new li(e)}var li=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,\"rootNodes\",{get:function(){return Ao(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"destroyed\",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){go(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{eo.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){eo.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),eo.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,ei(this._view),eo.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error(\"This view is already attached to a ViewContainer!\");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error(\"This view is already attached directly to the ApplicationRef!\");this._viewContainerRef=e},e}();function pi(e,t){return new hi(e,t)}var hi=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return o(t,e),t.prototype.createEmbeddedView=function(e){return new li(eo.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,\"elementRef\",{get:function(){return new Bn(Zr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Fn);function fi(e,t){return new di(e,t)}var di=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=Ke.THROW_IF_NOT_FOUND),eo.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:so(e)},t)},e}();function mi(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Zr(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Kr(e,n.nodeIndex).renderText;if(20240&n.flags)return Qr(e,n.nodeIndex).instance;throw new Error(\"Illegal state: read nodeValue for node index \"+t)}function gi(e){return new yi(e.renderer)}var yi=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=l(Do(t),2),r=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,r),r},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment(\"\");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),o=0;o<t.length;o++)this.delegate.insertBefore(n,t[o],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var r=l(Do(t),2),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(e,i,n,o):this.delegate.removeAttribute(e,i,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error(\"Renderer.animate is no longer supported!\")},e}();function vi(e,t,n,r){return new bi(e,t,n,r)}var bi=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var o=t.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=Qo(e,o))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=Ke.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Zo(this,{token:e,tokenKey:so(e),flags:r},t)},Object.defineProperty(e.prototype,\"instance\",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentFactoryResolver\",{get:function(){return this.get(en)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error(\"The ng module \"+Be(this.instance.constructor)+\" has already been destroyed.\");this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=e._providers[o];if(i&&i!==Wo){var s=i.ngOnDestroy;\"function\"!=typeof s||r.has(i)||(s.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),wi=so(function(){}),_i=so(Dn),Si=so(Bn),Ci=so(Hn),Oi=so(Fn),Ei=so(Wn),Ti=so(Ke),xi=so(Ye);function Ni(e,t,n,r,o,i,s,a){var u=[];if(s)for(var c in s){var p=l(s[c],2);u[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var f in a)h.push({type:1,propName:f,target:null,eventName:a[f]});return ki(e,t|=16384,n,r,o,o,i,u,h)}function Ai(e,t,n){return ki(-1,e|=16,null,0,t,t,n)}function Ii(e,t,n,r,o){return ki(-1,e,t,0,n,r,o)}function ki(e,t,n,r,o,i,s,a,u){var c=Oo(n),l=c.matchedQueries,p=c.references,h=c.matchedQueryIds;u||(u=[]),a||(a=[]),i=je(i);var f=Eo(s,Be(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Bo(a),outputs:u,element:null,provider:{token:o,value:i,deps:f},text:null,query:null,ngContent:null}}function Pi(e,t){return Bi(e,t)}function Ri(e,t){for(var n=e;n.parent&&!So(n);)n=n.parent;return Li(n.parent,wo(n),!0,t.provider.value,t.provider.deps)}function Mi(e,t){var n=Li(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var o=t.outputs[r],i=n[o.propName].subscribe(Di(e,t.parent.nodeIndex,o.eventName));e.disposables[t.outputIndex+r]=i.unsubscribe.bind(i)}return n}function Di(e,t,n){return function(r){return vo(e,t,n,r)}}function Bi(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Li(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(Ui(e,t,n,o[0]));case 2:return r(Ui(e,t,n,o[0]),Ui(e,t,n,o[1]));case 3:return r(Ui(e,t,n,o[0]),Ui(e,t,n,o[1]),Ui(e,t,n,o[2]));default:for(var s=Array(i),a=0;a<i;a++)s[a]=Ui(e,t,n,o[a]);return r.apply(void 0,p(s))}}(e,t.parent,n,r.value,r.deps);case 2048:return Ui(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Li(e,t,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(Ui(e,t,n,o[0]));case 2:return new r(Ui(e,t,n,o[0]),Ui(e,t,n,o[1]));case 3:return new r(Ui(e,t,n,o[0]),Ui(e,t,n,o[1]),Ui(e,t,n,o[2]));default:for(var s=new Array(i),a=0;a<i;a++)s[a]=Ui(e,t,n,o[a]);return new(r.bind.apply(r,p([void 0],s)))}}var ji={};function Ui(e,t,n,r,o){if(void 0===o&&(o=Ke.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=e;2&r.flags&&(o=null);var s=r.tokenKey;s===Ei&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var a=e;a;){if(t)switch(s){case wi:return gi(Vi(a,t,n));case _i:return Vi(a,t,n).renderer;case Si:return new Bn(Zr(a,t.nodeIndex).renderElement);case Ci:return Zr(a,t.nodeIndex).viewContainer;case Oi:if(t.element.template)return Zr(a,t.nodeIndex).template;break;case Ei:return ci(Vi(a,t,n));case Ti:case xi:return fi(a,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[s];if(u){var c=Qr(a,u.nodeIndex);return c||(c={instance:Bi(a,u)},a.nodes[u.nodeIndex]=c),c.instance}}n=So(a),t=wo(a),a=a.parent,4&r.flags&&(a=null)}var l=i.root.injector.get(r.token,ji);return l!==ji||o===ji?l:i.root.ngModule.injector.get(r.token,o)}function Vi(e,t,n){var r;if(n)r=Zr(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!So(r);)r=r.parent;return r}function zi(e,t,n,r,o,i){if(32768&n.flags){var s=Zr(e,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var a=Jn.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Xn(a,o,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=o,i}function qi(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],s=i.parent;for(!s&&i.flags&t&&Hi(e,o,i.flags&t,r++),0==(i.childFlags&t)&&(o+=i.childCount);s&&1&s.flags&&o===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Fi(e,s,t,r)),s=s.parent}}function Fi(e,t,n,r){for(var o=t.nodeIndex+1;o<=t.nodeIndex+t.childCount;o++){var i=e.def.nodes[o];i.flags&n&&Hi(e,o,i.flags&n,r++),o+=i.childCount}return r}function Hi(e,t,n,r){var o=Qr(e,t);if(o){var i=o.instance;i&&(eo.setCurrentNode(e,t),1048576&n&&Gr(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Gr(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function Wi(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Co(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=e.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Xr(e,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&e.def.nodeFlags)for(o=0;o<e.def.nodes.length;o++){var i;134217728&(i=e.def.nodes[o]).flags&&536870912&i.flags&&Xr(e,o).setDirty(),o+=i.childCount}}function $i(e,t){var n=Xr(e,t.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&t.flags){var i=t.parent.parent;o=Yi(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=Qr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(o=Yi(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(o);for(var s=t.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function Yi(e,t,n,r,o){for(var i=t;i<=n;i++){var s=e.def.nodes[i],a=s.matchedQueries[r.id];if(null!=a&&o.push(Gi(e,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Zr(e,i);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Yi(e,i+1,i+s.childCount,r,o),i+=s.childCount),16777216&s.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var p=c[l],h=bo(p);h&&h===u&&Yi(p,0,p.def.nodes.length-1,r,o)}var f=u.template._projectedViews;if(f)for(l=0;l<f.length;l++){var d=f[l];Yi(d,0,d.def.nodes.length-1,r,o)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(i+=s.childCount)}return o}function Gi(e,t,n){if(null!=n)switch(n){case 1:return Zr(e,t.nodeIndex).renderElement;case 0:return new Bn(Zr(e,t.nodeIndex).renderElement);case 2:return Zr(e,t.nodeIndex).template;case 3:return Zr(e,t.nodeIndex).viewContainer;case 4:return Qr(e,t.nodeIndex).instance}}function Ki(e,t,n){var r=To(e,t,n);r&&ko(e,n.ngContent.index,1,r,null,void 0)}function Zi(e,t,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qi(e,t,n){var r,o=e.renderer;r=o.createText(n.text.prefix);var i=To(e,t,n);return i&&o.appendChild(i,r),{renderText:r}}function Ji(e,t){return(null!=e?e.toString():\"\")+t.suffix}function Xi(e,t,n,r){for(var o=0,i=0,s=0,a=0,u=0,c=null,l=null,p=!1,h=!1,f=null,d=0;d<t.length;d++){var m=t[d];if(m.nodeIndex=d,m.parent=c,m.bindingIndex=o,m.outputIndex=i,m.renderParent=l,s|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,p=!1,h=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(ts(c,m,t.length),o+=m.bindings.length,i+=m.outputs.length,!l&&3&m.flags&&(f=m),20224&m.flags){p||(p=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?c.element.publicProviders[so(m.provider.token)]=m:(h||(h=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[so(m.provider.token)]=m),y&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,m.childCount>0)c=m,es(m)||(l=m);else for(;c&&d===c.nodeIndex+c.childCount;){var v=c.parent;v&&(v.childFlags|=c.childFlags,v.childMatchedQueries|=c.childMatchedQueries),l=(c=v)&&es(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||oo,updateRenderer:r||oo,handleEvent:function(e,n,r,o){return t[n].element.handleEvent(e,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:f}}function es(e){return 0!=(1&e.flags)&&null===e.element.name}function ts(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(\"Illegal State: Last root node of a template can't have embedded views, at index \"+t.nodeIndex+\"!\")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(\"Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index \"+t.nodeIndex+\"!\");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(\"Illegal State: Content Query nodes need to be children of directives, at index \"+t.nodeIndex+\"!\");if(134217728&t.flags&&e)throw new Error(\"Illegal State: View Query nodes have to be top level nodes, at index \"+t.nodeIndex+\"!\")}if(t.childCount){var o=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=o&&t.nodeIndex+t.childCount>o)throw new Error(\"Illegal State: childCount of node leads outside of parent, at index \"+t.nodeIndex+\"!\")}}function ns(e,t,n,r){var o=is(e.root,e.renderer,e,t,n);return ss(o,e.component,r),as(o),o}function rs(e,t,n){var r=is(e,e.renderer,null,null,t);return ss(r,n,n),as(r),r}function os(e,t,n,r){var o,i=t.element.componentRendererType;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,is(e.root,o,e,t.element.componentProvider,n)}function is(e,t,n,r,o){var i=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(o.bindingCount),disposables:s,initIndex:-1}}function ss(e,t,n){e.component=t,e.context=n}function as(e){var t;So(e)&&(t=Zr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];eo.setCurrentNode(e,o);var s=void 0;switch(201347067&i.flags){case 1:var a=zo(e,t,i),u=void 0;if(33554432&i.flags){var c=No(i.element.componentView);u=eo.createComponentView(e,i,c,a)}qo(e,u,i,a),s={renderElement:a,componentView:u,viewContainer:null,template:i.element.template?pi(e,i):void 0},16777216&i.flags&&(s.viewContainer=ai(e,i,s));break;case 2:s=Qi(e,t,i);break;case 512:case 1024:case 2048:case 256:(s=r[o])||4096&i.flags||(s={instance:Pi(e,i)});break;case 16:s={instance:Ri(e,i)};break;case 16384:(s=r[o])||(s={instance:Mi(e,i)}),32768&i.flags&&ss(Zr(e,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new jn;break;case 8:Ki(e,t,i),s=void 0}r[o]=s}gs(e,ms.CreateViewNodes),ws(e,201326592,268435456,0)}function us(e){ps(e),eo.updateDirectives(e,1),ys(e,ms.CheckNoChanges),eo.updateRenderer(e,1),gs(e,ms.CheckNoChanges),e.state&=-97}function cs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Yr(e,0,256),ps(e),eo.updateDirectives(e,0),ys(e,ms.CheckAndUpdate),ws(e,67108864,536870912,0);var t=Yr(e,256,512);qi(e,2097152|(t?1048576:0)),eo.updateRenderer(e,0),gs(e,ms.CheckAndUpdate),ws(e,134217728,536870912,0),qi(e,8388608|((t=Yr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Yr(e,768,1024)}function ls(e,t,n,r,o,i,s,a,u,c,l,h,f){return 0===n?function(e,t,n,r,o,i,s,a,u,c,l,p){switch(201347067&t.flags){case 1:return function(e,t,n,r,o,i,s,a,u,c,l,p){var h=t.bindings.length,f=!1;return h>0&&Ho(e,t,0,n)&&(f=!0),h>1&&Ho(e,t,1,r)&&(f=!0),h>2&&Ho(e,t,2,o)&&(f=!0),h>3&&Ho(e,t,3,i)&&(f=!0),h>4&&Ho(e,t,4,s)&&(f=!0),h>5&&Ho(e,t,5,a)&&(f=!0),h>6&&Ho(e,t,6,u)&&(f=!0),h>7&&Ho(e,t,7,c)&&(f=!0),h>8&&Ho(e,t,8,l)&&(f=!0),h>9&&Ho(e,t,9,p)&&(f=!0),f}(e,t,n,r,o,i,s,a,u,c,l,p);case 2:return function(e,t,n,r,o,i,s,a,u,c,l,p){var h=!1,f=t.bindings,d=f.length;if(d>0&&fo(e,t,0,n)&&(h=!0),d>1&&fo(e,t,1,r)&&(h=!0),d>2&&fo(e,t,2,o)&&(h=!0),d>3&&fo(e,t,3,i)&&(h=!0),d>4&&fo(e,t,4,s)&&(h=!0),d>5&&fo(e,t,5,a)&&(h=!0),d>6&&fo(e,t,6,u)&&(h=!0),d>7&&fo(e,t,7,c)&&(h=!0),d>8&&fo(e,t,8,l)&&(h=!0),d>9&&fo(e,t,9,p)&&(h=!0),h){var m=t.text.prefix;d>0&&(m+=Ji(n,f[0])),d>1&&(m+=Ji(r,f[1])),d>2&&(m+=Ji(o,f[2])),d>3&&(m+=Ji(i,f[3])),d>4&&(m+=Ji(s,f[4])),d>5&&(m+=Ji(a,f[5])),d>6&&(m+=Ji(u,f[6])),d>7&&(m+=Ji(c,f[7])),d>8&&(m+=Ji(l,f[8])),d>9&&(m+=Ji(p,f[9]));var g=Kr(e,t.nodeIndex).renderText;e.renderer.setValue(g,m)}return h}(e,t,n,r,o,i,s,a,u,c,l,p);case 16384:return function(e,t,n,r,o,i,s,a,u,c,l,p){var h=Qr(e,t.nodeIndex),f=h.instance,d=!1,m=void 0,g=t.bindings.length;return g>0&&ho(e,t,0,n)&&(d=!0,m=zi(e,h,t,0,n,m)),g>1&&ho(e,t,1,r)&&(d=!0,m=zi(e,h,t,1,r,m)),g>2&&ho(e,t,2,o)&&(d=!0,m=zi(e,h,t,2,o,m)),g>3&&ho(e,t,3,i)&&(d=!0,m=zi(e,h,t,3,i,m)),g>4&&ho(e,t,4,s)&&(d=!0,m=zi(e,h,t,4,s,m)),g>5&&ho(e,t,5,a)&&(d=!0,m=zi(e,h,t,5,a,m)),g>6&&ho(e,t,6,u)&&(d=!0,m=zi(e,h,t,6,u,m)),g>7&&ho(e,t,7,c)&&(d=!0,m=zi(e,h,t,7,c,m)),g>8&&ho(e,t,8,l)&&(d=!0,m=zi(e,h,t,8,l,m)),g>9&&ho(e,t,9,p)&&(d=!0,m=zi(e,h,t,9,p,m)),m&&f.ngOnChanges(m),65536&t.flags&&Gr(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),d}(e,t,n,r,o,i,s,a,u,c,l,p);case 32:case 64:case 128:return function(e,t,n,r,o,i,s,a,u,c,l,p){var h=t.bindings,f=!1,d=h.length;if(d>0&&fo(e,t,0,n)&&(f=!0),d>1&&fo(e,t,1,r)&&(f=!0),d>2&&fo(e,t,2,o)&&(f=!0),d>3&&fo(e,t,3,i)&&(f=!0),d>4&&fo(e,t,4,s)&&(f=!0),d>5&&fo(e,t,5,a)&&(f=!0),d>6&&fo(e,t,6,u)&&(f=!0),d>7&&fo(e,t,7,c)&&(f=!0),d>8&&fo(e,t,8,l)&&(f=!0),d>9&&fo(e,t,9,p)&&(f=!0),f){var m=Jr(e,t.nodeIndex),g=void 0;switch(201347067&t.flags){case 32:g=new Array(h.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=o),d>3&&(g[3]=i),d>4&&(g[4]=s),d>5&&(g[5]=a),d>6&&(g[6]=u),d>7&&(g[7]=c),d>8&&(g[8]=l),d>9&&(g[9]=p);break;case 64:g={},d>0&&(g[h[0].name]=n),d>1&&(g[h[1].name]=r),d>2&&(g[h[2].name]=o),d>3&&(g[h[3].name]=i),d>4&&(g[h[4].name]=s),d>5&&(g[h[5].name]=a),d>6&&(g[h[6].name]=u),d>7&&(g[h[7].name]=c),d>8&&(g[h[8].name]=l),d>9&&(g[h[9].name]=p);break;case 128:var y=n;switch(d){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,o);break;case 4:g=y.transform(r,o,i);break;case 5:g=y.transform(r,o,i,s);break;case 6:g=y.transform(r,o,i,s,a);break;case 7:g=y.transform(r,o,i,s,a,u);break;case 8:g=y.transform(r,o,i,s,a,u,c);break;case 9:g=y.transform(r,o,i,s,a,u,c,l);break;case 10:g=y.transform(r,o,i,s,a,u,c,l,p)}}m.value=g}return f}(e,t,n,r,o,i,s,a,u,c,l,p);default:throw\"unreachable\"}}(e,t,r,o,i,s,a,u,c,l,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,o=0;o<n.length;o++)Ho(e,t,o,n[o])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)fo(e,t,i,n[i])&&(o=!0);if(o){var s=\"\";for(i=0;i<n.length;i++)s+=Ji(n[i],r[i]);s=t.text.prefix+s;var a=Kr(e,t.nodeIndex).renderText;e.renderer.setValue(a,s)}return o}(e,t,n);case 16384:return function(e,t,n){for(var r=Qr(e,t.nodeIndex),o=r.instance,i=!1,s=void 0,a=0;a<n.length;a++)ho(e,t,a,n[a])&&(i=!0,s=zi(e,r,t,a,n[a],s));return s&&o.ngOnChanges(s),65536&t.flags&&Gr(e,256,t.nodeIndex)&&o.ngOnInit(),262144&t.flags&&o.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)fo(e,t,i,n[i])&&(o=!0);if(o){var s=Jr(e,t.nodeIndex),a=void 0;switch(201347067&t.flags){case 32:a=n;break;case 64:for(a={},i=0;i<n.length;i++)a[r[i].name]=n[i];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,p(c))}s.value=a}return o}(e,t,n);default:throw\"unreachable\"}}(e,t,r)}function ps(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var o=Zr(e,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var s=o[i];s.state|=32,yo(s,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function hs(e,t,n,r,o,i,s,a,u,c,l,p,h){return 0===n?function(e,t,n,r,o,i,s,a,u,c,l,p){var h=t.bindings.length;h>0&&mo(e,t,0,n),h>1&&mo(e,t,1,r),h>2&&mo(e,t,2,o),h>3&&mo(e,t,3,i),h>4&&mo(e,t,4,s),h>5&&mo(e,t,5,a),h>6&&mo(e,t,6,u),h>7&&mo(e,t,7,c),h>8&&mo(e,t,8,l),h>9&&mo(e,t,9,p)}(e,t,r,o,i,s,a,u,c,l,p,h):function(e,t,n){for(var r=0;r<n.length;r++)mo(e,t,r,n[r])}(e,t,r),!1}function fs(e,t){if(Xr(e,t.nodeIndex).dirty)throw to(eo.createDebugContext(e,t.nodeIndex),\"Query \"+t.query.id+\" not dirty\",\"Query \"+t.query.id+\" dirty\",0!=(1&e.state))}function ds(e){if(!(128&e.state)){if(ys(e,ms.Destroy),gs(e,ms.Destroy),qi(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=bo(e);if(t){var n=t.template._projectedViews;n&&(ni(n,n.indexOf(e)),eo.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Zr(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Kr(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Xr(e,n).destroy()}}(e),So(e)&&e.renderer.destroy(),e.state|=128}}var ms=function(e){return e[e.CreateViewNodes=0]=\"CreateViewNodes\",e[e.CheckNoChanges=1]=\"CheckNoChanges\",e[e.CheckNoChangesProjectedViews=2]=\"CheckNoChangesProjectedViews\",e[e.CheckAndUpdate=3]=\"CheckAndUpdate\",e[e.CheckAndUpdateProjectedViews=4]=\"CheckAndUpdateProjectedViews\",e[e.Destroy=5]=\"Destroy\",e}({});function gs(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?vs(Zr(e,r).componentView,t):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function ys(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Zr(e,r).viewContainer._embeddedViews,s=0;s<i.length;s++)vs(i[s],t);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function vs(e,t){var n=e.state;switch(t){case ms.CheckNoChanges:0==(128&n)&&(12==(12&n)?us(e):64&n&&bs(e,ms.CheckNoChangesProjectedViews));break;case ms.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?us(e):64&n&&bs(e,t));break;case ms.CheckAndUpdate:0==(128&n)&&(12==(12&n)?cs(e):64&n&&bs(e,ms.CheckAndUpdateProjectedViews));break;case ms.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?cs(e):64&n&&bs(e,t));break;case ms.Destroy:ds(e);break;case ms.CreateViewNodes:as(e)}}function bs(e,t){ys(e,t),gs(e,t)}function ws(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var o=e.def.nodes.length,i=0;i<o;i++){var s=e.def.nodes[i];if(s.flags&t&&s.flags&n)switch(eo.setCurrentNode(e,s.nodeIndex),r){case 0:$i(e,s);break;case 1:fs(e,s)}s.childFlags&t&&s.childFlags&n||(i+=s.childCount)}}var _s=!1;function Ss(e,t,n,r,o,i){return rs(Os(e,o,o.injector.get(Rn),t,n),r,i)}function Cs(e,t,n,r,o,i){var s=o.injector.get(Rn),a=Os(e,o,new oa(s),t,n),u=Ms(r);return na(Fs.create,rs,null,[a,u,i])}function Os(e,t,n,r,o){var i=t.injector.get($r),s=t.injector.get(_t);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function Es(e,t,n,r){var o=Ms(n);return na(Fs.create,ns,null,[e,t,o,r])}function Ts(e,t,n,r){return n=Is.get(t.element.componentProvider.provider.token)||Ms(n),na(Fs.create,os,null,[e,t,n,r])}function xs(e,t,n,r){return vi(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Ns.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=Ns.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(function(e){As.forEach(function(r,o){o.ngInjectableDef.providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];n&&(r.flags|=4096);var o=Ns.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=Eo(o.deps),r.value=o.value)}if(As.size>0){var i=new Set(e.modules);As.forEach(function(t,r){if(i.has(r.ngInjectableDef.providedIn)){var o={token:r,flags:t.flags|(n?4096:0),deps:Eo(t.deps),value:t.value,index:e.providers.length};e.providers.push(o),e.providersByKey[so(r)]=o}})}}(e=e.factory(function(){return oo})),e):e}(r))}var Ns=new Map,As=new Map,Is=new Map;function ks(e){Ns.set(e.token,e),\"function\"==typeof e.token&&e.token.ngInjectableDef&&\"function\"==typeof e.token.ngInjectableDef.providedIn&&As.set(e.token,e)}function Ps(e,t){var n=No(No(t.viewDefFactory).nodes[0].element.componentView);Is.set(e,n)}function Rs(){Ns.clear(),As.clear(),Is.clear()}function Ms(e){if(0===Ns.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var o=e.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&Ns.has(o.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return oo});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=Ns.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=Eo(i.deps),o.value=i.value)}}}}function Ds(e,t,n,r,o,i,s,a,u,c,l,p,h){var f=e.def.nodes[t];return ls(e,f,n,r,o,i,s,a,u,c,l,p,h),224&f.flags?Jr(e,t).value:void 0}function Bs(e,t,n,r,o,i,s,a,u,c,l,p,h){var f=e.def.nodes[t];return hs(e,f,n,r,o,i,s,a,u,c,l,p,h),224&f.flags?Jr(e,t).value:void 0}function Ls(e){return na(Fs.detectChanges,cs,null,[e])}function js(e){return na(Fs.checkNoChanges,us,null,[e])}function Us(e){return na(Fs.destroy,ds,null,[e])}var Vs,zs,qs,Fs=function(e){return e[e.create=0]=\"create\",e[e.detectChanges=1]=\"detectChanges\",e[e.checkNoChanges=2]=\"checkNoChanges\",e[e.destroy=3]=\"destroy\",e[e.handleEvent=4]=\"handleEvent\",e}({});function Hs(e,t){zs=e,qs=t}function Ws(e,t,n,r){return Hs(e,t),na(Fs.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function $s(e,t){if(128&e.state)throw ro(Fs[Vs]);return Hs(e,Js(e,0)),e.def.updateDirectives(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=e.def.nodes[n];return 0===t?Gs(e,s,r,o):Ks(e,s,r,o),16384&s.flags&&Hs(e,Js(e,n)),224&s.flags?Jr(e,s.nodeIndex).value:void 0},e)}function Ys(e,t){if(128&e.state)throw ro(Fs[Vs]);return Hs(e,Xs(e,0)),e.def.updateRenderer(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=e.def.nodes[n];return 0===t?Gs(e,s,r,o):Ks(e,s,r,o),3&s.flags&&Hs(e,Xs(e,n)),224&s.flags?Jr(e,s.nodeIndex).value:void 0},e)}function Gs(e,t,n,r){if(ls.apply(void 0,p([e,t,n],r))){var o=1===n?r[0]:r;if(16384&t.flags){for(var i={},s=0;s<t.bindings.length;s++){var a=t.bindings[s],u=o[s];8&a.flags&&(i[(f=a.nonMinifiedName,\"ng-reflect-\"+(f=f.replace(/[$@]/g,\"_\").replace(Zs,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return\"-\"+e[1].toLowerCase()})))]=Qs(u))}var c=t.parent,l=Zr(e,c.nodeIndex).renderElement;if(c.element.name)for(var h in i)null!=(u=i[h])?e.renderer.setAttribute(l,h,u):e.renderer.removeAttribute(l,h);else e.renderer.setValue(l,\"bindings=\"+JSON.stringify(i,null,2))}}var f}function Ks(e,t,n,r){hs.apply(void 0,p([e,t,n],r))}var Zs=/([A-Z])/g;function Qs(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return\"[ERROR] Exception while trying to serialize the value\"}}function Js(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Xs(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ea=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=wo(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,\"elOrCompView\",{get:function(){return Zr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"injector\",{get:function(){return fi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"component\",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"providerTokens\",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"references\",{get:function(){var e={};if(this.elDef){ta(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&ta(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"componentRenderElement\",{get:function(){var e=function(e){for(;e&&!So(e);)e=e.parent;return e.parent?Zr(e.parent,wo(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"renderNode\",{get:function(){return 2&this.nodeDef.flags?_o(this.view,this.nodeDef):_o(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var i=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(t,n),s=-1;t.factory(function(){var t;return++s===i?(t=e.error).bind.apply(t,p([e],r)):oo}),s<i&&(e.error(\"Illegal state: the ViewDefinitionFactory did not call the logger!\"),e.error.apply(e,p(r)))},e}();function ta(e,t,n){for(var r in t.references)n[r]=Gi(e,t,t.references[r])}function na(e,t,n,r){var o=Vs,i=zs,s=qs;try{Vs=e;var a=t.apply(n,r);return zs=i,qs=s,Vs=o,a}catch(e){if(vt(e)||!zs)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),no(e,t),e}(e,ra())}}function ra(){return zs?new ea(zs,qs):null}var oa=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new ia(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),ia=function(){function e(e){this.delegate=e,this.data=this.delegate.data}return e.prototype.destroyNode=function(e){!function(e){Gn.delete(e.nativeNode)}(Kn(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=ra();if(r){var o=new Yn(n,null,r);o.name=e,Zn(o)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=ra();return n&&Zn(new $n(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=ra();return n&&Zn(new $n(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=Kn(e),r=Kn(t);n&&r&&n instanceof Yn&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=Kn(e),o=Kn(t),i=Kn(n);r&&o&&r instanceof Yn&&r.insertBefore(i,o),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=Kn(e),r=Kn(t);n&&r&&n instanceof Yn&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e){var t=this.delegate.selectRootElement(e),n=ra();return n&&Zn(new Yn(t,null,n)),t},e.prototype.setAttribute=function(e,t,n,r){var o=Kn(e);o&&o instanceof Yn&&(o.attributes[r?r+\":\"+t:t]=n),this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=Kn(e);r&&r instanceof Yn&&(r.attributes[n?n+\":\"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=Kn(e);n&&n instanceof Yn&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=Kn(e);n&&n instanceof Yn&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var o=Kn(e);o&&o instanceof Yn&&(o.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=Kn(e);r&&r instanceof Yn&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=Kn(e);r&&r instanceof Yn&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if(\"string\"!=typeof e){var r=Kn(e);r&&r.listeners.push(new function(e,t){this.name=e,this.callback=t}(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}(),sa=function(e){function t(t,n,r){var o=e.call(this)||this;return o.moduleType=t,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return o(t,e),t.prototype.create=function(e){!function(){if(!_s){_s=!0;var e=En()?{setCurrentNode:Hs,createRootView:Cs,createEmbeddedView:Es,createComponentView:Ts,createNgModuleRef:xs,overrideProvider:ks,overrideComponentView:Ps,clearOverrides:Rs,checkAndUpdateView:Ls,checkNoChangesView:js,destroyView:Us,createDebugContext:function(e,t){return new ea(e,t)},handleEvent:Ws,updateDirectives:$s,updateRenderer:Ys}:{setCurrentNode:function(){},createRootView:Ss,createEmbeddedView:ns,createComponentView:os,createNgModuleRef:vi,overrideProvider:oo,overrideComponentView:oo,clearOverrides:oo,checkAndUpdateView:cs,checkNoChangesView:us,destroyView:ds,createDebugContext:function(e,t){return new ea(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Ds:Bs,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Ds:Bs,e)}};eo.setCurrentNode=e.setCurrentNode,eo.createRootView=e.createRootView,eo.createEmbeddedView=e.createEmbeddedView,eo.createComponentView=e.createComponentView,eo.createNgModuleRef=e.createNgModuleRef,eo.overrideProvider=e.overrideProvider,eo.overrideComponentView=e.overrideComponentView,eo.clearOverrides=e.clearOverrides,eo.checkAndUpdateView=e.checkAndUpdateView,eo.checkNoChangesView=e.checkNoChangesView,eo.destroyView=e.destroyView,eo.resolveDep=Ui,eo.createDebugContext=e.createDebugContext,eo.handleEvent=e.handleEvent,eo.updateDirectives=e.updateDirectives,eo.updateRenderer=e.updateRenderer,eo.dirtyParentQueries=Wi}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var o in e.providersByKey)r[o]=e.providersByKey[o];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(No(this._ngModuleDefFactory));return eo.createNgModuleRef(this.moduleType,e||Ke.NULL,this._bootstrapComponents,t)},t}(on);function aa(e,t,n){e!=t&&ca(n)}function ua(e,t){null==e&&ca(t)}function ca(e){throw new Error(\"ASSERTION ERROR: \"+e)}var la=16,pa=0,ha=1,fa=2,da=3,ma=4,ga=5,ya=6,va=7,ba=8,wa=9,_a=10,Sa=11,Ca=14;function Oa(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Ea(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Ta(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function xa(e,t,n){16&e[ma]&&(Na(e[va],t.initHooks,t.checkHooks,n),e[ma]&=-17)}function Na(e,t,n,r){var o=r?t:n;o&&Aa(e,o)}function Aa(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}\"undefined\"==typeof ngDevMode||ngDevMode;var Ia=0,ka=4,Pa=\"ngProjectAs\";function Ra(e){return!!e.listen}var Ma={createRenderer:function(e,t){return document}};function Da(e,t){ua(e,\"should be called with a node\"),aa(e.tNode.type,t,\"should be a \"+function(e){return 1==e?\"Projection\":0==e?\"Container\":2==e?\"View\":3==e?\"Element\":\"<unknown>\"}(t))}function Ba(e){return Array.isArray(e)?e[0]:e}function La(e){if(2===e.tNode.type){var t=e.data;return t[fa]?t[fa][ga]:null}return e.tNode.next?e.view[e.tNode.next.index]:null}function ja(e){return e.tNode.child?Ba((2===e.tNode.type?e.data:e.view)[e.tNode.child.index]):null}function Ua(e){if(-1===e.tNode.index&&2===e.tNode.type){var t=e.data[Ca];return-1===t?null:e.view[t].dynamicLContainerNode}var n=e.tNode.parent;return Ba(n?e.view[n.index]:e.view[ga])}var Va=[];function za(e){for(var t=e[ga];2===t.tNode.type;)ngDevMode&&ua(e[ha],\"lViewData.parent\"),t=(e=e[ha])[ga];return ngDevMode&&Da(t,3),ngDevMode&&ua(t.data,\"node.data\"),t}function qa(e,t,n,r,o){0===e?Ra(t)?t.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===e?Ra(t)?t.removeChild(n,r):n.removeChild(r):2===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(r))}function Fa(e){if(-1===e[pa].childIndex)return null;var t=e[e[pa].childIndex];return t.data?t.data:t.dynamicLContainerNode.data}function Ha(e,t){var n;return(n=e[ga])&&2===n.tNode.type?Ua(n).data:e[ha]===t?null:e[ha]}function Wa(e){if(e[pa]){var t=e;!function(e){var t=e[pa].cleanup;if(null!=t){for(var n=0;n<t.length-1;n+=2)\"string\"==typeof t[n]?(Ba(e[t[n+1]]).native.removeEventListener(t[n],e[ba][t[n+2]],t[n+3]),n+=2):\"number\"==typeof t[n]?(0,e[ba][t[n]])():t[n].call(e[ba][t[n+1]]);e[ba]=null}}(t),function(e){var t,n=e[pa];null!=n&&null!=(t=n.destroyHooks)&&Aa(e[va],t)}(t),(r=(n=t)[pa]&&n[pa].pipeDestroyHooks)&&Aa(n,r),-1===t[pa].id&&Ra(t[Sa])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[Sa].destroy())}var n,r}var $a,Ya,Ga,Ka,Za,Qa,Ja,Xa,eu,tu=\"__ngHostLNode__\",nu=Promise.resolve(null),ru=[0,0],ou=new Array(la).fill(null),iu=!1,su=!0;function au(e,t){var n=Xa;return eu=e&&e[va],Za=e&&e[pa],Ja=e&&1==(1&e[ma]),su=e&&Za.firstTemplatePass,$a=e&&e[Sa],null!=t&&(Ga=t,Ka=!0),Xa=e,Qa=e&&e[da],n}function uu(e,t){t||(iu||Na(eu,Za.viewHooks,Za.viewCheckHooks,Ja),Xa[ma]&=-6),Xa[ma]|=16,Xa[ya]=-1,au(e,null)}function cu(){iu||xa(Xa,Za,Ja),function(e){for(var t=Fa(Xa);null!==t;t=t[fa])if(t.length<la&&null===t[Ia])for(var n=t,r=0;r<n[ka].length;r++){var o=n[ka][r],i=o.data;ngDevMode&&ua(i[pa],\"TView must be allocated\"),fu(o,i[pa],i[wa],2)}}(),iu||Na(eu,Za.contentHooks,Za.contentCheckHooks,Ja),Za.firstTemplatePass=su=!1,lu(Za.hostBindings),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t];e.directives[n].contentQueriesRefresh(n,e.contentQueries[t+1])}}(Za),function(e){if(null!=e)for(var t=0;t<e.length;t+=2)_u(e[t],e[t+1])}(Za.components)}function lu(e){if(null!=e)for(var t=Za.directives,n=0;n<e.length;n+=2){var r=e[n],o=t[r];o.hostBindings&&o.hostBindings(r,e[n+1])}}function pu(e,t,n,r,o){return[t,Xa,null,null,25|r,null,-1,null,null,n,Xa&&Xa[_a],e,o||null,null,-1,null]}function hu(e,t,n,r,o,i){var s=Ka?Ga:Ga&&Ua(Ga),a=s&&s.view===Xa?s.tNode:null,u=(Ka?Qa:Ga&&Ga.queries)||s&&s.queries&&s.queries.child(),c=null!=i,l=function(e,t,n,r,o,i){return{native:r,view:Xa,nodeInjector:n?n.nodeInjector:null,data:o,queries:i,tNode:null,dynamicLContainerNode:null}}(0,0,s,n,c?i:null,u);if(-1===e||2===t)l.tNode=(i?i[pa].node:null)||wu(t,e,null,null,a,null);else{var p=e+la;ngDevMode&&Nu(p);var h=Za.data;if(Xa[p]=l,p>=h.length){var f=h[p]=wu(t,p,r,o,a,null);if(!Ka&&Ga){var d=Ga.tNode;d.next=f,d.dynamicContainerNode&&(d.dynamicContainerNode.next=f)}}l.tNode=h[p],Ka&&(Qa=null,(null==Ga.tNode.child&&Ga.view===Xa||2===Ga.tNode.type)&&(Ga.tNode.child=l.tNode))}if(2==(2&t)&&c){var m=i;ngDevMode&&null!=m[ga]&&ca(\"lViewData[HOST_NODE] should not have been initialized\"),m[ga]=l,su&&(m[pa].node=l.tNode)}return Ga=l,Ka=!0,l}function fu(e,t,n,r){var o,i=Ka,s=Ga;if(null==e.data[ha]&&e.data[wa]&&!t.template)Cu(e.data[wa]);else try{Ka=!0,Ga=null,o=au(e.data,e),yu(),t.template(r,n),2&r?cu():e.data[pa].firstTemplatePass=su=!1}finally{uu(o,1==(1&r)),Ka=i,Ga=s}return e}function du(e,t,n,r){var o=au(t,e);try{Ya.begin&&Ya.begin(),r?(yu(),r(mu(t),n),cu()):(iu||(xa(Xa,Za,Ja),Na(eu,Za.contentHooks,Za.contentCheckHooks,Ja)),lu(ru),_u(0,la))}finally{Ya.end&&Ya.end(),uu(o)}}function mu(e){return 1&e[ma]?3:2}var gu=null;function yu(){gu=null}function vu(e,t,n,r,o){return ngDevMode&&ngDevMode.tView++,{id:e,template:t,viewQuery:o,node:null,data:ou.slice(),childIndex:-1,bindingStartIndex:-1,directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,hostBindings:null,contentQueries:null,components:null,directiveRegistry:\"function\"==typeof n?n():n,pipeRegistry:\"function\"==typeof r?r():r,currentMatches:null}}function bu(e,t){ngDevMode&&xu(-1),Ya=e;var n,r=e.createRenderer(null,null),o=\"string\"==typeof t?Ra(r)?r.selectRootElement(t):r.querySelector(t):t;if(ngDevMode&&!o)throw new Error(\"Renderer: \"+(\"string\"==typeof t?\"Host node with selector not found:\":\"Host node is required:\")+\" [\"+(\"function\"==typeof(n=t)?n.name||n:\"string\"==typeof n?n:null==n?\"\":\"\"+n)+\"]\");return o}function wu(e,t,n,r,o,i){return ngDevMode&&ngDevMode.tNode++,{type:e,index:t,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:o,dynamicContainerNode:null,detached:null,stylingTemplate:null,projection:null}}function _u(e,t){ngDevMode&&xu(t);var n=Xa[t];ngDevMode&&Da(n,3),ngDevMode&&ua(n.data,\"Component's host node should have an LViewData attached.\");var r=n.data;Su(r)&&6&r[ma]&&(ngDevMode&&xu(e,eu),Tu(r,n,eu[e]))}function Su(e){return 8==(8&e[ma])}function Cu(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Au(n);ngDevMode&&ua(r.data,\"Component host node should be attached to an LView\"),du(r,Ou(n),n)}}function Ou(e){ngDevMode&&ua(e,\"component\");for(var t=Au(e).view;t[ha];)t=t[ha];return t}function Eu(e){var t=Au(e);ngDevMode&&ua(t.data,\"Component host node should be attached to an LViewData instance.\"),Tu(t.data,t,e)}function Tu(e,t,n){var r=au(e,t),o=e[pa],i=o.template,s=o.viewQuery;try{yu(),function(t,n,r){t&&1&e[ma]&&t(1,r)}(s,0,n),i(mu(e),n),cu(),function(e,t){e&&e(2,t)}(s,n)}finally{uu(r)}}function xu(e,t){null==t&&(t=Xa),function(e,t){e>=(t?t.length:0)&&ca(\"index expected to be a valid data index\")}(e,t||Xa)}function Nu(e,t){null==t&&(t=Xa),aa(t.length,e,\"index \"+e+\" expected to be at the end of arr (length \"+t.length+\")\")}function Au(e){ngDevMode&&ua(e,\"expecting component got null\");var t=e[tu];return ngDevMode&&ua(e,\"object is not a component\"),t}var Iu=nu;function ku(e){return{components:[],scheduler:e,clean:Iu}}var Pu=function(){function e(e,t){this._view=e,this._appRef=null,this._viewContainerRef=null,this._lViewNode=null,this.context=t}return e.prototype._setComponentContext=function(e,t){this._view=e,this.context=t},Object.defineProperty(e.prototype,\"destroyed\",{get:function(){return 32==(32&this._view[ma])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e,t;this._viewContainerRef&&Su(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),Ra(t=(e=this._view)[Sa])&&t.destroyNode&&function(t,n,r,o,i,s){for(var a=e[ga],u=-1;a;){var c=null,l=a.tNode.type;if(3===l)qa(2,o,null,a.native,s),a.dynamicLContainerNode&&qa(2,o,null,a.dynamicLContainerNode.native,s);else if(0===l){qa(2,o,null,a.native,s);var p=a,h=p.dynamicLContainerNode?p.dynamicLContainerNode.data:p.data;(c=h[ka].length?ja(h[ka][0]):null)&&(s=p.dynamicLContainerNode?p.dynamicLContainerNode.native:p.native)}else if(1===l){var f=za(a.view),d=f.tNode.projection[a.tNode.projection];Va[++u]=a,c=d?f.data[ha][d.index]:null}else c=ja(a);if(null===c)for(null===(c=La(a))&&8192&a.tNode.flags&&(c=La(Va[u--]));a&&!c;){if(null===(a=Ua(a))||a===n)return null;a.tNode.next||0!==l||(s=a.native),c=La(a)}a=c}}(0,e[ga],0,t),function(e){if(-1===e[pa].childIndex)return Wa(e);for(var t=Fa(e);t;){var n=null;if(t.length>=la?t[pa].childIndex>-1&&(n=Fa(t)):t[ka].length&&(n=t[ka][0].data),null==n){for(;t&&!t[fa]&&t!==e;)Wa(t),t=Ha(t,e);Wa(t||e),n=t&&t[fa]}t=n}}(e),e[ma]|=32},e.prototype.onDestroy=function(e){var t,n;n=e,function(e){return e[ba]||(e[ba]=[])}(t=this._view).push(n),t[pa].firstTemplatePass&&function(e){return e[pa].cleanup||(e[pa].cleanup=[])}(t).push(t[ba].length-1,null)},e.prototype.markForCheck=function(){!function(e){for(var t=e;null!=t[ha];)t[ma]|=4,t=t[ha];var n,r;t[ma]|=4,ngDevMode&&ua(t[wa],\"rootContext\"),(n=t[wa]).clean==nu&&(n.clean=new Promise(function(e){return r=e}),n.scheduler(function(){Cu(n),r(null),n.clean=nu}))}(this._view)},e.prototype.detach=function(){this._view[ma]&=-9},e.prototype.reattach=function(){this._view[ma]|=8},e.prototype.detectChanges=function(){Eu(this.context)},e.prototype.checkNoChanges=function(){!function(e){iu=!0;try{Eu(e)}finally{iu=!1}}(this.context)},e.prototype.attachToViewContainerRef=function(e){this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){this._appRef=e},e}(),Ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.resolveComponentFactory=function(e){return ngDevMode&&(void 0===t&&(t=\"Type passed in is not ComponentType, it does not have 'ngComponentDef' property.\"),e.ngComponentDef||ca(t)),new Lu(e.ngComponentDef);var t},t}(en);function Mu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Du=new ve(\"ROOT_CONTEXT_TOKEN\",{providedIn:\"root\",factory:function(){return ku(pt(Bu))}}),Bu=new ve(\"SCHEDULER_TOKEN\",{providedIn:\"root\",factory:function(){return requestAnimationFrame.bind(window)}}),Lu=function(e){function t(t){var n=e.call(this)||this;return n.componentDef=t,n.componentType=t.type,n.selector=t.selectors[0][0],n.ngContentSelectors=[],n}return o(t,e),Object.defineProperty(t.prototype,\"inputs\",{get:function(){return Mu(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"outputs\",{get:function(){return Mu(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){var o,i,s=void 0===n,a=r?r.injector.get(Rn):Ma,u=s?(o=this.selector,Ra(i=a.createRenderer(null,this.componentDef.rendererType)||$a)?i.createElement(o,gu):null===gu?i.createElement(o):i.createElementNS(gu,o)):bu(a,n),c=r&&!s?r.injector.get(Du):ku(requestAnimationFrame.bind(window)),l=pu(a.createRenderer(u,this.componentDef.rendererType),vu(-1,null,null,null,null),c,this.componentDef.onPush?4:2);l[_a]=r&&r.injector||null;var p,h,f=au(l,null);try{if(a.begin&&a.begin(),h=function(e,t,n,r){Ka=!1,Ga=null;var o,i=hu(0,3,t,null,null,pu($a,(o=n.template).ngPrivateData||(o.ngPrivateData=vu(-1,o,n.directiveDefs,n.pipeDefs,n.viewQuery)),null,n.onPush?4:2,r));return su&&(i.tNode.flags=4096,n.diPublic&&n.diPublic(n),Za.directives=[n]),i}(0,u,this.componentDef),c.components.push(p=function(e,t,n){if(ngDevMode&&aa(Xa[ya],-1,\"directives should be created before any bindings\"),ngDevMode&&aa(Ka,!0,\"previousOrParentNode should be a parent\"),Object.defineProperty(t,tu,{enumerable:!1,value:Ga}),null==eu&&(Xa[va]=eu=[]),ngDevMode&&Nu(e,eu),eu[e]=t,su){var r=Ga.tNode.flags;0==(4095&r)?Ga.tNode.flags=e<<14|4096&r|1:(ngDevMode&&4095==(4095&r)&&ca(\"Reached the max number of directives\"),Ga.tNode.flags++)}else{var o=n.diPublic;o&&o(n)}return null!=n.attributes&&3==Ga.tNode.type&&function(e,t){for(var n=Ra($a),r=0;r<t.length;){var o=t[r];if(1===o)break;if(o===Pa)r+=2;else if(ngDevMode&&ngDevMode.rendererSetAttribute++,0===o){var i=t[r+1],s=t[r+2],a=t[r+3];n?$a.setAttribute(e,s,a,i):e.setAttributeNS(i,s,a),r+=4}else a=t[r+1],n?$a.setAttribute(e,o,a):e.setAttribute(o,a),r+=2}}(Ga.native,n.attributes),t}(0,this.componentDef.factory(),this.componentDef)),function(e,t,n){e&&null!=e.changeDetectorRef&&e.changeDetectorRef._setComponentContext(h.data,p)}(h.nodeInjector),function(e,t){var n=Au(e),r=n.view[pa];(function(e,t,n,r){ngDevMode&&aa(r.firstTemplatePass,!0,\"Should only be called on first template pass\"),t&&(r.initHooks||(r.initHooks=[])).push(0,t),n&&((r.initHooks||(r.initHooks=[])).push(0,n),(r.checkHooks||(r.checkHooks=[])).push(0,n))})(0,t.onInit,t.doCheck,r),function(e,t){if(t.firstTemplatePass)for(var n=e>>14,r=n+(4095&e),o=n;o<r;o++){var i=t.directives[o];Oa(i,t,o),Ea(i,t,o),Ta(i,t,o)}}(n.tNode.flags,r)}(p,this.componentDef),t)for(var d=0,m=h.tNode.projection=[],g=0;g<t.length;g++){for(var y=t[g],v=null,b=null,w=0;w<y.length;w++){var _=hu(++d,3,y[w],null,null);b?b.next=_.tNode:v=_.tNode,b=_.tNode}m.push(v)}fu(h,h.data[pa],p,1),h.data[ma]&=-2}finally{au(f,null),a.end&&a.end()}var S=new ju(this.componentType,p,l,e,u);return s&&(S.hostView._lViewNode.tNode.child=h.tNode),S},t}(Gt),ju=function(e){function t(t,n,r,o,i){var s=e.call(this)||this;return s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new Pu(r,n),s.hostView._lViewNode=hu(-1,2,null,null,null,r),s.injector=o,s.location=new Bn(i),s.componentType=t,s}return o(t,e),t.prototype.destroy=function(){ngDevMode&&ua(this.destroyCbs,\"NgModule already destroyed\"),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){ngDevMode&&ua(this.destroyCbs,\"NgModule already destroyed\"),this.destroyCbs.push(e)},t}(Yt),Uu={provide:en,useFactory:function(){return new Ru},deps:[]},Vu=function(e){function t(t,n){var r=e.call(this)||this;r._bootstrapComponents=[],r.destroyCbs=[];var o=t.ngModuleDef;return ngDevMode&&ua(o,\"NgModule '\"+Be(t)+\"' is not a subtype of 'NgModuleType'.\"),r._bootstrapComponents=o.bootstrap,r.injector=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||xt(),new Nt(e,n,t)}(t,n,[Uu,{provide:rn,useValue:r}]),r.instance=r.injector.get(t),r.componentFactoryResolver=new Ru,r}return o(t,e),t.prototype.destroy=function(){ngDevMode&&ua(this.destroyCbs,\"NgModule already destroyed\"),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){ngDevMode&&ua(this.destroyCbs,\"NgModule already destroyed\"),this.destroyCbs.push(e)},t}(rn);!function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}o(t,e),t.prototype.create=function(e){return new Vu(this.moduleType,e)}}(on);var zu=function(){},qu=function(){this.title=\"KPNodeJSWebApp : Tour of Heros\"},Fu=new M(function(e){return e.complete()});function Hu(e){return e?function(e){return new M(function(t){return e.schedule(function(){return t.complete()})})}(e):Fu}function Wu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,o=e[e.length-1];switch(B(o)?e.pop():o=void 0,e.length){case 0:return Hu(o);case 1:return o?Q(e,o):(n=e[0],(r=new M(function(e){e.next(n),e.complete()}))._isScalar=!0,r.value=n,r);default:return Q(e,o)}}function $u(){return Error.call(this),this.message=\"no elements in sequence\",this.name=\"EmptyError\",this}$u.prototype=Object.create(Error.prototype);var Yu=$u,Gu=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,\"value\",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ie;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ue);function Ku(e,t){return X(e,t,1)}function Zu(e,t){return function(n){return n.lift(new Qu(e,t))}}var Qu=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ju(e,this.predicate,this.thisArg))},e}(),Ju=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(N);function Xu(){return Error.call(this),this.message=\"argument out of range\",this.name=\"ArgumentOutOfRangeError\",this}Xu.prototype=Object.create(Error.prototype);var ec=Xu;function tc(e){return function(t){return 0===e?Hu():t.lift(new nc(e))}}var nc=function(){function e(e){if(this.total=e,this.total<0)throw new ec}return e.prototype.call=function(e,t){return t.subscribe(new rc(e,this.total))},e}(),rc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(N);function oc(e,t,n){return function(r){return r.lift(new ic(e,t,n))}}var ic=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new sc(e,this.nextOrObserver,this.error,this.complete))},e}(),sc=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=k,i._tapError=k,i._tapComplete=k,i._tapError=r||k,i._tapComplete=o||k,h(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||k,i._tapError=n.error||k,i._tapComplete=n.complete||k),i}return o(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(N),ac=function(e){return void 0===e&&(e=uc),oc({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function uc(){return new Yu}function cc(e){return void 0===e&&(e=null),function(t){return t.lift(new lc(e))}}var lc=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new pc(e,this.defaultValue))},e}(),pc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(N);function hc(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Zu(function(t,n){return e(t,n,r)}):ne,tc(1),n?cc(t):ac(function(){return new Yu}))}}function fc(e){return function(t){var n=new dc(e),r=t.lift(n);return n.caught=r}}var dc=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new mc(e,this.selector,this.caught))},e}(),mc=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new L(this,void 0,void 0);this.add(r),$(this,n,void 0,void 0,r)}},t}(Y);function gc(e,t){return function(n){return n.lift(new yc(e,t,n))}}var yc=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new vc(e,this.predicate,this.thisArg,this.source))},e}(),vc=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(N),bc=function(){function e(e){if(this.total=e,this.total<0)throw new ec}return e.prototype.call=function(e,t){return t.subscribe(new wc(e,this.total))},e}(),wc=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return o(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(N);function _c(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Zu(function(t,n){return e(t,n,r)}):ne,function(e){return e.lift(new bc(1))},n?cc(t):ac(function(){return new Yu}))}}function Sc(){return re(1)}function Cc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Oc(e,t,n))}}var Oc=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Ec(e,this.accumulator,this.seed,this.hasSeed))},e}(),Ec=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return o(t,e),Object.defineProperty(t.prototype,\"seed\",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(N),Tc=function(){},xc=new ve(\"Location Initialized\"),Nc=function(){},Ac=new ve(\"appBaseHref\"),Ic=function(){function e(e){var n=this;this._subject=new ln,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(kc(r)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=\"\"),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,kc(e)))},e.prototype.prepareExternalUrl=function(e){return e&&\"/\"!==e[0]&&(e=\"/\"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=\"\"),void 0===n&&(n=null),this._platformStrategy.pushState(n,\"\",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=\"\"),void 0===n&&(n=null),this._platformStrategy.replaceState(n,\"\",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&\"?\"!==e[0]?\"?\"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith(\"/\")&&n++,t.startsWith(\"/\")&&n++,2==n?e+t.substring(1):1==n?e+t:e+\"/\"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\\?|$/),n=t&&t.index||e.length;return e.slice(0,n-(\"/\"===e[n-1]?1:0))+e.slice(n)},e}();function kc(e){return e.replace(/\\/index.html$/,\"\")}var Pc=function(e){function t(t,n){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref=\"\",null!=n&&(r._baseHref=n),r}return o(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t=\"#\"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=Ic.joinWithSlash(this._baseHref,e);return t.length>0?\"#\"+t:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Ic.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Ic.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},s([a(1,Ve()),a(1,Ue(Ac))],t)}(Nc),Rc=function(e){function t(t,n){var r=e.call(this)||this;if(r._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error(\"No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\");return r._baseHref=n,r}return o(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return Ic.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+Ic.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?\"\"+t+n:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Ic.normalizeQueryParams(r));this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+Ic.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},s([a(1,Ve()),a(1,Ue(Ac))],t)}(Nc),Mc=void 0,Dc=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],Mc],[[\"AM\",\"PM\"],Mc,Mc],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],Mc,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],Mc,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",Mc,\"{1} 'at' {0}\",Mc],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xd7\",\"\\u2030\",\"\\u221e\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xa4#,##0.00\",\"#E0\"],\"$\",\"US Dollar\",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\\.?/,\"\").length;return 1===t&&0===n?1:5}],Bc={},Lc=function(e){return e[e.Zero=0]=\"Zero\",e[e.One=1]=\"One\",e[e.Two=2]=\"Two\",e[e.Few=3]=\"Few\",e[e.Many=4]=\"Many\",e[e.Other=5]=\"Other\",e}({}),jc=new ve(\"UseV4Plurals\"),Uc=function(){},Vc=function(e){function t(t,n){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=n,r}return o(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,\"-\"),n=Bc[t];if(n)return n;var r=t.split(\"-\")[0];if(n=Bc[r])return n;if(\"en\"===r)return Dc;throw new Error('Missing locale data for the locale \"'+e+'\".')}(e)[18]}(t||this.locale)(e)){case Lc.Zero:return\"zero\";case Lc.One:return\"one\";case Lc.Two:return\"two\";case Lc.Few:return\"few\";case Lc.Many:return\"many\";default:return\"other\"}},s([a(0,Ue(vr)),a(1,Ve()),a(1,Ue(jc))],t)}(Uc);function zc(e,t){var n,r;t=encodeURIComponent(t);try{for(var o=c(e.split(\";\")),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.indexOf(\"=\"),u=l(-1==a?[s,\"\"]:[s.slice(0,a),s.slice(a+1)],2),p=u[1];if(u[0].trim()===t)return decodeURIComponent(p)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var qc=function(){function e(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}return Object.defineProperty(e.prototype,\"first\",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"last\",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"even\",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"odd\",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),Fc=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,\"ngForOf\",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngForTrackBy\",{get:function(){return this._trackByFn},set:function(e){En()&&null!=e&&\"function\"!=typeof e&&console&&console.warn&&console.warn(\"trackBy must be a function, but received \"+JSON.stringify(e)+\". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.\"),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngForTemplate\",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error(\"Cannot find a differ supporting object '\"+e+\"' of type '\"+((t=e).name||typeof t)+\"'. NgFor only supports binding to Iterables such as Arrays.\")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,r,o){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new qc(null,t._ngForOf,-1,-1),o),s=new Hc(e,i);n.push(s)}else null==o?t._viewContainer.remove(r):(i=t._viewContainer.get(r),t._viewContainer.move(i,o),s=new Hc(e,i),n.push(s))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e}(),Hc=function(e,t){this.record=e,this.view=t},Wc=function(){function e(e,t){this._viewContainer=e,this._context=new $c,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,\"ngIf\",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngIfThen\",{set:function(e){Yc(\"ngIfThen\",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngIfElse\",{set:function(e){Yc(\"ngIfElse\",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e}(),$c=function(){this.$implicit=null,this.ngIf=null};function Yc(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+\" must be a TemplateRef, but received '\"+Be(t)+\"'.\")}function Gc(e,t){return Error(\"InvalidPipeArgument: '\"+t+\"' for pipe '\"+Be(e)+\"'\")}var Kc=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}(),Zc=new(function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},e.prototype.dispose=function(e){},e.prototype.onDestroy=function(e){},e}()),Qc=new Kc,Jc=function(){function e(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var t;return t=e,e.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},e.prototype.transform=function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Jn.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)},e.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})},e.prototype._selectStrategy=function(e){if(Rt(e))return Zc;if(Mt(e))return Qc;throw Gc(t,e)},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},e}(),Xc=function(){function e(){}var t;return t=e,e.prototype.transform=function(e){if(!e)return e;if(\"string\"!=typeof e)throw Gc(t,e);return e.toUpperCase()},e}(),el=function(){},tl=new ve(\"DocumentToken\"),nl=\"server\",rl=function(){function e(){}return e.ngInjectableDef=ye({providedIn:\"root\",factory:function(){return new ol(pt(tl),window)}}),e}(),ol=function(){function e(e,t){this.document=e,this.window=t,this.offset=function(){return[0,0]}}return e.prototype.setOffset=function(e){this.offset=Array.isArray(e)?function(){return e}:e},e.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},e.prototype.scrollToPosition=function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])},e.prototype.scrollToAnchor=function(e){if(this.supportScrollRestoration()){var t=this.document.querySelector(\"#\"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector(\"[name='\"+e+\"']\");if(n)return void this.scrollToElement(n)}},e.prototype.setHistoryScrollRestoration=function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}},e.prototype.scrollToElement=function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},e.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}},e}(),il=null;function sl(){return il}var al,ul={class:\"className\",innerHtml:\"innerHTML\",readonly:\"readOnly\",tabindex:\"tabIndex\"},cl={\"\\b\":\"Backspace\",\"\\t\":\"Tab\",\"\\x7f\":\"Delete\",\"\\x1b\":\"Escape\",Del:\"Delete\",Esc:\"Escape\",Left:\"ArrowLeft\",Right:\"ArrowRight\",Up:\"ArrowUp\",Down:\"ArrowDown\",Menu:\"ContextMenu\",Scroll:\"ScrollLock\",Win:\"OS\"},ll={A:\"1\",B:\"2\",C:\"3\",D:\"4\",E:\"5\",F:\"6\",G:\"7\",H:\"8\",I:\"9\",J:\"*\",K:\"+\",M:\"-\",N:\".\",O:\"/\",\"`\":\"0\",\"\\x90\":\"NumLock\"};Ie.Node&&(al=Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var pl,hl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.parse=function(e){throw new Error(\"parse not implemented\")},t.makeCurrent=function(){var e;e=new t,il||(il=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var r;(r=e)[t].apply(r,p(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,\"attrToPropMap\",{get:function(){return ul},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return al.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent(\"MouseEvent\");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent(\"Event\");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return\"content\"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,\"content\")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement(\"template\");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement(\"SCRIPT\");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement(\"style\");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=\"\"},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||\"\";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var o=n.item(r);t.set(o.name,o.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument(\"fakeTitle\")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||\"\"},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&\"TEMPLATE\"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute(\"href\")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return\"Unidentified\";t.startsWith(\"U+\")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ll.hasOwnProperty(t)&&(t=ll[t]))}return cl[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return\"window\"===t?window:\"document\"===t?e:\"body\"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=fl||(fl=document.querySelector(\"base\"))?fl.getAttribute(\"href\"):null;return null==n?null:(t=n,pl||(pl=document.createElement(\"a\")),pl.setAttribute(\"href\",t),\"/\"===pl.pathname.charAt(0)?pl.pathname:\"/\"+pl.pathname)},t.prototype.resetBaseElement=function(){fl=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,\"data-\"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,\"data-\"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return\"function\"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return zc(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement(\"div\",document);if(null!=t.getStyle(n,\"animationName\"))t._animationPrefix=\"\";else for(var r=[\"Webkit\",\"Moz\",\"O\",\"ms\"],o=0;o<r.length;o++)if(null!=t.getStyle(n,r[o]+\"AnimationName\")){t._animationPrefix=\"-\"+r[o].toLowerCase()+\"-\";break}var i={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};Object.keys(i).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=i[e])})}catch(e){t._animationPrefix=null,t._transitionEnd=null}return t}return o(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+\"/../\"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return\"function\"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:\"\"},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:\"\"},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,\"attrToPropMap\",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),fl=null,dl=tl;function ml(){return!!window.history.pushState}var gl=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return o(t,e),t.prototype._init=function(){this.location=sl().getLocation(),this._history=sl().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return sl().getBaseHref(this._doc)},t.prototype.onPopState=function(e){sl().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"popstate\",e,!1)},t.prototype.onHashChange=function(e){sl().getGlobalEventTarget(this._doc,\"window\").addEventListener(\"hashchange\",e,!1)},Object.defineProperty(t.prototype,\"pathname\",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"search\",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hash\",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){ml()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){ml()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},s([a(0,Ue(dl)),u(\"design:paramtypes\",[Object])],t)}(Tc),yl=new ve(\"TRANSITION_ID\"),vl=[{provide:Dt,useFactory:function(e,t,n){return function(){n.get(Bt).donePromise.then(function(){var n=sl();Array.prototype.slice.apply(n.querySelectorAll(t,\"style[ng-transition]\")).filter(function(t){return n.getAttribute(t,\"ng-transition\")===e}).forEach(function(e){return n.remove(e)})})}},deps:[yl,dl,Ke],multi:!0}],bl=function(){function e(){}return e.init=function(){var t;t=new e,_n=t},e.prototype.addToWindow=function(e){Ie.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error(\"Could not find testability for element.\");return r},Ie.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ie.getAllAngularRootElements=function(){return e.getAllRootElements()},Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(function(e){var t=Ie.getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(o)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?sl().isShadowRoot(t)?this.findTestabilityInTree(e,sl().getHost(t),!0):this.findTestabilityInTree(e,sl().parentElement(t),!0):null},e}();function wl(e,t){\"undefined\"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}var _l={ApplicationRef:kn,NgZone:pn};function Sl(e){return Kn(e)}var Cl=new ve(\"EventManagerPlugins\"),Ol=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(\"No event manager plugin found for event \"+e)},s([a(0,Ue(Cl))],e)}(),El=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var r=sl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(\"Unsupported event target \"+r+\" for event \"+t);return this.addEventListener(r,t,n)},e}(),Tl=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),xl=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return o(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement(\"style\");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return sl().remove(e)})},s([a(0,Ue(dl))],t)}(Tl),Nl={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},Al=/%COMP%/g,Il=\"_nghost-%COMP%\",kl=\"_ngcontent-%COMP%\";function Pl(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Pl(e,o,n):(o=o.replace(Al,e),n.push(o))}return n}function Rl(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Ml=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new Dl(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ft.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Ul(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ft.Native:case ft.ShadowDom:return new Vl(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Pl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Dl=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(Nl[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e){var t=\"string\"==typeof e?document.querySelector(e):e;if(!t)throw new Error('The selector \"'+e+'\" did not match any elements');return t.textContent=\"\",t},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+\":\"+t;var o=Nl[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=Nl[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+\":\"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,r){r&Mn.DashCase?e.style.setProperty(t,n,r&Mn.Important?\"important\":\"\"):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&Mn.DashCase?e.style.removeProperty(t):e.style[t]=\"\"},e.prototype.setProperty=function(e,t,n){Ll(t,\"property\"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return Ll(t,\"listener\"),\"string\"==typeof e?this.eventManager.addGlobalEventListener(e,t,Rl(n)):this.eventManager.addEventListener(e,t,Rl(n))},e}(),Bl=\"@\".charCodeAt(0);function Ll(e,t){if(e.charCodeAt(0)===Bl)throw new Error(\"Found the synthetic \"+t+\" \"+e+'. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.')}var jl,Ul=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.component=r;var i=Pl(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=kl.replace(Al,r.id),o.hostAttr=Il.replace(Al,r.id),o}return o(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,\"\")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,\"\"),r},t}(Dl),Vl=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=o.encapsulation===ft.ShadowDom?r.attachShadow({mode:\"open\"}):r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var s=Pl(o.id,o.styles,[]),a=0;a<s.length;a++){var u=document.createElement(\"style\");u.textContent=s[a],i.shadowRoot.appendChild(u)}return i}return o(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Dl),zl=\"undefined\"!=typeof Zone&&Zone.__symbol__||function(e){return\"__zone_symbol__\"+e},ql=zl(\"addEventListener\"),Fl=zl(\"removeEventListener\"),Hl={},Wl=\"__zone_symbol__propagationStopped\";\"undefined\"!=typeof Zone&&Zone[zl(\"BLACK_LISTED_EVENTS\")]&&(jl={});var $l=function(e){return!!jl&&jl.hasOwnProperty(e)},Yl=function(e){var t=Hl[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==e[Wl];i++){var s;(s=o[i]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Gl=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.ngZone=n,r&&function(e){return e===nl}(r)||o.patchEvent(),o}return o(t,e),t.prototype.patchEvent=function(){if(\"undefined\"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Wl]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var r=this,o=n;if(!e[ql]||pn.isInAngularZone()&&!$l(t))e.addEventListener(t,o,!1);else{var i=Hl[t];i||(i=Hl[t]=zl(\"ANGULAR\"+t+\"FALSE\"));var s=e[i],a=s&&s.length>0;s||(s=e[i]=[]);var u=$l(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:o});else{for(var c=!1,l=0;l<s.length;l++)if(s[l].handler===o){c=!0;break}c||s.push({zone:u,handler:o})}a||e[ql](t,Yl,!1)}return function(){return r.removeEventListener(e,t,o)}},t.prototype.removeEventListener=function(e,t,n){var r=e[Fl];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var o=Hl[t],i=o&&e[o];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);for(var s=!1,a=0;a<i.length;a++)if(i[a].handler===n){s=!0,i.splice(a,1);break}s?0===i.length&&r.apply(e,[t,Yl,!1]):e.removeEventListener.apply(e,[t,n,!1])},s([a(0,Ue(dl)),a(2,Ve()),a(2,Ue(zt))],t)}(El),Kl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Zl=new ve(\"HammerGestureConfig\"),Ql=new ve(\"HammerLoader\"),Jl=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get(\"pinch\").set({enable:!0}),t.get(\"rotate\").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),Xl=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._config=n,i.console=r,i.loader=o,i}return o(t,e),t.prototype.supports=function(e){return!(!Kl.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The \"'+e+'\" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var r=this,o=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var i=!1,s=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn(\"The custom HAMMER_LOADER completed, but Hammer.JS is not present.\"),void(s=function(){});i||(s=r.addEventListener(e,t,n))}).catch(function(){r.console.warn('The \"'+t+'\" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(e),s=function(e){o.runGuarded(function(){n(e)})};return i.on(t,s),function(){i.off(t,s),\"function\"==typeof i.destroy&&i.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},s([a(0,Ue(dl)),a(1,Ue(Zl)),a(3,Ve()),a(3,Ue(Ql))],t)}(El),ep=[\"alt\",\"control\",\"meta\",\"shift\"],tp={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},np=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,r){var o=n.parseEventName(t),i=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return sl().onAndCancel(e,o.domEventName,i)})},t.parseEventName=function(e){var t=e.toLowerCase().split(\".\"),r=t.shift();if(0===t.length||\"keydown\"!==r&&\"keyup\"!==r)return null;var o=n._normalizeKey(t.pop()),i=\"\";if(ep.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+\".\")}),i+=o,0!=t.length||0===o.length)return null;var s={};return s.domEventName=r,s.fullKey=i,s},t.getEventFullKey=function(e){var t=\"\",n=sl().getEventKey(e);return\" \"===(n=n.toLowerCase())?n=\"space\":\".\"===n&&(n=\"dot\"),ep.forEach(function(r){r!=n&&(0,tp[r])(e)&&(t+=r+\".\")}),t+=n},t.eventCallback=function(e,t,r){return function(o){n.getEventFullKey(o)===e&&r.runGuarded(function(){return t(o)})}},t._normalizeKey=function(e){switch(e){case\"esc\":return\"escape\";default:return e}},n=s([a(0,Ue(dl))],t)}(El),rp=function(){},op=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return o(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case Wr.NONE:return t;case Wr.HTML:return t instanceof sp?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"HTML\"),function(e,t){var n=null;try{Ar=Ar||new Cr(e);var r=t?String(t):\"\";n=Ar.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error(\"Failed to sanitize html because the input is unstable\");o--,r=i,i=n.innerHTML,n=Ar.getInertBodyElement(r)}while(r!==i);var s=new jr,a=s.sanitizeChildren(qr(n)||n);return En()&&s.sanitizedSomething&&console.warn(\"WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss).\"),a}finally{if(n)for(var u=qr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t)));case Wr.STYLE:return t instanceof ap?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"Style\"),function(e){if(!(e=String(e).trim()))return\"\";var t=e.match(Hr);return t&&Tr(t[1])===t[1]||e.match(Fr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);\"'\"===o&&n?t=!t:'\"'===o&&t&&(n=!n)}return t&&n}(e)?e:(En()&&console.warn(\"WARNING: sanitizing unsafe style value \"+e+\" (see http://g.co/ng/security#xss).\"),\"unsafe\")}(t));case Wr.SCRIPT:if(t instanceof up)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"Script\"),new Error(\"unsafe value used in a script context\");case Wr.URL:return t instanceof lp||t instanceof cp?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,\"URL\"),Tr(String(t)));case Wr.RESOURCE_URL:if(t instanceof lp)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,\"ResourceURL\"),new Error(\"unsafe value used in a resource URL context (see http://g.co/ng/security#xss)\");default:throw new Error(\"Unexpected SecurityContext \"+e+\" (see http://g.co/ng/security#xss)\")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof ip)throw new Error(\"Required a safe \"+t+\", got a \"+e.getTypeName()+\" (see http://g.co/ng/security#xss)\")},t.prototype.bypassSecurityTrustHtml=function(e){return new sp(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new ap(e)},t.prototype.bypassSecurityTrustScript=function(e){return new up(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new cp(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new lp(e)},s([a(0,Ue(dl))],t)}(rp),ip=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return\"SafeValue must use [property]=binding: \"+this.changingThisBreaksApplicationSecurity+\" (see http://g.co/ng/security#xss)\"},e}(),sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return\"HTML\"},t}(ip),ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return\"Style\"},t}(ip),up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return\"Script\"},t}(ip),cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return\"URL\"},t}(ip),lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTypeName=function(){return\"ResourceURL\"},t}(ip),pp=xn(yr,\"browser\",[{provide:zt,useValue:\"browser\"},{provide:Vt,useValue:function(){hl.makeCurrent(),bl.init()},multi:!0},{provide:Tc,useClass:gl,deps:[dl]},{provide:dl,useFactory:function(){return document},deps:[]}]);function hp(){return new _t}var fp=function(){function e(e){if(e)throw new Error(\"BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.\")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Lt,useValue:e.appId},{provide:yl,useExisting:Lt},vl]}},t=s([a(0,Ve()),a(0,qe()),a(0,Ue(t))],e)}();\"undefined\"!=typeof window&&window;var dp=function(e,t){this.id=e,this.url=t},mp=function(e){function t(t,n,r,o){void 0===r&&(r=\"imperative\"),void 0===o&&(o=null);var i=e.call(this,t,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return o(t,e),t.prototype.toString=function(){return\"NavigationStart(id: \"+this.id+\", url: '\"+this.url+\"')\"},t}(dp),gp=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o}return o(t,e),t.prototype.toString=function(){return\"NavigationEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"')\"},t}(dp),yp=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.reason=r,o}return o(t,e),t.prototype.toString=function(){return\"NavigationCancel(id: \"+this.id+\", url: '\"+this.url+\"')\"},t}(dp),vp=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.error=r,o}return o(t,e),t.prototype.toString=function(){return\"NavigationError(id: \"+this.id+\", url: '\"+this.url+\"', error: \"+this.error+\")\"},t}(dp),bp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return\"RoutesRecognized(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(dp),wp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return\"GuardsCheckStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(dp),_p=function(e){function t(t,n,r,o,i){var s=e.call(this,t,n)||this;return s.urlAfterRedirects=r,s.state=o,s.shouldActivate=i,s}return o(t,e),t.prototype.toString=function(){return\"GuardsCheckEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\", shouldActivate: \"+this.shouldActivate+\")\"},t}(dp),Sp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return\"ResolveStart(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(dp),Cp=function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(t,e),t.prototype.toString=function(){return\"ResolveEnd(id: \"+this.id+\", url: '\"+this.url+\"', urlAfterRedirects: '\"+this.urlAfterRedirects+\"', state: \"+this.state+\")\"},t}(dp),Op=function(){function e(e){this.route=e}return e.prototype.toString=function(){return\"RouteConfigLoadStart(path: \"+this.route.path+\")\"},e}(),Ep=function(){function e(e){this.route=e}return e.prototype.toString=function(){return\"RouteConfigLoadEnd(path: \"+this.route.path+\")\"},e}(),Tp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ChildActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),xp=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ChildActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Np=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ActivationStart(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Ap=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return\"ActivationEnd(path: '\"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||\"\")+\"')\"},e}(),Ip=function(){function e(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}return e.prototype.toString=function(){return\"Scroll(anchor: '\"+this.anchor+\"', position: '\"+(this.position?this.position[0]+\", \"+this.position[1]:null)+\"')\"},e}(),kp=function(){},Pp=\"primary\",Rp=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,\"keys\",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Mp(e){return new Rp(e)}function Dp(e,t,n){var r=n.path.split(\"/\");if(r.length>e.length)return null;if(\"full\"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var o={},i=0;i<r.length;i++){var s=r[i],a=e[i];if(s.startsWith(\":\"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}var Bp=function(e,t){this.routes=e,this.module=t};function Lp(e,t){void 0===t&&(t=\"\");for(var n=0;n<e.length;n++){var r=e[n];jp(r,Up(t,r))}}function jp(e,t){if(!e)throw new Error(\"\\n      Invalid configuration of route '\"+t+\"': Encountered undefined route.\\n      The reason might be an extra comma.\\n\\n      Example:\\n      const routes: Routes = [\\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\\n        { path: 'detail/:id', component: HeroDetailComponent }\\n      ];\\n    \");if(Array.isArray(e))throw new Error(\"Invalid configuration of route '\"+t+\"': Array cannot be specified\");if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Pp)throw new Error(\"Invalid configuration of route '\"+t+\"': a componentless route without children or loadChildren cannot have a named outlet set\");if(e.redirectTo&&e.children)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and children cannot be used together\");if(e.redirectTo&&e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and loadChildren cannot be used together\");if(e.children&&e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"': children and loadChildren cannot be used together\");if(e.redirectTo&&e.component)throw new Error(\"Invalid configuration of route '\"+t+\"': redirectTo and component cannot be used together\");if(e.path&&e.matcher)throw new Error(\"Invalid configuration of route '\"+t+\"': path and matcher cannot be used together\");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(\"Invalid configuration of route '\"+t+\"'. One of the following must be provided: component, redirectTo, children or loadChildren\");if(void 0===e.path&&void 0===e.matcher)throw new Error(\"Invalid configuration of route '\"+t+\"': routes must have either a path or a matcher specified\");if(\"string\"==typeof e.path&&\"/\"===e.path.charAt(0))throw new Error(\"Invalid configuration of route '\"+t+\"': path cannot start with a slash\");if(\"\"===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(\"Invalid configuration of route '{path: \\\"\"+t+'\", redirectTo: \"'+e.redirectTo+\"\\\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.\");if(void 0!==e.pathMatch&&\"full\"!==e.pathMatch&&\"prefix\"!==e.pathMatch)throw new Error(\"Invalid configuration of route '\"+t+\"': pathMatch can only be set to 'prefix' or 'full'\");e.children&&Lp(e.children,t)}function Up(e,t){return t?e||t.path?e&&!t.path?e+\"/\":!e&&t.path?t.path:e+\"/\"+t.path:\"\":e}function Vp(e){var t=e.children&&e.children.map(Vp),n=t?i({},e,{children:t}):i({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Pp&&(n.component=kp),n}function zp(e,t){var n,r=Object.keys(e),o=Object.keys(t);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(e[n=r[i]]!==t[n])return!1;return!0}function qp(e){return Array.prototype.concat.apply([],e)}function Fp(e){return e.length>0?e[e.length-1]:null}function Hp(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Wp(e){return e.pipe(re(),gc(function(e){return!0===e}))}function $p(e){return Mt(e)?e:Rt(e)?J(Promise.resolve(e)):Wu(e)}function Yp(e,t,n){return n?function(e,t){return zp(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Qp(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,o){if(n.segments.length>o.length)return!!Qp(s=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Qp(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!e(n.children[i],r.children[i]))return!1}return!0}var s=o.slice(0,n.segments.length),a=o.slice(n.segments.length);return!!Qp(n.segments,s)&&!!n.children[Pp]&&t(n.children[Pp],r,a)}(t,n,n.segments)}(e.root,t.root)}var Gp=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return th.serialize(this)},e}(),Kp=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,Hp(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,\"numberOfChildren\",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return nh(this)},e}(),Zp=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,\"parameterMap\",{get:function(){return this._parameterMap||(this._parameterMap=Mp(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return uh(this)},e}();function Qp(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function Jp(e,t){var n=[];return Hp(e.children,function(e,r){r===Pp&&(n=n.concat(t(e,r)))}),Hp(e.children,function(e,r){r!==Pp&&(n=n.concat(t(e,r)))}),n}var Xp=function(){},eh=function(){function e(){}return e.prototype.parse=function(e){var t=new fh(e);return new Gp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,n;return\"/\"+function e(t,n){if(!t.hasChildren())return nh(t);if(n){var r=t.children[Pp]?e(t.children[Pp],!1):\"\",o=[];return Hp(t.children,function(t,n){n!==Pp&&o.push(n+\":\"+e(t,!1))}),o.length>0?r+\"(\"+o.join(\"//\")+\")\":r}var i=Jp(t,function(n,r){return r===Pp?[e(t.children[Pp],!1)]:[r+\":\"+e(n,!1)]});return nh(t)+\"/(\"+i.join(\"//\")+\")\"}(e.root,!0)+(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return oh(e)+\"=\"+oh(t)}).join(\"&\"):oh(e)+\"=\"+oh(n)})).length?\"?\"+n.join(\"&\"):\"\")+(\"string\"==typeof e.fragment?\"#\"+encodeURI(e.fragment):\"\")},e}(),th=new eh;function nh(e){return e.segments.map(function(e){return uh(e)}).join(\"/\")}function rh(e){return encodeURIComponent(e).replace(/%40/g,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\")}function oh(e){return rh(e).replace(/%3B/gi,\";\")}function ih(e){return rh(e).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\").replace(/%26/gi,\"&\")}function sh(e){return decodeURIComponent(e)}function ah(e){return sh(e.replace(/\\+/g,\"%20\"))}function uh(e){return\"\"+ih(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return\";\"+ih(e)+\"=\"+ih(t[e])}).join(\"\"));var t}var ch=/^[^\\/()?;=#]+/;function lh(e){var t=e.match(ch);return t?t[0]:\"\"}var ph=/^[^=?&#]+/,hh=/^[^?&#]+/,fh=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional(\"/\"),\"\"===this.remaining||this.peekStartsWith(\"?\")||this.peekStartsWith(\"#\")?new Kp([],{}):new Kp([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional(\"?\"))do{this.parseQueryParam(e)}while(this.consumeOptional(\"&\"));return e},e.prototype.parseFragment=function(){return this.consumeOptional(\"#\")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(\"\"===this.remaining)return{};this.consumeOptional(\"/\");var e=[];for(this.peekStartsWith(\"(\")||e.push(this.parseSegment());this.peekStartsWith(\"/\")&&!this.peekStartsWith(\"//\")&&!this.peekStartsWith(\"/(\");)this.capture(\"/\"),e.push(this.parseSegment());var t={};this.peekStartsWith(\"/(\")&&(this.capture(\"/\"),t=this.parseParens(!0));var n={};return this.peekStartsWith(\"(\")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Pp]=new Kp(e,t)),n},e.prototype.parseSegment=function(){var e=lh(this.remaining);if(\"\"===e&&this.peekStartsWith(\";\"))throw new Error(\"Empty path url segment cannot have parameters: '\"+this.remaining+\"'.\");return this.capture(e),new Zp(sh(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(\";\");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=lh(this.remaining);if(t){this.capture(t);var n=\"\";if(this.consumeOptional(\"=\")){var r=lh(this.remaining);r&&this.capture(n=r)}e[sh(t)]=sh(n)}},e.prototype.parseQueryParam=function(e){var t,n=(t=this.remaining.match(ph))?t[0]:\"\";if(n){this.capture(n);var r=\"\";if(this.consumeOptional(\"=\")){var o=function(e){var t=e.match(hh);return t?t[0]:\"\"}(this.remaining);o&&this.capture(r=o)}var i=ah(n),s=ah(r);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(e[i]=a=[a]),a.push(s)}else e[i]=s}},e.prototype.parseParens=function(e){var t={};for(this.capture(\"(\");!this.consumeOptional(\")\")&&this.remaining.length>0;){var n=lh(this.remaining),r=this.remaining[n.length];if(\"/\"!==r&&\")\"!==r&&\";\"!==r)throw new Error(\"Cannot parse url '\"+this.url+\"'\");var o=void 0;n.indexOf(\":\")>-1?(o=n.substr(0,n.indexOf(\":\")),this.capture(o),this.capture(\":\")):e&&(o=Pp);var i=this.parseChildren();t[o]=1===Object.keys(i).length?i[Pp]:new Kp([],i),this.consumeOptional(\"//\")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected \"'+e+'\".')},e}(),dh=function(e){this.segmentGroup=e||null},mh=function(e){this.urlTree=e};function gh(e){return new M(function(t){return t.error(new dh(e))})}function yh(e){return new M(function(t){return t.error(new mh(e))})}function vh(e){return new M(function(t){return t.error(new Error(\"Only absolute redirects can have named outlets. redirectTo: '\"+e+\"'\"))})}var bh=function(){function e(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(rn)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Pp).pipe(G(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(fc(function(t){if(t instanceof mh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof dh)throw e.noMatchError(t);throw t}))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pp).pipe(G(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(fc(function(e){if(e instanceof dh)throw t.noMatchError(e);throw e}))},e.prototype.noMatchError=function(e){return new Error(\"Cannot match any routes. URL Segment: '\"+e.segmentGroup+\"'\")},e.prototype.createUrlTree=function(e,t,n){var r,o=e.segments.length>0?new Kp([],((r={})[Pp]=e,r)):e;return new Gp(o,t,n)},e.prototype.expandSegmentGroup=function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(G(function(e){return new Kp([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)},e.prototype.expandChildren=function(e,t,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return Wu({});var i=[],s=[],a={};return Hp(n,function(n,o){var u,c,l=(u=o,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(G(function(e){return a[o]=e}));o===Pp?i.push(l):s.push(l)}),Wu.apply(null,i.concat(s)).pipe(Sc(),hc(),G(function(){return a}))}(n.children)},e.prototype.expandSegment=function(e,t,n,r,o,i){var s=this;return Wu.apply(void 0,p(n)).pipe(G(function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,o,i).pipe(fc(function(e){if(e instanceof dh)return Wu(null);throw e}))}),Sc(),_c(function(e){return!!e}),fc(function(e,n){if(e instanceof Yu||\"EmptyError\"===e.name){if(s.noLeftoversInUrl(t,r,o))return Wu(new Kp([],{}));throw new dh(t)}throw e}))},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,r,o,i,s){return Ch(r)!==i?gh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i):gh(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){return\"**\"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith(\"/\")?yh(i):this.lineralizeSegments(n,i).pipe(X(function(n){var i=new Kp(n,{});return o.expandSegment(e,i,t,n,r,!1)}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){var s=this,a=wh(t,r,o),u=a.consumedSegments,c=a.lastChild,l=a.positionalParamSegments;if(!a.matched)return gh(t);var p=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith(\"/\")?yh(p):this.lineralizeSegments(r,p).pipe(X(function(r){return s.expandSegment(e,t,n,r.concat(o.slice(c)),i,!1)}))},e.prototype.matchSegmentAgainstRoute=function(e,t,n,r){var o=this;if(\"**\"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(G(function(e){return n._loadedConfig=e,new Kp(r,{})})):Wu(new Kp(r,{}));var s=wh(t,n,r),a=s.consumedSegments,u=s.lastChild;if(!s.matched)return gh(t);var l=r.slice(u);return this.getChildConfig(e,n).pipe(X(function(e){var n=e.module,r=e.routes,s=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(function(n){return Sh(e,t,n)&&Ch(n)!==Pp})}(e,n)?{segmentGroup:_h(new Kp(t,function(e,t){var n,r,o={};o[Pp]=t;try{for(var i=c(e),s=i.next();!s.done;s=i.next()){var a=s.value;\"\"===a.path&&Ch(a)!==Pp&&(o[Ch(a)]=new Kp([],{}))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}(r,new Kp(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(function(n){return Sh(e,t,n)})}(e,n)?{segmentGroup:_h(new Kp(e.segments,function(e,t,n,r){var o,s,a={};try{for(var u=c(n),l=u.next();!l.done;l=u.next()){var p=l.value;Sh(e,t,p)&&!r[Ch(p)]&&(a[Ch(p)]=new Kp([],{}))}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return i({},r,a)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,l,r),u=s.segmentGroup,p=s.slicedSegments;return 0===p.length&&u.hasChildren()?o.expandChildren(n,r,u).pipe(G(function(e){return new Kp(a,e)})):0===r.length&&0===p.length?Wu(new Kp(a,{})):o.expandSegment(n,u,r,p,Pp,!0).pipe(G(function(e){return new Kp(a.concat(e.segments),e.children)}))}))},e.prototype.getChildConfig=function(e,t){var n=this;return t.children?Wu(new Bp(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Wu(t._loadedConfig):function(e,t){var n=t.canLoad;return n&&0!==n.length?Wp(J(n).pipe(G(function(n){var r=e.get(n);return $p(r.canLoad?r.canLoad(t):r(t))}))):Wu(!0)}(e.injector,t).pipe(X(function(r){return r?n.configLoader.load(e.injector,t).pipe(G(function(e){return t._loadedConfig=e,e})):function(e){return new M(function(t){return t.error(((n=Error(\"NavigationCancelingError: Cannot load children because the guard of the route \\\"path: '\"+e.path+\"'\\\" returned false\")).ngNavigationCancelingError=!0,n));var n})}(t)})):Wu(new Bp([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Wu(n);if(r.numberOfChildren>1||!r.children[Pp])return vh(e.redirectTo);r=r.children[Pp]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,r){var o=this.createSegmentGroup(e,t.root,n,r);return new Gp(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return Hp(e,function(e,r){if(\"string\"==typeof e&&e.startsWith(\":\")){var o=e.substring(1);n[r]=t[o]}else n[r]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,r){var o=this,i=this.createSegments(e,t.segments,n,r),s={};return Hp(t.children,function(t,i){s[i]=o.createSegmentGroup(e,t,n,r)}),new Kp(i,s)},e.prototype.createSegments=function(e,t,n,r){var o=this;return t.map(function(t){return t.path.startsWith(\":\")?o.findPosParam(e,t,r):o.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error(\"Cannot redirect to '\"+e+\"'. Cannot find '\"+t.path+\"'.\");return r},e.prototype.findOrReturn=function(e,t){var n,r,o=0;try{for(var i=c(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.path===e.path)return t.splice(o),a;o++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},e}();function wh(e,t,n){if(\"\"===t.path)return\"full\"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Dp)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _h(e){if(1===e.numberOfChildren&&e.children[Pp]){var t=e.children[Pp];return new Kp(e.segments.concat(t.segments),t.children)}return e}function Sh(e,t,n){return(!(e.hasChildren()||t.length>0)||\"full\"!==n.pathMatch)&&\"\"===n.path&&void 0!==n.redirectTo}function Ch(e){return e.outlet||Pp}var Oh=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,\"root\",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=Eh(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=Eh(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=Th(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return Th(e,this._root).map(function(e){return e.value})},e}();function Eh(e,t){var n,r;if(e===t.value)return t;try{for(var o=c(t.children),i=o.next();!i.done;i=o.next()){var s=Eh(e,i.value);if(s)return s}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function Th(e,t){var n,r;if(e===t.value)return[t];try{for(var o=c(t.children),i=o.next();!i.done;i=o.next()){var s=Th(e,i.value);if(s.length)return s.unshift(t),s}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var xh=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return\"TreeNode(\"+this.value+\")\"},e}();function Nh(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Ah=function(e){function t(t,n){var r=e.call(this,t)||this;return r.snapshot=n,Dh(r,t),r}return o(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(Oh);function Ih(e,t){var n=function(e,t){var n=new Rh([],{},{},\"\",{},Pp,t,null,e.root,-1,{});return new Mh(\"\",new xh(n,[]))}(e,t),r=new Gu([new Zp(\"\",{})]),o=new Gu({}),i=new Gu({}),s=new Gu({}),a=new Gu(\"\"),u=new kh(r,o,s,a,i,Pp,t,n.root);return u.snapshot=n.root,new Ah(new xh(u,[]),n)}var kh=function(){function e(e,t,n,r,o,i,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}return Object.defineProperty(e.prototype,\"routeConfig\",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G(function(e){return Mp(e)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(function(e){return Mp(e)}))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():\"Future(\"+this._futureSnapshot+\")\"},e}();function Ph(e,t){void 0===t&&(t=\"emptyOnly\");var n=e.pathFromRoot,r=0;if(\"always\"!==t)for(r=n.length-1;r>=1;){var o=n[r],s=n[r-1];if(o.routeConfig&&\"\"===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:i({},e.params,t.params),data:i({},e.data,t.data),resolve:i({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Rh=function(){function e(e,t,n,r,o,i,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(e.prototype,\"root\",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"firstChild\",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pathFromRoot\",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"paramMap\",{get:function(){return this._paramMap||(this._paramMap=Mp(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"queryParamMap\",{get:function(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return\"Route(url:'\"+this.url.map(function(e){return e.toString()}).join(\"/\")+\"', path:'\"+(this.routeConfig?this.routeConfig.path:\"\")+\"')\"},e}(),Mh=function(e){function t(t,n){var r=e.call(this,n)||this;return r.url=t,Dh(r,n),r}return o(t,e),t.prototype.toString=function(){return Bh(this._root)},t}(Oh);function Dh(e,t){t.value._routerState=e,t.children.forEach(function(t){return Dh(e,t)})}function Bh(e){var t=e.children.length>0?\" { \"+e.children.map(Bh).join(\", \")+\" } \":\"\";return\"\"+e.value+t}function Lh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zp(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),zp(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!zp(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),zp(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jh(e,t){var n,r;return zp(e.params,t.params)&&Qp(n=e.url,r=t.url)&&n.every(function(e,t){return zp(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||jh(e.parent,t.parent))}function Uh(e){return\"object\"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Vh(e,t,n,r,o){var i={};return r&&Hp(r,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return\"\"+e}):\"\"+e}),new Gp(n.root===e?t:function e(t,n,r){var o={};return Hp(t.children,function(t,i){o[i]=t===n?r:e(t,n,r)}),new Kp(t.segments,o)}(n.root,e,t),i,o)}var zh=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Uh(n[0]))throw new Error(\"Root segment cannot have matrix parameters\");var r=n.find(function(e){return\"object\"==typeof e&&null!=e&&e.outlets});if(r&&r!==Fp(n))throw new Error(\"{outlets:{}} has to be the last command\")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&\"/\"==this.commands[0]},e}(),qh=function(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n};function Fh(e){return\"object\"==typeof e&&null!=e&&e.outlets?e.outlets[Pp]:\"\"+e}function Hh(e,t,n){if(e||(e=new Kp([],{})),0===e.segments.length&&e.hasChildren())return Wh(e,t,n);var r=function(e,t,n){for(var r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};o<e.segments.length;){if(r>=n.length)return i;var s=e.segments[o],a=Fh(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&u&&\"object\"==typeof u&&void 0===u.outlets){if(!Kh(a,u,s))return i;r+=2}else{if(!Kh(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new Kp(e.segments.slice(0,r.pathIndex),{});return i.children[Pp]=new Kp(e.segments.slice(r.pathIndex),e.children),Wh(i,0,o)}return r.match&&0===o.length?new Kp(e.segments,{}):r.match&&!e.hasChildren()?$h(e,t,n):r.match?Wh(e,0,o):$h(e,t,n)}function Wh(e,t,n){if(0===n.length)return new Kp(e.segments,{});var r=function(e){var t,n;return\"object\"!=typeof e[0]?((t={})[Pp]=e,t):void 0===e[0].outlets?((n={})[Pp]=e,n):e[0].outlets}(n),o={};return Hp(r,function(n,r){null!==n&&(o[r]=Hh(e.children[r],t,n))}),Hp(e.children,function(e,t){void 0===r[t]&&(o[t]=e)}),new Kp(e.segments,o)}function $h(e,t,n){for(var r=e.segments.slice(0,t),o=0;o<n.length;){if(\"object\"==typeof n[o]&&void 0!==n[o].outlets){var i=Yh(n[o].outlets);return new Kp(r,i)}if(0===o&&Uh(n[0]))r.push(new Zp(e.segments[t].path,n[0])),o++;else{var s=Fh(n[o]),a=o<n.length-1?n[o+1]:null;s&&a&&Uh(a)?(r.push(new Zp(s,Gh(a))),o+=2):(r.push(new Zp(s,{})),o++)}}return new Kp(r,{})}function Yh(e){var t={};return Hp(e,function(e,n){null!==e&&(t[n]=$h(new Kp([],{}),0,e))}),t}function Gh(e){var t={};return Hp(e,function(e,n){return t[n]=\"\"+e}),t}function Kh(e,t,n){return e==n.path&&zp(t,n.parameters)}var Zh=function(e){this.path=e,this.route=this.path[this.path.length-1]},Qh=function(e,t){this.component=e,this.route=t},Jh=function(){function e(e,t,n,r){this.future=e,this.curr=t,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return e.prototype.initialize=function(e){var t=this.future._root;this.setupChildRouteGuards(t,this.curr?this.curr._root:null,e,[t.value])},e.prototype.checkGuards=function(){var e=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(X(function(t){return t?e.runCanActivateChecks():Wu(!1)})):Wu(!0)},e.prototype.resolveData=function(e){var t=this;return this.isActivating()?J(this.canActivateChecks).pipe(Ku(function(n){return t.runResolve(n.route,e)}),function(e,t){return arguments.length>=2?function(n){return P(Cc(e,t),tc(1),cc(t))(n)}:function(t){return P(Cc(function(t,n,r){return e(t,n,r+1)}),tc(1))(t)}}(function(e,t){return e})):Wu(null)},e.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},e.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},e.prototype.setupChildRouteGuards=function(e,t,n,r){var o=this,i=Nh(t);e.children.forEach(function(e){o.setupRouteGuards(e,i[e.value.outlet],n,r.concat([e.value])),delete i[e.value.outlet]}),Hp(i,function(e,t){return o.deactivateRouteAndItsChildren(e,n.getContext(t))})},e.prototype.setupRouteGuards=function(e,t,n,r){var o=e.value,i=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){var a=this.shouldRunGuardsAndResolvers(i,o,o.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new Zh(r)):(o.data=i.data,o._resolvedData=i._resolvedData),this.setupChildRouteGuards(e,t,o.component?s?s.children:null:n,r),a&&this.canDeactivateChecks.push(new Qh(s.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(t,s),this.canActivateChecks.push(new Zh(r)),this.setupChildRouteGuards(e,null,o.component?s?s.children:null:n,r)},e.prototype.shouldRunGuardsAndResolvers=function(e,t,n){switch(n){case\"always\":return!0;case\"paramsOrQueryParamsChange\":return!jh(e,t)||!zp(e.queryParams,t.queryParams);case\"paramsChange\":default:return!jh(e,t)}},e.prototype.deactivateRouteAndItsChildren=function(e,t){var n=this,r=Nh(e),o=e.value;Hp(r,function(e,r){n.deactivateRouteAndItsChildren(e,o.component?t?t.children.getContext(r):null:t)}),this.canDeactivateChecks.push(new Qh(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))},e.prototype.runCanDeactivateChecks=function(){var e=this;return J(this.canDeactivateChecks).pipe(X(function(t){return e.runCanDeactivate(t.component,t.route)}),gc(function(e){return!0===e}))},e.prototype.runCanActivateChecks=function(){var e=this;return J(this.canActivateChecks).pipe(Ku(function(t){return Wp(J([e.fireChildActivationStart(t.route.parent),e.fireActivationStart(t.route),e.runCanActivateChild(t.path),e.runCanActivate(t.route)]))}),gc(function(e){return!0===e}))},e.prototype.fireActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new Np(e)),Wu(!0)},e.prototype.fireChildActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new Tp(e)),Wu(!0)},e.prototype.runCanActivate=function(e){var t=this,n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?Wp(J(n).pipe(G(function(n){var r=t.getToken(n,e);return $p(r.canActivate?r.canActivate(e,t.future):r(e,t.future)).pipe(_c())}))):Wu(!0)},e.prototype.runCanActivateChild=function(e){var t=this,n=e[e.length-1];return Wp(J(e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e})).pipe(G(function(e){return Wp(J(e.guards).pipe(G(function(r){var o=t.getToken(r,e.node);return $p(o.canActivateChild?o.canActivateChild(n,t.future):o(n,t.future)).pipe(_c())})))})))},e.prototype.extractCanActivateChild=function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var n=this,r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?J(r).pipe(X(function(r){var o=n.getToken(r,t);return $p(o.canDeactivate?o.canDeactivate(e,t,n.curr,n.future):o(e,t,n.curr,n.future)).pipe(_c())})).pipe(gc(function(e){return!0===e})):Wu(!0)},e.prototype.runResolve=function(e,t){return this.resolveNode(e._resolve,e).pipe(G(function(n){return e._resolvedData=n,e.data=i({},e.data,Ph(e,t).resolve),null}))},e.prototype.resolveNode=function(e,t){var n=this,r=Object.keys(e);if(0===r.length)return Wu({});if(1===r.length){var o=r[0];return this.getResolver(e[o],t).pipe(G(function(e){var t;return(t={})[o]=e,t}))}var i={};return J(r).pipe(X(function(r){return n.getResolver(e[r],t).pipe(G(function(e){return i[r]=e,e}))})).pipe(hc(),G(function(){return i}))},e.prototype.getResolver=function(e,t){var n=this.getToken(e,t);return $p(n.resolve?n.resolve(t,this.future):n(t,this.future))},e.prototype.getToken=function(e,t){var n=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(n?n.module.injector:this.moduleInjector).get(e)},e}(),Xh=function(){},ef=function(){function e(e,t,n,r,o,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return e.prototype.recognize=function(){try{var e=rf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pp),n=new Rh([],Object.freeze({}),Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pp,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xh(n,t),o=new Mh(this.url,r);return this.inheritParamsAndData(o._root),Wu(o)}catch(e){return new M(function(t){return t.error(e)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,r=Ph(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n,r=this,o=Jp(t,function(t,n){return r.processSegmentGroup(e,t,n)});return n={},o.forEach(function(e){var t=n[e.value.outlet];if(t){var r=t.url.map(function(e){return e.toString()}).join(\"/\"),o=e.value.url.map(function(e){return e.toString()}).join(\"/\");throw new Error(\"Two segments cannot have the same outlet name: '\"+r+\"' and '\"+o+\"'.\")}n[e.value.outlet]=e.value}),o.sort(function(e,t){return e.value.outlet===Pp?-1:t.value.outlet===Pp?1:e.value.outlet.localeCompare(t.value.outlet)}),o},e.prototype.processSegment=function(e,t,n,r){var o,i;try{for(var s=c(e),a=s.next();!a.done;a=s.next()){var u=a.value;try{return this.processSegmentAgainstRoute(u,t,n,r)}catch(e){if(!(e instanceof Xh))throw e}}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(t,n,r))return[];throw new Xh},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,r){if(e.redirectTo)throw new Xh;if((e.outlet||Pp)!==r)throw new Xh;var o,s=[],a=[];if(\"**\"===e.path){var u=n.length>0?Fp(n).parameters:{};o=new Rh(n,u,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,af(e),r,e.component,e,tf(t),nf(t)+n.length,uf(e))}else{var c=function(e,t,n){if(\"\"===t.path){if(\"full\"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Xh;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Dp)(n,e,t);if(!r)throw new Xh;var o={};Hp(r.posParams,function(e,t){o[t]=e.path});var s=r.consumed.length>0?i({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=c.consumedSegments,a=n.slice(c.lastChild),o=new Rh(s,c.parameters,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,af(e),r,e.component,e,tf(t),nf(t)+s.length,uf(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),p=rf(t,s,a,l,this.relativeLinkResolution),h=p.segmentGroup,f=p.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new xh(o,d)]}if(0===l.length&&0===f.length)return[new xh(o,[])];var m=this.processSegment(l,h,f,Pp);return[new xh(o,m)]},e}();function tf(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function nf(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function rf(e,t,n,r,o){if(n.length>0&&function(e,t,n){return r.some(function(n){return of(e,t,n)&&sf(n)!==Pp})}(e,n)){var s=new Kp(t,function(e,t,n,r){var o,i,s={};s[Pp]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;try{for(var a=c(n),u=a.next();!u.done;u=a.next()){var l=u.value;if(\"\"===l.path&&sf(l)!==Pp){var p=new Kp([],{});p._sourceSegment=e,p._segmentIndexShift=t.length,s[sf(l)]=p}}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return s}(e,t,r,new Kp(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(function(n){return of(e,t,n)})}(e,n)){var a=new Kp(e.segments,function(e,t,n,r,o,s){var a,u,l={};try{for(var p=c(r),h=p.next();!h.done;h=p.next()){var f=h.value;if(of(e,n,f)&&!o[sf(f)]){var d=new Kp([],{});d._sourceSegment=e,d._segmentIndexShift=\"legacy\"===s?e.segments.length:t.length,l[sf(f)]=d}}}catch(e){a={error:e}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return i({},o,l)}(e,t,n,r,e.children,o));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var u=new Kp(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function of(e,t,n){return(!(e.hasChildren()||t.length>0)||\"full\"!==n.pathMatch)&&\"\"===n.path&&void 0===n.redirectTo}function sf(e){return e.outlet||Pp}function af(e){return e.data||{}}function uf(e){return e.resolve||{}}var cf=function(){},lf=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),pf=new ve(\"ROUTES\"),hf=function(){function e(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(G(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var o=r.create(e);return new Bp(qp(o.injector.get(pf)).map(Vp),o)}))},e.prototype.loadModuleFactory=function(e){var t=this;return\"string\"==typeof e?J(this.loader.load(e)):$p(e()).pipe(X(function(e){return e instanceof on?Wu(e):J(t.compiler.compileModuleAsync(e))}))},e}(),ff=function(){},df=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function mf(e){throw e}function gf(e,t,n){return t.parse(\"/\")}function yf(e,t){return Wu(null)}var vf=function(){function e(e,t,n,r,o,i,s,a){var u=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.navigations=new Gu(null),this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ue,this.errorHandler=mf,this.malformedUriErrorHandler=gf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yf,afterPreactivation:yf},this.urlHandlingStrategy=new df,this.routeReuseStrategy=new lf,this.onSameUrlNavigation=\"ignore\",this.paramsInheritanceStrategy=\"emptyOnly\",this.urlUpdateStrategy=\"deferred\",this.relativeLinkResolution=\"legacy\",this.ngModule=o.get(rn),this.console=o.get(Ft);var c=o.get(pn);this.isNgZoneEnabled=c instanceof pn,this.resetConfig(a),this.currentUrlTree=new Gp(new Kp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new hf(i,s,function(e){return u.triggerEvent(new Op(e))},function(e){return u.triggerEvent(new Ep(e))}),this.routerState=Ih(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.parseUrl(t.url),r=\"popstate\"===t.type?\"popstate\":\"hashchange\",o=t.state&&t.state.navigationId?{navigationId:t.state.navigationId}:null;setTimeout(function(){e.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,\"url\",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){Lp(e),this.config=e.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,r=t.queryParams,o=t.fragment,s=t.preserveQueryParams,a=t.queryParamsHandling,u=t.preserveFragment;En()&&s&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(a)switch(a){case\"merge\":h=i({},this.currentUrlTree.queryParams,r);break;case\"preserve\":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,o){if(0===n.length)return Vh(t.root,t.root,t,r,o);var i=function(e){if(\"string\"==typeof e[0]&&1===e.length&&\"/\"===e[0])return new zh(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,o){if(\"object\"==typeof r&&null!=r){if(r.outlets){var i={};return Hp(r.outlets,function(e,t){i[t]=\"string\"==typeof e?e.split(\"/\"):e}),p(e,[{outlets:i}])}if(r.segmentPath)return p(e,[r.segmentPath])}return\"string\"!=typeof r?p(e,[r]):0===o?(r.split(\"/\").forEach(function(r,o){0==o&&\".\"===r||(0==o&&\"\"===r?n=!0:\"..\"===r?t++:\"\"!=r&&e.push(r))}),e):p(e,[r])},[]);return new zh(n,t,r)}(n);if(i.toRoot())return Vh(t.root,new Kp([],{}),t,r,o);var s=function(e,n,r){if(e.isAbsolute)return new qh(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new qh(r.snapshot._urlSegment,!0,0);var o=Uh(e.commands[0])?0:1;return function(t,n,i){for(var s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+o,u=e.numberOfDoubleDots;u>a;){if(u-=a,!(s=s.parent))throw new Error(\"Invalid number of '../'\");a=s.segments.length}return new qh(s,!1,a-u)}()}(i,0,e),a=s.processChildren?Wh(s.segmentGroup,s.index,i.commands):Hh(s.segmentGroup,s.index,i.commands);return Vh(s.segmentGroup,a,t,r,o)}(c,this.currentUrlTree,e,h,l)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1}),En()&&this.isNgZoneEnabled&&!pn.isInAngularZone()&&this.console.warn(\"Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?\");var n=e instanceof Gp?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,\"imperative\",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error(\"The requested path contains \"+n+\" segment at index \"+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t},e.prototype.isActive=function(e,t){if(e instanceof Gp)return Yp(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Yp(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!==r&&void 0!==r&&(t[n]=r),t},{})},e.prototype.processNavigations=function(){var e=this;this.navigations.pipe(Ku(function(t){return t?(e.executeScheduledNavigation(t),t.promise.catch(function(){})):Wu(null)})).subscribe(function(){})},e.prototype.scheduleNavigation=function(e,t,n,r){var o=this.navigations.value;if(o&&\"imperative\"!==t&&\"imperative\"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&\"hashchange\"==t&&\"popstate\"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&\"popstate\"==t&&\"hashchange\"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);var i=null,s=null,a=new Promise(function(e,t){i=e,s=t}),u=++this.navigationId;return this.navigations.next({id:u,source:t,state:n,rawUrl:e,extras:r,resolve:i,reject:s,promise:a}),a.catch(function(e){return Promise.reject(e)})},e.prototype.executeScheduledNavigation=function(e){var t=this,n=e.id,r=e.rawUrl,o=e.extras,i=e.resolve,s=e.reject,a=e.source,u=e.state,c=this.urlHandlingStrategy.extract(r),l=!this.navigated||c.toString()!==this.currentUrlTree.toString();(\"reload\"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(\"eager\"!==this.urlUpdateStrategy||o.skipLocationChange||this.setBrowserUrl(r,!!o.replaceUrl,n),this.events.next(new mp(n,this.serializeUrl(c),a,u)),Promise.resolve().then(function(e){return t.runNavigate(c,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,s)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new mp(n,this.serializeUrl(c),a,u)),Promise.resolve().then(function(e){return t.runNavigate(c,r,!1,!1,n,Ih(c,t.rootComponentType).snapshot)}).then(i,s)):(this.rawUrlTree=r,i(null))},e.prototype.runNavigate=function(e,t,n,r,o,i){var s=this;return o!==this.navigationId?(this.events.next(new yp(o,this.serializeUrl(e),\"Navigation ID \"+o+\" is not equal to the current navigation id \"+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,u){var l,p=(i?Wu({appliedUrl:e,snapshot:i}):new bh(s.ngModule.injector,s.configLoader,s.urlSerializer,e,s.config).apply().pipe(X(function(t){return function(e,t,n,r,o,i){return void 0===o&&(o=\"emptyOnly\"),void 0===i&&(i=\"legacy\"),new ef(e,t,n,r,o,i).recognize()}(s.rootComponentType,s.config,t,s.serializeUrl(t),s.paramsInheritanceStrategy,s.relativeLinkResolution).pipe(G(function(n){return s.events.next(new bp(o,s.serializeUrl(e),s.serializeUrl(t),n)),{appliedUrl:t,snapshot:n}}))}))).pipe(X(function(i){return\"boolean\"==typeof i?Wu(i):s.hooks.beforePreactivation(i.snapshot,{navigationId:o,appliedUrlTree:e,rawUrlTree:t,skipLocationChange:n,replaceUrl:r}).pipe(G(function(){return i}))})).pipe(G(function(e){if(\"boolean\"==typeof e)return e;var t=e.appliedUrl,n=e.snapshot;return(l=new Jh(n,s.routerState.snapshot,s.ngModule.injector,function(e){return s.triggerEvent(e)})).initialize(s.rootContexts),{appliedUrl:t,snapshot:n}})).pipe(X(function(t){if(\"boolean\"==typeof t||s.navigationId!==o)return Wu(!1);var n=t.appliedUrl,r=t.snapshot;return s.triggerEvent(new wp(o,s.serializeUrl(e),s.serializeUrl(n),r)),l.checkGuards().pipe(G(function(t){return s.triggerEvent(new _p(o,s.serializeUrl(e),s.serializeUrl(n),r,t)),{appliedUrl:n,snapshot:r,shouldActivate:t}}))})).pipe(X(function(t){return\"boolean\"==typeof t||s.navigationId!==o?Wu(!1):t.shouldActivate&&l.isActivating()?(s.triggerEvent(new Sp(o,s.serializeUrl(e),s.serializeUrl(t.appliedUrl),t.snapshot)),l.resolveData(s.paramsInheritanceStrategy).pipe(G(function(){return s.triggerEvent(new Cp(o,s.serializeUrl(e),s.serializeUrl(t.appliedUrl),t.snapshot)),t}))):Wu(t)})).pipe(X(function(i){return\"boolean\"==typeof i||s.navigationId!==o?Wu(!1):s.hooks.afterPreactivation(i.snapshot,{navigationId:o,appliedUrlTree:e,rawUrlTree:t,skipLocationChange:n,replaceUrl:r}).pipe(G(function(){return i}))})).pipe(G(function(e){if(\"boolean\"==typeof e||s.navigationId!==o)return!1;var t,n,r,i=e.appliedUrl,a=e.shouldActivate;return a?{appliedUrl:i,state:(r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){(u=r.value)._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map(function(n){var o,i;try{for(var s=c(r.children),a=s.next();!a.done;a=s.next()){var u=a.value;if(t.shouldReuseRoute(u.value.snapshot,n.value))return e(t,n,u)}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return e(t,n)})}(t,n,r);return new xh(u,o)}var i=t.retrieve(n.value);if(i){var s=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error(\"Cannot reattach ActivatedRouteSnapshot created from a different route\");if(t.children.length!==n.children.length)throw new Error(\"Cannot reattach ActivatedRouteSnapshot with a different number of children\");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var a,u=new kh(new Gu((a=n.value).url),new Gu(a.params),new Gu(a.queryParams),new Gu(a.fragment),new Gu(a.data),a.outlet,a.component,a);return o=n.children.map(function(n){return e(t,n)}),new xh(u,o)}(s.routeReuseStrategy,(t=e.snapshot)._root,(n=s.routerState)?n._root:void 0),new Ah(r,t)),shouldActivate:a}:{appliedUrl:i,state:null,shouldActivate:a}}));s.activateRoutes(p,s.routerState,s.currentUrlTree,o,e,t,n,r,a,u)})},e.prototype.activateRoutes=function(e,t,n,r,o,i,s,a,u,c){var l,p=this;e.forEach(function(e){if(\"boolean\"!=typeof e&&e.shouldActivate&&r===p.navigationId&&e.state){var n=e.state;p.currentUrlTree=e.appliedUrl,p.rawUrlTree=p.urlHandlingStrategy.merge(p.currentUrlTree,i),p.routerState=n,\"deferred\"!==p.urlUpdateStrategy||s||p.setBrowserUrl(p.rawUrlTree,a,r),new bf(p.routeReuseStrategy,n,t,function(e){return p.triggerEvent(e)}).activate(p.rootContexts),l=!0}else l=!1}).then(function(){l?(p.navigated=!0,p.lastSuccessfulId=r,p.events.next(new gp(r,p.serializeUrl(o),p.serializeUrl(p.currentUrlTree))),u(!0)):(p.resetUrlToCurrentUrlTree(),p.events.next(new yp(r,p.serializeUrl(o),\"\")),u(!1))},function(e){if((s=e)&&s.ngNavigationCancelingError)p.navigated=!0,p.resetStateAndUrl(t,n,i),p.events.next(new yp(r,p.serializeUrl(o),e.message)),u(!1);else{p.resetStateAndUrl(t,n,i),p.events.next(new vp(r,p.serializeUrl(o),e));try{u(p.errorHandler(e))}catch(e){c(e)}}var s})},e.prototype.setBrowserUrl=function(e,t,n){var r=this.urlSerializer.serialize(e);this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,\"\",{navigationId:n}):this.location.go(r,\"\",{navigationId:n})},e.prototype.resetStateAndUrl=function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),\"\",{navigationId:this.lastSuccessfulId})},e}(),bf=function(){function e(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Lh(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var r=this,o=Nh(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,o[t],n),delete o[t]}),Hp(o,function(e,t){r.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:o})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var o=Nh(e),i=e.value.component?r.children:t;Hp(o,function(e,t){return n.deactivateRouteAndItsChildren(e,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var r=this,o=Nh(t);e.children.forEach(function(e){r.activateRoutes(e,o[e.value.outlet],n),r.forwardEvent(new Ap(e.value.snapshot))}),e.children.length&&this.forwardEvent(new xp(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(Lh(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),wf(s.route)}else{var a=function(e){for(var t=r.snapshot.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=a?a.module.componentFactoryResolver:null;i.attachRef=null,i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(e,null,i.children)}else this.activateChildRoutes(e,null,n)},e}();function wf(e){Lh(e.value),e.children.forEach(wf)}var _f=function(){function e(e,t,n){var r=this;this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof gp&&r.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,\"routerLink\",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"preserveQueryParams\",{set:function(e){En()&&console&&console.warn&&console.warn(\"preserveQueryParams is deprecated, use queryParamsHandling instead.\"),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,n,r){if(0!==e||t||n||r)return!0;if(\"string\"==typeof this.target&&\"_self\"!=this.target)return!0;var o={skipLocationChange:Sf(this.skipLocationChange),replaceUrl:Sf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},e.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(e.prototype,\"urlTree\",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Sf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Sf(this.preserveFragment)})},enumerable:!0,configurable:!0}),s([xe(\"attr.target\"),Te(),u(\"design:type\",String)],e.prototype,\"target\",void 0),e}();function Sf(e){return\"\"===e||!!e}var Cf=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Of,this.attachRef=null}}(),Of=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Cf,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),Ef=function(){function e(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ln,this.deactivateEvents=new ln,this.name=r||Pp,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,\"isActivated\",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"component\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"activatedRoute\",{get:function(){if(!this.activated)throw new Error(\"Outlet is not activated\");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"activatedRouteData\",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error(\"Outlet is not activated\");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error(\"Cannot activate an already activated outlet\");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Tf(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},s([a(3,Ee(\"name\"))],e)}(),Tf=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===kh?this.route:e===Of?this.childContexts:this.parent.get(e,t)},e}(),xf=function(){},Nf=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(fc(function(){return Wu(null)}))},e}(),Af=function(){function e(){}return e.prototype.preload=function(e,t){return Wu(null)},e}(),If=function(){function e(e,t,n,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new hf(t,n,function(t){return e.triggerEvent(new Op(t))},function(t){return e.triggerEvent(new Ep(t))})}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(Zu(function(e){return e instanceof gp}),Ku(function(){return e.preload()})).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(rn);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var n,r,o=[];try{for(var i=c(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;o.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(e,a)):a.children&&o.push(this.processRoutes(e,a.children))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return J(o).pipe(re(),G(function(e){}))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(X(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})},e}(),kf=function(){function e(e,t,n){void 0===n&&(n={}),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource=\"imperative\",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||\"disabled\",n.anchorScrolling=n.anchorScrolling||\"disabled\"}return e.prototype.init=function(){\"disabled\"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration(\"manual\"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},e.prototype.createScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof mp?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gp&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})},e.prototype.consumeScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Ip&&(t.position?\"top\"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):\"enabled\"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&\"enabled\"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):\"disabled\"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})},e.prototype.scheduleScrollEvent=function(e,t){this.router.triggerEvent(new Ip(e,\"popstate\"===this.lastSource?this.store[this.restoredId]:null,t))},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},e}(),Pf=new ve(\"ROUTER_CONFIGURATION\"),Rf=new ve(\"ROUTER_FORROOT_GUARD\"),Mf=[Ic,{provide:Xp,useClass:eh},{provide:vf,useFactory:zf,deps:[kn,Xp,Of,Ic,Ke,Ln,Wt,pf,Pf,[ff,new Ve],[cf,new Ve]]},Of,{provide:kh,useFactory:qf,deps:[vf]},{provide:Ln,useClass:zn},If,Af,Nf,{provide:Pf,useValue:{enableTracing:!1}}];function Df(){return new Tn(\"Router\",vf)}var Bf=function(){function e(e,t){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[Mf,Vf(e),{provide:Rf,useFactory:Uf,deps:[[vf,new Ve,new qe]]},{provide:Pf,useValue:n||{}},{provide:Nc,useFactory:jf,deps:[Tc,[new Ue(Ac),new Ve],Pf]},{provide:kf,useFactory:Lf,deps:[vf,rl,Pf]},{provide:xf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Af},{provide:Tn,multi:!0,useFactory:Df},[Ff,{provide:Dt,multi:!0,useFactory:Hf,deps:[Ff]},{provide:$f,useFactory:Wf,deps:[Ff]},{provide:qt,multi:!0,useExisting:$f}]]}},e.forChild=function(e){return{ngModule:t,providers:[Vf(e)]}},t=s([a(0,Ve()),a(0,Ue(Rf)),a(1,Ve())],e)}();function Lf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new kf(e,t,n)}function jf(e,t,n){return void 0===n&&(n={}),n.useHash?new Pc(e,t):new Rc(e,t)}function Uf(e){if(e)throw new Error(\"RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.\");return\"guarded\"}function Vf(e){return[{provide:Oe,multi:!0,useValue:e},{provide:pf,multi:!0,useValue:e}]}function zf(e,t,n,r,o,i,s,a,u,c,l){void 0===u&&(u={});var p=new vf(null,t,n,r,o,i,s,qp(a));if(c&&(p.urlHandlingStrategy=c),l&&(p.routeReuseStrategy=l),u.errorHandler&&(p.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(p.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var h=sl();p.events.subscribe(function(e){h.logGroup(\"Router Event: \"+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return u.onSameUrlNavigation&&(p.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(p.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(p.relativeLinkResolution=u.relativeLinkResolution),p}function qf(e){return e.routerState.root}var Ff=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new ue}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(xc,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(vf),o=e.injector.get(Pf);if(e.isLegacyDisabled(o)||e.isLegacyEnabled(o))t(!0);else if(\"disabled\"===o.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if(\"enabled\"!==o.initialNavigation)throw new Error(\"Invalid initialNavigation options: '\"+o.initialNavigation+\"'\");r.hooks.afterPreactivation=function(){return e.initNavigation?Wu(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Pf),n=this.injector.get(If),r=this.injector.get(kf),o=this.injector.get(vf),i=this.injector.get(kn);e===i.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return\"legacy_enabled\"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return\"legacy_disabled\"===e.initialNavigation||!1===e.initialNavigation},e}();function Hf(e){return e.appInitializer.bind(e)}function Wf(e){return e.bootstrapListener.bind(e)}var $f=new ve(\"Router Initializer\"),Yf=lo({encapsulation:2,styles:[],data:{}});function Gf(e){return Xi(0,[(e()(),Vo(0,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Ni(1,212992,null,0,Ef,[Of,Hn,en,[8,null],Wn],null,null)],function(e,t){e(t,1,0)},null)}var Kf=oi(\"ng-component\",kp,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"ng-component\",[],null,null,null,Gf,Yf)),Ni(1,49152,null,0,kp,[],null,null)],null,null)},{},{},[]),Zf=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return o(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error(\"executing a cancelled action\");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return o(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(E)),Qf=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Jf=new(function(e){function t(n,r){void 0===r&&(r=Qf.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return o(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Qf))(Zf),Xf=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ed(e,this.dueTime,this.scheduler))},e}(),ed=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return o(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(td,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(N);function td(e){e.debouncedNext()}var nd=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new rd(e,this.compare,this.keySelector))},e}(),rd=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=r,o.hasKey=!1,\"function\"==typeof n&&(o.compare=n),o}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=S(this.keySelector)(e))===w)return this.destination.error(w.e);var n=!1;if(this.hasKey){if((n=S(this.compare)(this.key,t))===w)return this.destination.error(w.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(N),od=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new id(e,this.project))},e}(),id=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return o(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new L(this,void 0,void 0);this.destination.add(o),this.innerSubscription=$(this,e,t,n,o)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t}(Y),sd=function(){function e(){this.messages=[]}return e.prototype.add=function(e){this.messages.push(e)},e.prototype.clear=function(){this.messages=[]},e.ngInjectableDef=ye({factory:function(){return new e},token:e,providedIn:\"root\"}),e}(),ad=function(){},ud=function(){},cd=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit=\"string\"==typeof e?function(){t.headers=new Map,e.split(\"\\n\").forEach(function(e){var n=e.indexOf(\":\");if(n>0){var r=e.slice(0,n),o=r.toLowerCase(),i=e.slice(n+1).trim();t.maybeSetNormalizedName(r,o),t.headers.has(o)?t.headers.get(o).push(i):t.headers.set(o,[i])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(n){var r=e[n],o=n.toLowerCase();\"string\"==typeof r&&(r=[r]),r.length>0&&(t.headers.set(o,r),t.maybeSetNormalizedName(n,o))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:\"a\"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:\"s\"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:\"d\"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case\"a\":case\"s\":var n=e.value;if(\"string\"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=(\"a\"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,p(n)),this.headers.set(t,r);break;case\"d\":var o=e.value;if(o){var i=this.headers.get(t);if(!i)return;0===(i=i.filter(function(e){return-1===o.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})},e}(),ld=function(){function e(){}return e.prototype.encodeKey=function(e){return pd(e)},e.prototype.encodeValue=function(e){return pd(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function pd(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/gi,\"$\").replace(/%2C/gi,\",\").replace(/%3B/gi,\";\").replace(/%2B/gi,\"+\").replace(/%3D/gi,\"=\").replace(/%3F/gi,\"?\").replace(/%2F/gi,\"/\")}var hd=function(){function e(e){void 0===e&&(e={});var t,n,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ld,e.fromString){if(e.fromObject)throw new Error(\"Cannot specify both fromString and fromObject.\");this.map=(t=e.fromString,n=this.encoder,r=new Map,t.length>0&&t.split(\"&\").forEach(function(e){var t=e.indexOf(\"=\"),o=l(-1==t?[n.decodeKey(e),\"\"]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),i=o[0],s=o[1],a=r.get(i)||[];a.push(s),r.set(i,a)}),r)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var n=e.fromObject[t];o.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:\"a\"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:\"s\"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:\"d\"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+\"=\"+e.encoder.encodeValue(t)}).join(\"&\")}).join(\"&\")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case\"a\":case\"s\":var n=(\"a\"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case\"d\":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],o=r.indexOf(t.value);-1!==o&&r.splice(o,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=null)},e}();function fd(e){return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function dd(e){return\"undefined\"!=typeof Blob&&e instanceof Blob}function md(e){return\"undefined\"!=typeof FormData&&e instanceof FormData}var gd=function(){function e(e,t,n,r){var o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType=\"json\",this.method=e.toUpperCase(),function(e){switch(e){case\"DELETE\":case\"GET\":case\"HEAD\":case\"OPTIONS\":case\"JSONP\":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new cd),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=t;else{var s=t.indexOf(\"?\");this.urlWithParams=t+(-1===s?\"?\":s<t.length-1?\"&\":\"\")+i}}else this.params=new hd,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:fd(this.body)||dd(this.body)||md(this.body)||\"string\"==typeof this.body?this.body:this.body instanceof hd?this.body.toString():\"object\"==typeof this.body||\"boolean\"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:md(this.body)?null:dd(this.body)?this.body.type||null:fd(this.body)?null:\"string\"==typeof this.body?\"text/plain\":this.body instanceof hd?\"application/x-www-form-urlencoded;charset=UTF-8\":\"object\"==typeof this.body||\"number\"==typeof this.body||Array.isArray(this.body)?\"application/json\":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(c=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},c)),new e(n,r,i,{params:c,headers:u,reportProgress:a,responseType:o,withCredentials:s})},e}(),yd=function(e){return e[e.Sent=0]=\"Sent\",e[e.UploadProgress=1]=\"UploadProgress\",e[e.ResponseHeader=2]=\"ResponseHeader\",e[e.DownloadProgress=3]=\"DownloadProgress\",e[e.Response=4]=\"Response\",e[e.User=5]=\"User\",e}({}),vd=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n=\"OK\"),this.headers=e.headers||new cd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),bd=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=yd.ResponseHeader,n}return o(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(vd),wd=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=yd.Response,n.body=void 0!==t.body?t.body:null,n}return o(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(vd),_d=function(e){function t(t){var n=e.call(this,t,0,\"Unknown Error\")||this;return n.name=\"HttpErrorResponse\",n.ok=!1,n.message=n.status>=200&&n.status<300?\"Http failure during parsing for \"+(t.url||\"(unknown url)\"):\"Http failure response for \"+(t.url||\"(unknown url)\")+\": \"+t.status+\" \"+t.statusText,n.error=t.error||null,n}return o(t,e),t}(vd);function Sd(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Cd=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var r,o=this;if(void 0===n&&(n={}),e instanceof gd)r=e;else{var i;i=n.headers instanceof cd?n.headers:new cd(n.headers);var s=void 0;n.params&&(s=n.params instanceof hd?n.params:new hd({fromObject:n.params})),r=new gd(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||\"json\",withCredentials:n.withCredentials})}var a=Wu(r).pipe(Ku(function(e){return o.handler.handle(e)}));if(e instanceof gd||\"events\"===n.observe)return a;var u=a.pipe(Zu(function(e){return e instanceof wd}));switch(n.observe||\"body\"){case\"body\":switch(r.responseType){case\"arraybuffer\":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error(\"Response is not an ArrayBuffer.\");return e.body}));case\"blob\":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error(\"Response is not a Blob.\");return e.body}));case\"text\":return u.pipe(G(function(e){if(null!==e.body&&\"string\"!=typeof e.body)throw new Error(\"Response is not a string.\");return e.body}));case\"json\":default:return u.pipe(G(function(e){return e.body}))}case\"response\":return u;default:throw new Error(\"Unreachable: unhandled observe type \"+n.observe+\"}\")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request(\"DELETE\",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request(\"GET\",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request(\"HEAD\",e,t)},e.prototype.jsonp=function(e,t){return this.request(\"JSONP\",e,{params:(new hd).append(t,\"JSONP_CALLBACK\"),observe:\"body\",responseType:\"json\"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request(\"OPTIONS\",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request(\"PATCH\",e,Sd(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request(\"POST\",e,Sd(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request(\"PUT\",e,Sd(n,t))},e}(),Od=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),Ed=new ve(\"HTTP_INTERCEPTORS\"),Td=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),xd=/^\\)\\]\\}',?\\n/,Nd=function(){},Ad=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),Id=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if(\"JSONP\"===e.method)throw new Error(\"Attempted to construct Jsonp request without JsonpClientModule installed.\");return new M(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(\",\"))}),e.headers.has(\"Accept\")||r.setRequestHeader(\"Accept\",\"application/json, text/plain, */*\"),!e.headers.has(\"Content-Type\")){var o=e.detectContentTypeHeader();null!==o&&r.setRequestHeader(\"Content-Type\",o)}if(e.responseType){var i=e.responseType.toLowerCase();r.responseType=\"json\"!==i?i:\"text\"}var s=e.serializeBody(),a=null,u=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||\"OK\",o=new cd(r.getAllResponseHeaders()),i=function(e){return\"responseURL\"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader(\"X-Request-URL\"):null}(r)||e.url;return a=new bd({headers:o,status:t,statusText:n,url:i})},c=function(){var t=u(),o=t.headers,i=t.status,s=t.statusText,a=t.url,c=null;204!==i&&(c=void 0===r.response?r.responseText:r.response),0===i&&(i=c?200:0);var l=i>=200&&i<300;if(\"json\"===e.responseType&&\"string\"==typeof c){var p=c;c=c.replace(xd,\"\");try{c=\"\"!==c?JSON.parse(c):null}catch(e){c=p,l&&(l=!1,c={error:e,text:c})}}l?(n.next(new wd({body:c,headers:o,status:i,statusText:s,url:a||void 0})),n.complete()):n.error(new _d({error:c,headers:o,status:i,statusText:s,url:a||void 0}))},l=function(e){var t=new _d({error:e,status:r.status||0,statusText:r.statusText||\"Unknown Error\"});n.error(t)},p=!1,h=function(t){p||(n.next(u()),p=!0);var o={type:yd.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(o.total=t.total),\"text\"===e.responseType&&r.responseText&&(o.partialText=r.responseText),n.next(o)},f=function(e){var t={type:yd.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener(\"load\",c),r.addEventListener(\"error\",l),e.reportProgress&&(r.addEventListener(\"progress\",h),null!==s&&r.upload&&r.upload.addEventListener(\"progress\",f)),r.send(s),n.next({type:yd.Sent}),function(){r.removeEventListener(\"error\",l),r.removeEventListener(\"load\",c),e.reportProgress&&(r.removeEventListener(\"progress\",h),null!==s&&r.upload&&r.upload.removeEventListener(\"progress\",f)),r.abort()}})},e}(),kd=new ve(\"XSRF_COOKIE_NAME\"),Pd=new ve(\"XSRF_HEADER_NAME\"),Rd=function(){},Md=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString=\"\",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if(\"server\"===this.platform)return null;var e=this.doc.cookie||\"\";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=zc(e,this.cookieName),this.lastCookieString=e),this.lastToken},s([a(0,Ue(tl)),a(1,Ue(zt)),a(2,Ue(kd))],e)}(),Dd=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if(\"GET\"===e.method||\"HEAD\"===e.method||n.startsWith(\"http://\")||n.startsWith(\"https://\"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)},s([a(1,Ue(Pd))],e)}(),Bd=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(Ed,[]);this.chain=t.reduceRight(function(e,t){return new Od(e,t)},this.backend)}return this.chain.handle(e)},e}(),Ld=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:Dd,useClass:Td}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:kd,useValue:e.cookieName}:[],e.headerName?{provide:Pd,useValue:e.headerName}:[]]}},e}(),jd=function(){},Ud=function(){function e(e,t){this.http=e,this.mongodbService=t,console.log(\"KP : MongodbService for MongoDB Access...\"),this.kptest()}return e.prototype.kptest=function(){console.log(\"KP : MongodbService for MongoDB Access...\")},e.ngInjectableDef=ye({factory:function(){return new e(pt(Cd),pt(e))},token:e,providedIn:\"root\"}),e}(),Vd={headers:new cd({\"Content-Type\":\"application/json\"})},zd=function(){function e(e,t,n){this.http=e,this.messageService=t,this.mongodbService=n,this.heroesUrl=\"api/heroes\"}return e.prototype.getHeroes=function(){var e=this;return this.http.get(this.heroesUrl).pipe(oc(function(t){e.log(\"fetched heroes\"),e.log(\"KP : Call MongoDBservice\")}),fc(this.handleError(\"getHeroes\",[])))},e.prototype.getHeroNo404=function(e){var t=this;return this.http.get(this.heroesUrl+\"/?id=\"+e).pipe(G(function(e){return e[0]}),oc(function(n){t.log((n?\"fetched\":\"did not find\")+\" hero id=\"+e)}),fc(this.handleError(\"getHero id=\"+e)))},e.prototype.getHeroWORKING=function(e){var t=this;return this.http.get(this.heroesUrl+\"/\"+e).pipe(oc(function(n){return t.log(\"fetched hero id=\"+e)}),fc(this.handleError(\"getHero id=\"+e)))},e.prototype.getHero=function(e){var t=this;return this.http.get(this.heroesUrl+\"/\"+e).pipe(oc(function(n){return t.log(\"fetched hero id=\"+e)}),fc(this.handleError(\"getHero id=\"+e)))},e.prototype.searchHeroes=function(e){var t=this;return e.trim()?this.http.get(this.heroesUrl+\"/?name=\"+e).pipe(oc(function(n){return t.log('found heroes matching \"'+e+'\"')}),fc(this.handleError(\"searchHeroes\",[]))):Wu([])},e.prototype.addHero=function(e){var t=this;return this.http.post(this.heroesUrl,e,Vd).pipe(oc(function(e){return t.log(\"added hero w/ id=\"+e.id)}),fc(this.handleError(\"addHero\")))},e.prototype.deleteHero=function(e){var t=this,n=\"number\"==typeof e?e:e.id;return this.http.delete(this.heroesUrl+\"/\"+n,Vd).pipe(oc(function(e){return t.log(\"deleted hero id=\"+n)}),fc(this.handleError(\"deleteHero\")))},e.prototype.updateHero=function(e){var t=this;return this.http.put(this.heroesUrl,e,Vd).pipe(oc(function(n){return t.log(\"updated hero id=\"+e.id)}),fc(this.handleError(\"updateHero\")))},e.prototype.handleError=function(e,t){var n=this;return void 0===e&&(e=\"operation\"),function(r){return console.error(r),n.log(e+\" failed: \"+r.message),Wu(t)}},e.prototype.log=function(e){this.messageService.add(\"HeroService: \"+e)},e.ngInjectableDef=ye({factory:function(){return new e(pt(Cd),pt(sd),pt(Ud))},token:e,providedIn:\"root\"}),e}(),qd=function(){function e(e){this.heroService=e,this.searchTerms=new ue}return e.prototype.search=function(e){this.searchTerms.next(e)},e.prototype.ngOnInit=function(){var e,t=this;this.heroes$=this.searchTerms.pipe((void 0===e&&(e=Jf),function(t){return t.lift(new Xf(300,e))}),function(e){return e.lift(new nd(void 0,void 0))},function e(t,n){return\"function\"==typeof n?function(r){return r.pipe(e(function(e,r){return J(t(e,r)).pipe(G(function(t,o){return n(e,t,r,o)}))}))}:function(e){return e.lift(new od(t))}}(function(e){return t.heroService.searchHeroes(e)}))},e}(),Fd=lo({encapsulation:0,styles:[[\".search-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid gray;border-left:1px solid gray;border-right:1px solid gray;width:195px;height:16px;padding:5px;background-color:#fff;cursor:pointer;list-style-type:none}.search-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#607d8b}.search-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;display:block;text-decoration:none}.search-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .search-result[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}#search-box[_ngcontent-%COMP%]{width:200px;height:20px}ul.search-result[_ngcontent-%COMP%]{margin-top:0;padding-left:0}\"]],data:{}});function Hd(e){return Xi(0,[(e()(),Vo(0,0,null,null,3,\"li\",[],null,null,null,null,null)),(e()(),Vo(1,0,null,null,2,\"a\",[],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==mi(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(2,671744,null,0,_f,[vf,kh,Nc],{routerLink:[0,\"routerLink\"]},null),(e()(),Zi(3,null,[\" \",\" \"]))],function(e,t){e(t,2,0,Lo(1,\"/detail/\",t.context.$implicit.id,\"\"))},function(e,t){e(t,1,0,mi(t,2).target,mi(t,2).href),e(t,3,0,t.context.$implicit.name)})}function Wd(e){return Xi(0,[(e()(),Vo(0,0,null,null,7,\"div\",[[\"id\",\"search-component\"]],null,null,null,null,null)),(e()(),Vo(1,0,null,null,1,\"h4\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"Hero Search\"])),(e()(),Vo(3,0,[[\"searchBox\",1]],null,0,\"input\",[[\"id\",\"search-box\"]],null,[[null,\"keyup\"]],function(e,t,n){var r=!0;return\"keyup\"===t&&(r=!1!==e.component.search(mi(e,3).value)&&r),r},null,null)),(e()(),Vo(4,0,null,null,3,\"ul\",[[\"class\",\"search-result\"]],null,null,null,null,null)),(e()(),Uo(16777216,null,null,2,null,Hd)),Ni(6,278528,null,0,Fc,[Hn,Fn,hr],{ngForOf:[0,\"ngForOf\"]},null),Ai(131072,Jc,[Wn])],function(e,t){var n=t.component;e(t,6,0,ao(t,6,0,mi(t,7).transform(n.heroes$)))},null)}var $d=function(){function e(e,t){this.heroService=e,this.mongodbService=t,this.heroes=[]}return e.prototype.ngOnInit=function(){this.getHeros(),this.getMongoDB()},e.prototype.getHeros=function(){var e=this;this.heroService.getHeroes().subscribe(function(t){return e.heroes=t.slice(1,5)})},e.prototype.getMongoDB=function(){this.mongodbService.kptest()},e}(),Yd=lo({encapsulation:0,styles:[[\"[class*=col-][_ngcontent-%COMP%]{float:left;padding-right:20px;padding-bottom:20px}[class*=clo-][_ngcontent-%COMP%]:last-of-type{padding-right:0}a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%], .before[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after{box-sizing:border-box}h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}h4[_ngcontent-%COMP%]{position:relative}.grid[_ngcontent-%COMP%]{margin:0}.col-1-4[_ngcontent-%COMP%]{width:25%}.module[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#eee;max-height:120px;min-width:120px;background-color:#607d8b;border-radius:2px}.module[_ngcontent-%COMP%]:hover{background-color:#eee;cursor:pointer;color:#607d8b}.grid-pad[_ngcontent-%COMP%]{padding:10px 0}.grid-pad[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]:last-of-type{padding-right:20px}@media (max-width:600px){.module[_ngcontent-%COMP%]{font-size:10px;max-height:75px}}@media (max-width:1024px){.grid[_ngcontent-%COMP%]{margin:0}.module[_ngcontent-%COMP%]{min-width:60px}}\"]],data:{}});function Gd(e){return Xi(0,[(e()(),Vo(0,0,null,null,4,\"a\",[[\"class\",\"col-1-4\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==mi(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(1,671744,null,0,_f,[vf,kh,Nc],{routerLink:[0,\"routerLink\"]},null),(e()(),Vo(2,0,null,null,2,\"div\",[[\"class\",\"module hero\"]],null,null,null,null,null)),(e()(),Vo(3,0,null,null,1,\"h4\",[],null,null,null,null,null)),(e()(),Zi(4,null,[\"\",\"\"]))],function(e,t){e(t,1,0,Lo(1,\"/detail/\",t.context.$implicit.id,\"\"))},function(e,t){e(t,0,0,mi(t,1).target,mi(t,1).href),e(t,4,0,t.context.$implicit.name)})}function Kd(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"h3\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"Top Heroes\"])),(e()(),Vo(2,0,null,null,2,\"div\",[[\"class\",\"grid grid-pad\"]],null,null,null,null,null)),(e()(),Uo(16777216,null,null,1,null,Gd)),Ni(4,278528,null,0,Fc,[Hn,Fn,hr],{ngForOf:[0,\"ngForOf\"]},null),(e()(),Vo(5,0,null,null,1,\"app-hero-search\",[],null,null,null,Wd,Fd)),Ni(6,114688,null,0,qd,[zd],null,null)],function(e,t){e(t,4,0,t.component.heroes),e(t,6,0)},null)}var Zd=oi(\"app-dashboard\",$d,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"app-dashboard\",[],null,null,null,Kd,Yd)),Ni(1,114688,null,0,$d,[zd,Ud],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),Qd=function(e){function t(t,n){var r=e.call(this,t)||this;r.sources=n,r.completed=0,r.haveValues=0;var o=n.length;r.values=new Array(o);for(var i=0;i<o;i++){var s=$(r,n[i],null,i);s&&r.add(s)}return r}return o(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values[n]=t,o._hasValue||(o._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,r=this.values,o=r.length;e._hasValue?(this.completed++,this.completed===o&&(n===o&&t.next(r),t.complete())):t.complete()},t}(Y),Jd=function(){function e(){}return Object.defineProperty(e.prototype,\"value\",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"valid\",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"invalid\",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pending\",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"disabled\",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"enabled\",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"errors\",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pristine\",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"dirty\",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"touched\",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"status\",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"untouched\",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"statusChanges\",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"valueChanges\",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),Xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,\"formDirective\",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Jd);function em(e){return null==e||0===e.length}var tm=new ve(\"NgValidators\"),nm=new ve(\"NgAsyncValidators\"),rm=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,om=function(){function e(){}return e.min=function(e){return function(t){if(em(t.value)||em(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(em(t.value)||em(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return em(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return em(e.value)?null:rm.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(em(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?(\"string\"==typeof t?(r=\"\",\"^\"!==t.charAt(0)&&(r+=\"^\"),r+=t,\"$\"!==t.charAt(t.length-1)&&(r+=\"$\"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(em(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(im);return 0==t.length?null:function(e){return am(function(e,n){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(im);return 0==t.length?null:function(e){return function e(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return\"function\"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&y(n[0])&&(n=n[0]),0===n.length?Fu:t?e(n).pipe(G(function(e){return t.apply(void 0,e)})):new M(function(e){return new Qd(e,n)})}(function(e,n){return t.map(function(t){return t(e)})}(e).map(sm)).pipe(G(am))}},e}();function im(e){return null!=e}function sm(e){var t=Rt(e)?J(e):e;if(!Mt(t))throw new Error(\"Expected validator to return Promise or Observable.\");return t}function am(e){var t=e.reduce(function(e,t){return null!=t?i({},e,t):e},{});return 0===Object.keys(t).length?null:t}var um=new ve(\"NgValueAccessor\"),cm=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e}(),lm=new ve(\"CompositionEventMode\"),pm=function(){function e(e,t,n){var r;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=sl()?sl().getUserAgent():\"\",!/android (\\d+)/.test(r.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==e?\"\":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},s([a(2,Ve()),a(2,Ue(lm))],e)}();function hm(e){return e.validate?function(t){return e.validate(t)}:e}function fm(e){return e.validate?function(t){return e.validate(t)}:e}var dm=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",null==e?\"\":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(\"\"==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e}();function mm(){throw new Error(\"unimplemented\")}var gm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return o(t,e),Object.defineProperty(t.prototype,\"validator\",{get:function(){return mm()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"asyncValidator\",{get:function(){return mm()},enumerable:!0,configurable:!0}),t}(Jd),ym=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),vm=function(){function e(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(gm),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,\"checked\",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\\n      If you define both a name and a formControlName attribute on your radio button, their values\\n      must match. Ex: <input type=\"radio\" formControlName=\"food\" name=\"food\">\\n    ')},e}(),bm='\\n    <div [formGroup]=\"myGroup\">\\n       <div formGroupName=\"person\">\\n          <input formControlName=\"firstName\">\\n       </div>\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       person: new FormGroup({ firstName: new FormControl() })\\n    });',wm='\\n    <form>\\n       <div ngModelGroup=\"person\">\\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\\n       </div>\\n    </form>';function _m(e,t){return p(t.path,[e])}function Sm(e,t){e||Om(t,\"Cannot find control with\"),t.valueAccessor||Om(t,\"No value accessor for form control with\"),e.validator=om.compose([e.validator,t.validator]),e.asyncValidator=om.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,\"change\"===e.updateOn&&Cm(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,\"blur\"===e.updateOn&&e._pendingChange&&Cm(e,t),\"submit\"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function Cm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Om(e,t){var n;throw n=e.path.length>1?\"path: '\"+e.path.join(\" -> \")+\"'\":e.path[0]?\"name: '\"+e.path+\"'\":\"unspecified name attribute\",new Error(t+\" \"+n)}function Em(e){return null!=e?om.compose(e.map(hm)):null}function Tm(e){return null!=e?om.composeAsync(e.map(fm)):null}var xm=[cm,function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"value\",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(\"\"==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e}(),dm,function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=De}return Object.defineProperty(e.prototype,\"compareWith\",{set:function(e){if(\"function\"!=typeof e)throw new Error(\"compareWith must be a function, but received \"+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,\"selectedIndex\",-1);var n=function(e,t){return null==e?\"\"+t:(t&&\"object\"==typeof t&&(t=\"Object\"),(e+\": \"+t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,\"value\",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){var t,n;try{for(var r=c(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var i=o.value;if(this._compareWith(this._optionMap.get(i),e))return i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(\":\")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=De}return Object.defineProperty(e.prototype,\"compareWith\",{set:function(e){if(\"function\"!=typeof e)throw new Error(\"compareWith must be a function, but received \"+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty(\"selectedOptions\"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var s=o.item(i),a=t._getOptionValue(s.value);r.push(a)}else for(o=n.options,i=0;i<o.length;i++)(s=o.item(i)).selected&&(a=t._getOptionValue(s.value),r.push(a));t.value=r,e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){var t,n;try{for(var r=c(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var i=o.value;if(this._compareWith(this._optionMap.get(i)._value,e))return i}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(\":\")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),vm],Nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,\"control\",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return _m(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"formDirective\",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"validator\",{get:function(){return Em(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"asyncValidator\",{get:function(){return Tm(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(Xd),Am=function(e){function t(t){return e.call(this,t)||this}return o(t,e),s([a(0,ze())],t)}(function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,\"ngClassUntouched\",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassTouched\",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassPristine\",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassDirty\",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassValid\",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassInvalid\",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ngClassPending\",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}());function Im(e){var t=Pm(e)?e.validators:e;return Array.isArray(t)?Em(t):t||null}function km(e,t){var n=Pm(t)?t.asyncValidators:e;return Array.isArray(n)?Tm(n):n||null}function Pm(e){return null!=e&&!Array.isArray(e)&&\"object\"==typeof e}var Rm=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"valid\",{get:function(){return\"VALID\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"invalid\",{get:function(){return\"INVALID\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"pending\",{get:function(){return\"PENDING\"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"disabled\",{get:function(){return\"DISABLED\"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"enabled\",{get:function(){return\"DISABLED\"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"dirty\",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"untouched\",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"updateOn\",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:\"change\"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=Im(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=km(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status=\"PENDING\",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status=\"DISABLED\",this.errors=null,this._forEachChild(function(t){t.disable(i({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status=\"VALID\",this._forEachChild(function(t){t.enable(i({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),\"VALID\"!==this.status&&\"PENDING\"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?\"DISABLED\":\"VALID\"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status=\"PENDING\";var n=sm(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(\".\")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof Dm?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Bm&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,\"root\",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new ln,this.statusChanges=new ln},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?\"DISABLED\":this.errors?\"INVALID\":this._anyControlsHaveStatus(\"PENDING\")?\"PENDING\":this._anyControlsHaveStatus(\"INVALID\")?\"INVALID\":\"VALID\"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return\"object\"==typeof e&&null!==e&&2===Object.keys(e).length&&\"value\"in e&&\"disabled\"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){Pm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),Mm=function(e){function t(t,n,r){void 0===t&&(t=null);var o=e.call(this,Im(n),km(r,n))||this;return o._onChange=[],o._applyFormState(t),o._setUpdateStrategy(n),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return o(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!(\"submit\"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(Rm),Dm=function(e){function t(t,n,r){var o=e.call(this,Im(n),km(r,n))||this;return o.controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return o(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Mm?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error(\"\\n        There are no form controls registered with this group yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.controls[e])throw new Error(\"Cannot find form control with name: \"+e+\".\")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(r,o){n=n||t.contains(o)&&e(r)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=c(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error(\"Must supply a value for form control with name: '\"+n+\"'.\")})},t}(Rm),Bm=function(e){function t(t,n,r){var o=e.call(this,Im(n),km(r,n))||this;return o.controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return o(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,\"length\",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,r){n._throwIfControlMissing(r),n.at(r).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,r){n.at(r)&&n.at(r).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof Mm?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error(\"\\n        There are no form controls registered with this array yet.  If you're using ngModel,\\n        you may want to check next tick (e.g. use setTimeout).\\n      \");if(!this.at(e))throw new Error(\"Cannot find form control at index \"+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error(\"Must supply a value for form control at index: \"+n+\".\")})},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=c(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(Rm),Lm=Promise.resolve(null),jm=function(e){function t(t,n){var r=e.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new ln,r.form=new Dm({},Em(t),Tm(n)),r}return o(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,\"formDirective\",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"control\",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"controls\",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;Lm.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Sm(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;Lm.then(function(){var n,r,o=t._findContainer(e.path);o&&o.removeControl(e.name),(r=(n=t._directives).indexOf(e))>-1&&n.splice(r,1)})},t.prototype.addFormGroup=function(e){var t=this;Lm.then(function(){var n=t._findContainer(e.path),r=new Dm({});(function(e,t){null==e&&Om(t,\"Cannot find control with\"),e.validator=om.compose([e.validator,t.validator]),e.asyncValidator=om.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;Lm.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;Lm.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;\"submit\"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},s([a(0,Ve()),a(0,ze()),a(0,Ue(tm)),a(1,Ve()),a(1,ze()),a(1,Ue(nm))],t)}(Xd),Um=function(){function e(){}return e.modelParentException=function(){throw new Error('\\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\\n      formGroup\\'s partner directive \"formControlName\" instead.  Example:\\n\\n      \\n    <div [formGroup]=\"myGroup\">\\n      <input formControlName=\"firstName\">\\n    </div>\\n\\n    In your class:\\n\\n    this.myGroup = new FormGroup({\\n       firstName: new FormControl()\\n    });\\n\\n      Or, if you\\'d like to avoid registering this form control, indicate that it\\'s standalone in ngModelOptions:\\n\\n      Example:\\n\\n      \\n    <div [formGroup]=\"myGroup\">\\n       <input formControlName=\"firstName\">\\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\\n    </div>\\n  ')},e.formGroupNameException=function(){throw new Error(\"\\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\\n\\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\\n\\n      \"+bm+\"\\n\\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\\n\\n      \"+wm)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\\n      control must be defined as \\'standalone\\' in ngModelOptions.\\n\\n      Example 1: <input [(ngModel)]=\"person.firstName\" name=\"first\">\\n      Example 2: <input [(ngModel)]=\"person.firstName\" [ngModelOptions]=\"{standalone: true}\">')},e.modelGroupParentException=function(){throw new Error(\"\\n      ngModelGroup cannot be used with a parent formGroup directive.\\n\\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\\n\\n      \"+bm+\"\\n\\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\\n\\n      \"+wm)},e}(),Vm=function(e){function t(t,n,r){var o=e.call(this)||this;return o._parent=t,o._validators=n,o._asyncValidators=r,o}var n;return o(t,e),n=t,t.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof jm||Um.modelGroupParentException()},n=s([a(0,Fe()),a(0,qe()),a(1,Ve()),a(1,ze()),a(1,Ue(tm)),a(2,Ve()),a(2,ze()),a(2,Ue(nm))],t)}(Nm),zm=Promise.resolve(null),qm=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.control=new Mm,i._registered=!1,i.update=new ln,i._parent=t,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Om(e,\"Value accessor was not provided as an array for form control with\");var n=void 0,r=void 0,o=void 0;return t.forEach(function(t){var i;t.constructor===pm?n=t:(i=t,xm.some(function(e){return i.constructor===e})?(r&&Om(e,\"More than one built-in value accessor matches form control with\"),r=t):(o&&Om(e,\"More than one custom value accessor matches form control with\"),o=t))}),o||r||n||(Om(e,\"No valid value accessor for form control with\"),null)}(i,o),i}return o(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),\"isDisabled\"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty(\"model\"))return!1;var n=e.model;return!!n.isFirstChange()||!De(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,\"path\",{get:function(){return this._parent?_m(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"formDirective\",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"validator\",{get:function(){return Em(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"asyncValidator\",{get:function(){return Tm(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Sm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Vm)&&this._parent instanceof Nm?Um.formGroupNameException():this._parent instanceof Vm||this._parent instanceof jm||Um.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Um.missingNameException()},t.prototype._updateValue=function(e){var t=this;zm.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,r=\"\"===n||n&&\"false\"!==n;zm.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})},s([a(0,Ve()),a(0,Fe()),a(1,Ve()),a(1,ze()),a(1,Ue(tm)),a(2,Ve()),a(2,ze()),a(2,Ue(nm)),a(3,Ve()),a(3,ze()),a(3,Ue(um))],t)}(gm),Fm=function(){},Hm=function(){},Wm=function(){function e(e,t,n){this.route=e,this.heroService=t,this.location=n}return e.prototype.ngOnInit=function(){this.getHero()},e.prototype.getHero=function(){var e=this,t=+this.route.snapshot.paramMap.get(\"id\");this.heroService.getHero(t).subscribe(function(t){return e.hero=t})},e.prototype.goBack=function(){this.location.back()},e.prototype.save=function(){var e=this;this.heroService.updateHero(this.hero).subscribe(function(){return e.goBack()})},e}(),$m=lo({encapsulation:0,styles:[[\"\"]],data:{}});function Ym(e){return Xi(0,[(e()(),Vo(0,0,null,null,20,\"div\",[],null,null,null,null,null)),(e()(),Vo(1,0,null,null,2,\"h2\",[],null,null,null,null,null)),(e()(),Zi(2,null,[\"\",\" Details\"])),function(e,t,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:3,flags:128,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Bo(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,0,new Array(2)),(e()(),Vo(4,0,null,null,3,\"div\",[],null,null,null,null,null)),(e()(),Vo(5,0,null,null,1,\"span\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"id: \"])),(e()(),Zi(7,null,[\"\",\"\"])),(e()(),Vo(8,0,null,null,8,\"div\",[],null,null,null,null,null)),(e()(),Vo(9,0,null,null,7,\"label\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"name: \"])),(e()(),Vo(11,0,null,null,5,\"input\",[[\"placeholder\",\"name\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(e,t,n){var r=!0,o=e.component;return\"input\"===t&&(r=!1!==mi(e,12)._handleInput(n.target.value)&&r),\"blur\"===t&&(r=!1!==mi(e,12).onTouched()&&r),\"compositionstart\"===t&&(r=!1!==mi(e,12)._compositionStart()&&r),\"compositionend\"===t&&(r=!1!==mi(e,12)._compositionEnd(n.target.value)&&r),\"ngModelChange\"===t&&(r=!1!==(o.hero.name=n)&&r),r},null,null)),Ni(12,16384,null,0,pm,[Dn,Bn,[2,lm]],null,null),Ii(1024,null,um,function(e){return[e]},[pm]),Ni(14,671744,null,0,qm,[[8,null],[8,null],[8,null],[6,um]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),Ii(2048,null,gm,null,[qm]),Ni(16,16384,null,0,Am,[[4,gm]],null,null),(e()(),Vo(17,0,null,null,1,\"button\",[],null,[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==e.component.goBack()&&r),r},null,null)),(e()(),Zi(-1,null,[\"go back\"])),(e()(),Vo(19,0,null,null,1,\"button\",[],null,[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==e.component.save()&&r),r},null,null)),(e()(),Zi(-1,null,[\"save\"]))],function(e,t){e(t,14,0,t.component.hero.name)},function(e,t){var n=t.component;e(t,2,0,ao(t,2,0,e(t,3,0,mi(t.parent,0),n.hero.name))),e(t,7,0,n.hero.id),e(t,11,0,mi(t,16).ngClassUntouched,mi(t,16).ngClassTouched,mi(t,16).ngClassPristine,mi(t,16).ngClassDirty,mi(t,16).ngClassValid,mi(t,16).ngClassInvalid,mi(t,16).ngClassPending)})}function Gm(e){return Xi(0,[Ai(0,Xc,[]),(e()(),Uo(16777216,null,null,1,null,Ym)),Ni(2,16384,null,0,Wc,[Hn,Fn],{ngIf:[0,\"ngIf\"]},null)],function(e,t){e(t,2,0,t.component.hero)},null)}var Km=oi(\"app-hero-detail\",Wm,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"app-hero-detail\",[],null,null,null,Gm,$m)),Ni(1,114688,null,0,Wm,[kh,zd,Ic],null,null)],function(e,t){e(t,1,0)},null)},{hero:\"hero\"},{},[]),Zm=function(){function e(e){this.heroService=e}return e.prototype.ngOnInit=function(){this.getHeroes()},e.prototype.getHeroes=function(){var e=this;this.heroService.getHeroes().subscribe(function(t){return e.heroes=t})},e.prototype.add=function(e){var t=this;(e=e.trim())&&this.heroService.addHero({name:e}).subscribe(function(e){t.heroes.push(e)})},e.prototype.delete=function(e){this.heroes=this.heroes.filter(function(t){return t!==e}),this.heroService.deleteHero(e).subscribe()},e}(),Qm=lo({encapsulation:0,styles:[[\".heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;position:relative;display:block;width:250px}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}button[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;cursor:hand;font-family:Arial}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button.delete[_ngcontent-%COMP%]{position:relative;left:194px;top:-32px;background-color:gray!important;color:#fff}\"]],data:{}});function Jm(e){return Xi(0,[(e()(),Vo(0,0,null,null,7,\"li\",[],null,null,null,null,null)),(e()(),Vo(1,0,null,null,4,\"a\",[],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==mi(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(2,671744,null,0,_f,[vf,kh,Nc],{routerLink:[0,\"routerLink\"]},null),(e()(),Vo(3,0,null,null,1,\"span\",[[\"class\",\"badge\"]],null,null,null,null,null)),(e()(),Zi(4,null,[\"\",\"\"])),(e()(),Zi(5,null,[\" \",\" \"])),(e()(),Vo(6,0,null,null,1,\"button\",[[\"class\",\"delete\"],[\"title\",\"delete hero\"]],null,[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==e.component.delete(e.context.$implicit)&&r),r},null,null)),(e()(),Zi(-1,null,[\"x\"]))],function(e,t){e(t,2,0,Lo(1,\"/detail/\",t.context.$implicit.id,\"\"))},function(e,t){e(t,1,0,mi(t,2).target,mi(t,2).href),e(t,4,0,t.context.$implicit.id),e(t,5,0,t.context.$implicit.name)})}function Xm(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"h2\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"My Heroes\"])),(e()(),Vo(2,0,null,null,5,\"div\",[],null,null,null,null,null)),(e()(),Vo(3,0,null,null,2,\"label\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"Hero name: \"])),(e()(),Vo(5,0,[[\"heroName\",1]],null,0,\"input\",[],null,null,null,null,null)),(e()(),Vo(6,0,null,null,1,\"button\",[],null,[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(e.component.add(mi(e,5).value),r=!1!==(mi(e,5).value=\"\")&&r),r},null,null)),(e()(),Zi(-1,null,[\" add \"])),(e()(),Vo(8,0,null,null,2,\"ul\",[[\"class\",\"heroes\"]],null,null,null,null,null)),(e()(),Uo(16777216,null,null,1,null,Jm)),Ni(10,278528,null,0,Fc,[Hn,Fn,hr],{ngForOf:[0,\"ngForOf\"]},null)],function(e,t){e(t,10,0,t.component.heroes)},null)}var eg=oi(\"app-heroes\",Zm,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"app-heroes\",[],null,null,null,Xm,Qm)),Ni(1,114688,null,0,Zm,[zd],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),tg=function(){function e(){}return e.prototype.ngOnInit=function(){this.kptest()},e.prototype.kptest=function(){console.log(\"KP : Mongodb Component for MongoDB Access...\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\"),n(\"9b1L\").pure(),n(\"9lTW\")},e}(),ng=lo({encapsulation:0,styles:[[\"\"]],data:{}});function rg(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\" mongodb works!\\n\"]))],null,null)}var og=oi(\"app-mongodb\",tg,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"app-mongodb\",[],null,null,null,rg,ng)),Ni(1,114688,null,0,tg,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),ig=function(){function e(e){this.messageService=e}return e.prototype.ngOnInit=function(){},e}(),sg=lo({encapsulation:0,styles:[[\"h2[_ngcontent-%COMP%]{color:red;font-family:Arial,Helvetica,sans-serif;font-weight:lighter}body[_ngcontent-%COMP%]{margin:2em}body[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[text][_ngcontent-%COMP%]{color:#dc143c;font-family:Cambria,Georgia}button.clear[_ngcontent-%COMP%]{font-family:Arial;background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;cursor:hand}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button[_ngcontent-%COMP%]:disabled{background-color:#eee;color:#aaa;cursor:auto}button.clear[_ngcontent-%COMP%]{color:#888;margin-bottom:12px}\"]],data:{}});function ag(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"div\",[],null,null,null,null,null)),(e()(),Zi(1,null,[\" \",\" \"]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function ug(e){return Xi(0,[(e()(),Vo(0,0,null,null,8,\"div\",[],null,null,null,null,null)),(e()(),Vo(1,0,null,null,1,\"h2\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"Messages\"])),(e()(),Vo(3,0,null,null,1,\"button\",[[\"class\",\"clear\"]],null,[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==e.component.messageService.clear()&&r),r},null,null)),(e()(),Zi(-1,null,[\"clear\"])),(e()(),Uo(16777216,null,null,1,null,ag)),Ni(6,278528,null,0,Fc,[Hn,Fn,hr],{ngForOf:[0,\"ngForOf\"]},null),(e()(),Vo(7,0,null,null,1,\"p\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\" messages works! \"]))],function(e,t){e(t,6,0,t.component.messageService.messages)},null)}function cg(e){return Xi(0,[(e()(),Uo(16777216,null,null,1,null,ug)),Ni(1,16384,null,0,Wc,[Hn,Fn],{ngIf:[0,\"ngIf\"]},null)],function(e,t){e(t,1,0,t.component.messageService.messages.length)},null)}var lg=lo({encapsulation:0,styles:[[\"h1[_ngcontent-%COMP%]{font-size:1.2em;color:#999;margin-bottom:0}h2[_ngcontent-%COMP%]{font-size:2em;margin-top:0;padding-top:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 10px;text-decoration:none;margin-top:10px;display:inline-block;background-color:#eee;border-radius:4px}a[_ngcontent-%COMP%]:link, nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#607d8b}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5;background-color:#cfd8dc}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#039be5}\"]],data:{}});function pg(e){return Xi(0,[(e()(),Vo(0,0,null,null,4,\"div\",[[\"style\",\"text-align:center\"]],null,null,null,null,null)),(e()(),Vo(1,0,null,null,1,\"h3\",[],null,null,null,null,null)),(e()(),Zi(-1,null,[\"Welcome\"])),(e()(),Vo(3,0,null,null,1,\"h1\",[],null,null,null,null,null)),(e()(),Zi(4,null,[\" \",\"! \"])),(e()(),Vo(5,0,null,null,6,\"nav\",[],null,null,null,null,null)),(e()(),Vo(6,0,null,null,2,\"a\",[[\"routerLink\",\"/dashboard\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==mi(e,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(7,671744,null,0,_f,[vf,kh,Nc],{routerLink:[0,\"routerLink\"]},null),(e()(),Zi(-1,null,[\"Dashboard\"])),(e()(),Vo(9,0,null,null,2,\"a\",[[\"routerLink\",\"/heroes\"]],[[1,\"target\",0],[8,\"href\",4]],[[null,\"click\"]],function(e,t,n){var r=!0;return\"click\"===t&&(r=!1!==mi(e,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(10,671744,null,0,_f,[vf,kh,Nc],{routerLink:[0,\"routerLink\"]},null),(e()(),Zi(-1,null,[\"Heroes\"])),(e()(),Vo(12,16777216,null,null,1,\"router-outlet\",[],null,null,null,null,null)),Ni(13,212992,null,0,Ef,[Of,Hn,en,[8,null],Wn],null,null),(e()(),Vo(14,0,null,null,1,\"app-heroes\",[],null,null,null,Xm,Qm)),Ni(15,114688,null,0,Zm,[zd],null,null),(e()(),Vo(16,0,null,null,1,\"app-messages\",[],null,null,null,cg,sg)),Ni(17,114688,null,0,ig,[sd],null,null),(e()(),Vo(18,0,null,null,1,\"div\",[[\"class\",\"footer\"],[\"style\",\"text-align:center\"]],null,null,null,null,null)),(e()(),Vo(19,0,null,null,0,\"img\",[[\"alt\",\"KP Personal Logo 32x32\"],[\"src\",\"/src/assets/KPIcon32x32.ico\"],[\"width\",\"30\"]],null,null,null,null,null))],function(e,t){e(t,7,0,\"/dashboard\"),e(t,10,0,\"/heroes\"),e(t,13,0),e(t,15,0),e(t,17,0)},function(e,t){e(t,4,0,t.component.title),e(t,6,0,mi(t,7).target,mi(t,7).href),e(t,9,0,mi(t,10).target,mi(t,10).href)})}var hg=oi(\"app-root\",qu,function(e){return Xi(0,[(e()(),Vo(0,0,null,null,1,\"app-root\",[],null,null,null,pg,lg)),Ni(1,49152,null,0,qu,[],null,null)],null,null)},{},{},[]),fg=function(){},dg=function(){return function(e){void 0===e&&(e={}),Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},e)}}(),mg=function(){function e(){}return e.prototype.createDb=function(){return{heroes:[{id:1,name:\"Mr.Nice\"},{id:2,name:\"Narco\"},{id:3,name:\"Bombasto\"},{id:4,name:\"Celeritas\"},{id:5,name:\"Magneta\"},{id:6,name:\"RubberMan\"},{id:7,name:\"Dynama\"},{id:8,name:\"Dr.IQ\"},{id:9,name:\"Magma\"},{id:10,name:\"Tornado\"},{id:11,name:\"Mr.Nice\"},{id:12,name:\"Narco\"},{id:11,name:\"Washington\"},{id:12,name:\"Lincoln\"},{id:13,name:\"Franklin\"},{id:14,name:\"Hancock\"},{id:15,name:\"Gandhi\"},{id:16,name:\"Vivekananda\"},{id:17,name:\"BhagatSingh\"},{id:18,name:\"SubhasBose\"},{id:19,name:\"PingaliVenkayya\"},{id:20,name:\"TanguturiPrakasam\"}]}},e.prototype.genId=function(e){return Zm.length>0?Math.max.apply(Math,e.map(function(e){return e.id}))+1:11},e}(),gg={100:{code:100,text:\"Continue\",description:'\"The initial part of a request has been received and has not yet been rejected by the server.\"',spec_title:\"RFC7231#6.2.1\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.2.1\"},101:{code:101,text:\"Switching Protocols\",description:'\"The server understands and is willing to comply with the client\\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection.\"',spec_title:\"RFC7231#6.2.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.2.2\"},200:{code:200,text:\"OK\",description:'\"The request has succeeded.\"',spec_title:\"RFC7231#6.3.1\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.1\"},201:{code:201,text:\"Created\",description:'\"The request has been fulfilled and has resulted in one or more new resources being created.\"',spec_title:\"RFC7231#6.3.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.2\"},202:{code:202,text:\"Accepted\",description:'\"The request has been accepted for processing, but the processing has not been completed.\"',spec_title:\"RFC7231#6.3.3\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.3\"},203:{code:203,text:\"Non-Authoritative Information\",description:'\"The request was successful but the enclosed payload has been modified from that of the origin server\\'s 200 (OK) response by a transforming proxy.\"',spec_title:\"RFC7231#6.3.4\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.4\"},204:{code:204,text:\"No Content\",description:'\"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body.\"',spec_title:\"RFC7231#6.3.5\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.5\"},205:{code:205,text:\"Reset Content\",description:'\"The server has fulfilled the request and desires that the user agent reset the \"document view\", which caused the request to be sent, to its original state as received from the origin server.\"',spec_title:\"RFC7231#6.3.6\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.6\"},206:{code:206,text:\"Partial Content\",description:'\"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\\'s Range header field.\"',spec_title:\"RFC7233#4.1\",spec_href:\"http://tools.ietf.org/html/rfc7233#section-4.1\"},300:{code:300,text:\"Multiple Choices\",description:'\"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers.\"',spec_title:\"RFC7231#6.4.1\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.1\"},301:{code:301,text:\"Moved Permanently\",description:'\"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs.\"',spec_title:\"RFC7231#6.4.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.2\"},302:{code:302,text:\"Found\",description:'\"The target resource resides temporarily under a different URI.\"',spec_title:\"RFC7231#6.4.3\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.3\"},303:{code:303,text:\"See Other\",description:'\"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request.\"',spec_title:\"RFC7231#6.4.4\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.4\"},304:{code:304,text:\"Not Modified\",description:'\"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false.\"',spec_title:\"RFC7232#4.1\",spec_href:\"http://tools.ietf.org/html/rfc7232#section-4.1\"},305:{code:305,text:\"Use Proxy\",description:\"*deprecated*\",spec_title:\"RFC7231#6.4.5\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.5\"},307:{code:307,text:\"Temporary Redirect\",description:'\"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI.\"',spec_title:\"RFC7231#6.4.7\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.4.7\"},400:{code:400,text:\"Bad Request\",description:'\"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process.\"',spec_title:\"RFC7231#6.5.1\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.1\"},401:{code:401,text:\"Unauthorized\",description:'\"The request has not been applied because it lacks valid authentication credentials for the target resource.\"',spec_title:\"RFC7235#6.3.1\",spec_href:\"http://tools.ietf.org/html/rfc7235#section-3.1\"},402:{code:402,text:\"Payment Required\",description:\"*reserved*\",spec_title:\"RFC7231#6.5.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.2\"},403:{code:403,text:\"Forbidden\",description:'\"The server understood the request but refuses to authorize it.\"',spec_title:\"RFC7231#6.5.3\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.3\"},404:{code:404,text:\"Not Found\",description:'\"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\"',spec_title:\"RFC7231#6.5.4\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.4\"},405:{code:405,text:\"Method Not Allowed\",description:'\"The method specified in the request-line is known by the origin server but not supported by the target resource.\"',spec_title:\"RFC7231#6.5.5\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.5\"},406:{code:406,text:\"Not Acceptable\",description:'\"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation.\"',spec_title:\"RFC7231#6.5.6\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.6\"},407:{code:407,text:\"Proxy Authentication Required\",description:'\"The client needs to authenticate itself in order to use a proxy.\"',spec_title:\"RFC7231#6.3.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.3.2\"},408:{code:408,text:\"Request Timeout\",description:'\"The server did not receive a complete request message within the time that it was prepared to wait.\"',spec_title:\"RFC7231#6.5.7\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.7\"},409:{code:409,text:\"Conflict\",description:'\"The request could not be completed due to a conflict with the current state of the resource.\"',spec_title:\"RFC7231#6.5.8\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.8\"},410:{code:410,text:\"Gone\",description:'\"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent.\"',spec_title:\"RFC7231#6.5.9\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.9\"},411:{code:411,text:\"Length Required\",description:'\"The server refuses to accept the request without a defined Content-Length.\"',spec_title:\"RFC7231#6.5.10\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.10\"},412:{code:412,text:\"Precondition Failed\",description:'\"One or more preconditions given in the request header fields evaluated to false when tested on the server.\"',spec_title:\"RFC7232#4.2\",spec_href:\"http://tools.ietf.org/html/rfc7232#section-4.2\"},413:{code:413,text:\"Payload Too Large\",description:'\"The server is refusing to process a request because the request payload is larger than the server is willing or able to process.\"',spec_title:\"RFC7231#6.5.11\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.11\"},414:{code:414,text:\"URI Too Long\",description:'\"The server is refusing to service the request because the request-target is longer than the server is willing to interpret.\"',spec_title:\"RFC7231#6.5.12\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.12\"},415:{code:415,text:\"Unsupported Media Type\",description:'\"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method.\"',spec_title:\"RFC7231#6.5.13\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.13\"},416:{code:416,text:\"Range Not Satisfiable\",description:'\"None of the ranges in the request\\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges.\"',spec_title:\"RFC7233#4.4\",spec_href:\"http://tools.ietf.org/html/rfc7233#section-4.4\"},417:{code:417,text:\"Expectation Failed\",description:'\"The expectation given in the request\\'s Expect header field could not be met by at least one of the inbound servers.\"',spec_title:\"RFC7231#6.5.14\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.14\"},418:{code:418,text:\"I'm a teapot\",description:'\"1988 April Fools Joke. Returned by tea pots requested to brew coffee.\"',spec_title:\"RFC 2324\",spec_href:\"https://tools.ietf.org/html/rfc2324\"},426:{code:426,text:\"Upgrade Required\",description:'\"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol.\"',spec_title:\"RFC7231#6.5.15\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.5.15\"},500:{code:500,text:\"Internal Server Error\",description:'\"The server encountered an unexpected condition that prevented it from fulfilling the request.\"',spec_title:\"RFC7231#6.6.1\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.1\"},501:{code:501,text:\"Not Implemented\",description:'\"The server does not support the functionality required to fulfill the request.\"',spec_title:\"RFC7231#6.6.2\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.2\"},502:{code:502,text:\"Bad Gateway\",description:'\"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request.\"',spec_title:\"RFC7231#6.6.3\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.3\"},503:{code:503,text:\"Service Unavailable\",description:'\"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay.\"',spec_title:\"RFC7231#6.6.4\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.4\"},504:{code:504,text:\"Gateway Time-out\",description:'\"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request.\"',spec_title:\"RFC7231#6.6.5\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.5\"},505:{code:505,text:\"HTTP Version Not Supported\",description:'\"The server does not support, or refuses to support, the protocol version that was used in the request message.\"',spec_title:\"RFC7231#6.6.6\",spec_href:\"http://tools.ietf.org/html/rfc7231#section-6.6.6\"},102:{code:102,text:\"Processing\",description:'\"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it.\"',spec_title:\"RFC5218#10.1\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.1\"},207:{code:207,text:\"Multi-Status\",description:'\"Status for multiple independent operations.\"',spec_title:\"RFC5218#10.2\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.2\"},226:{code:226,text:\"IM Used\",description:'\"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.\"',spec_title:\"RFC3229#10.4.1\",spec_href:\"http://tools.ietf.org/html/rfc3229#section-10.4.1\"},308:{code:308,text:\"Permanent Redirect\",description:'\"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET.\"',spec_title:\"RFC7238\",spec_href:\"http://tools.ietf.org/html/rfc7238\"},422:{code:422,text:\"Unprocessable Entity\",description:'\"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions.\"',spec_title:\"RFC5218#10.3\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.3\"},423:{code:423,text:\"Locked\",description:'\"The source or destination resource of a method is locked.\"',spec_title:\"RFC5218#10.4\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.4\"},424:{code:424,text:\"Failed Dependency\",description:'\"The method could not be performed on the resource because the requested action depended on another action and that action failed.\"',spec_title:\"RFC5218#10.5\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.5\"},428:{code:428,text:\"Precondition Required\",description:'\"The origin server requires the request to be conditional.\"',spec_title:\"RFC6585#3\",spec_href:\"http://tools.ietf.org/html/rfc6585#section-3\"},429:{code:429,text:\"Too Many Requests\",description:'\"The user has sent too many requests in a given amount of time (\"rate limiting\").\"',spec_title:\"RFC6585#4\",spec_href:\"http://tools.ietf.org/html/rfc6585#section-4\"},431:{code:431,text:\"Request Header Fields Too Large\",description:'\"The server is unwilling to process the request because its header fields are too large.\"',spec_title:\"RFC6585#5\",spec_href:\"http://tools.ietf.org/html/rfc6585#section-5\"},451:{code:451,text:\"Unavailable For Legal Reasons\",description:'\"The server is denying access to the resource in response to a legal demand.\"',spec_title:\"draft-ietf-httpbis-legally-restricted-status\",spec_href:\"http://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status\"},506:{code:506,text:\"Variant Also Negotiates\",description:'\"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process.\"',spec_title:\"RFC2295#8.1\",spec_href:\"http://tools.ietf.org/html/rfc2295#section-8.1\"},507:{code:507,text:\"Insufficient Storage\",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request.\"',spec_title:\"RFC5218#10.6\",spec_href:\"http://tools.ietf.org/html/rfc2518#section-10.6\"},511:{code:511,text:\"Network Authentication Required\",description:'\"The client needs to authenticate to gain network access.\"',spec_title:\"RFC6585#6\",spec_href:\"http://tools.ietf.org/html/rfc6585#section-6\"}},yg=function(){function e(e,t){void 0===t&&(t={}),this.inMemDbService=e,this.config=new dg,this.requestInfoUtils=this.getRequestInfoUtils();var n=this.getLocation(\"/\");this.config.host=n.host,this.config.rootPath=n.path,Object.assign(this.config,t)}return Object.defineProperty(e.prototype,\"dbReady\",{get:function(){return this.dbReadySubject||(this.dbReadySubject=new Gu(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(_c(function(e){return e}))},enumerable:!0,configurable:!0}),e.prototype.handleRequest=function(e){var t=this;return this.dbReady.pipe(Ku(function(){return t.handleRequest_(e)}))},e.prototype.handleRequest_=function(e){var t,n=this,r=e.urlWithParams?e.urlWithParams:e.url,o=this.bind(\"parseRequestUrl\"),i=o&&o(r,this.requestInfoUtils)||this.parseRequestUrl(r),s=i.collectionName,a=this.db[s],u={req:e,apiBase:i.apiBase,collection:a,collectionName:s,headers:this.createHeaders({\"Content-Type\":\"application/json\"}),id:this.parseId(a,s,i.id),method:this.getRequestMethod(e),query:i.query,resourceUrl:i.resourceUrl,url:r,utils:this.requestInfoUtils};if(/commands\\/?$/i.test(u.apiBase))return this.commands(u);var c=this.bind(u.method);if(c){var l=c(u);if(l)return l}return this.db[s]?this.createResponse$(function(){return n.collectionHandler(u)}):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(e):(t=this.createErrorResponseOptions(r,404,\"Collection '\"+s+\"' not found\"),this.createResponse$(function(){return t}))},e.prototype.addDelay=function(e){var t,n,r=this.config.delay;return 0===r?e:(t=e,n=r||500,new M(function(e){var r=!1,o=!1,i=t.subscribe(function(t){o=!0,setTimeout(function(){e.next(t),r&&e.complete()},n)},function(t){return setTimeout(function(){return e.error(t)},n)},function(){r=!0,o||e.complete()});return function(){return i.unsubscribe()}}))},e.prototype.applyQuery=function(e,t){var n=[],r=this.config.caseSensitiveSearch?void 0:\"i\";t.forEach(function(e,t){e.forEach(function(e){return n.push({name:t,rx:new RegExp(decodeURI(e),r)})})});var o=n.length;return o?e.filter(function(e){for(var t=!0,r=o;t&&r;){var i=n[r-=1];t=i.rx.test(e[i.name])}return t}):e},e.prototype.bind=function(e){var t=this.inMemDbService[e];return t?t.bind(this.inMemDbService):void 0},e.prototype.bodify=function(e){return this.config.dataEncapsulation?{data:e}:e},e.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.collectionHandler=function(e){var t;switch(e.method){case\"get\":t=this.get(e);break;case\"post\":t=this.post(e);break;case\"put\":t=this.put(e);break;case\"delete\":t=this.delete(e);break;default:t=this.createErrorResponseOptions(e.url,405,\"Method not allowed\")}var n=this.bind(\"responseInterceptor\");return n?n(t,e):t},e.prototype.commands=function(e){var t=this,n=e.collectionName.toLowerCase(),r=e.method,o={url:e.url};switch(n){case\"resetdb\":return o.status=204,this.resetDb(e).pipe(Ku(function(){return t.createResponse$(function(){return o},!1)}));case\"config\":if(\"get\"===r)o.status=200,o.body=this.clone(this.config);else{var i=this.getJsonBody(e.req);Object.assign(this.config,i),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(e.url,500,'Unknown command \"'+n+'\"')}return this.createResponse$(function(){return o},!1)},e.prototype.createErrorResponseOptions=function(e,t,n){return{body:{error:\"\"+n},url:e,headers:this.createHeaders({\"Content-Type\":\"application/json\"}),status:t}},e.prototype.createResponse$=function(e,t){void 0===t&&(t=!0);var n=this.createResponseOptions$(e),r=this.createResponse$fromResponseOptions$(n);return t?this.addDelay(r):r},e.prototype.createResponseOptions$=function(e){var t=this;return new M(function(n){var r;try{r=e()}catch(e){r=t.createErrorResponseOptions(\"\",500,\"\"+(e.message||e))}var o=r.status;try{r.statusText=function(e){return gg[e].text||\"Unknown Status\"}(o)}catch(e){}return function(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),function(){}})},e.prototype.delete=function(e){var t=e.collection,n=e.headers,r=e.id;return void 0==r?this.createErrorResponseOptions(e.url,404,'Missing \"'+e.collectionName+'\" id'):{headers:n,status:this.removeById(t,r)||!this.config.delete404?204:404}},e.prototype.findById=function(e,t){return e.find(function(e){return e.id===t})},e.prototype.genId=function(e,t){var n=this.bind(\"genId\");if(n){var r=n(e,t);if(void 0!=r)return r}return this.genIdDefault(e,t)},e.prototype.genIdDefault=function(e,t){if(!this.isCollectionIdNumeric(e,t))throw new Error(\"Collection '\"+t+\"' id type is non-numeric or unknown. Can only generate numeric ids.\");var n=0;return e.reduce(function(e,t){n=Math.max(n,\"number\"==typeof t.id?t.id:n)},void 0),n+1},e.prototype.get=function(e){var t=e.collection,n=e.collectionName,r=e.headers,o=e.id,i=e.query,s=e.url,a=t;return void 0!=o&&\"\"!==o?a=this.findById(t,o):i&&(a=this.applyQuery(t,i)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(s,404,\"'\"+n+\"' with id='\"+o+\"' not found\")},e.prototype.getLocation=function(e){if(!e.startsWith(\"http\")){var t=\"undefined\"==typeof document?void 0:document,n=t?t.location.protocol+\"//\"+t.location.host:\"http://fake\";e=e.startsWith(\"/\")?n+e:n+\"/\"+e}return function(t){for(var n=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:\"\",protocol:\"\",authority:\"\",userInfo:\"\",user:\"\",password:\"\",host:\"\",port:\"\",relative:\"\",path:\"\",directory:\"\",file:\"\",query:\"\",anchor:\"\"},o=Object.keys(r),i=o.length;i--;)r[o[i]]=n[i]||\"\";return r}()},e.prototype.getPassThruBackend=function(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()},e.prototype.getRequestInfoUtils=function(){var e=this;return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:function(){return e.config},getDb:function(){return e.db},getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}},e.prototype.indexOf=function(e,t){return e.findIndex(function(e){return e.id===t})},e.prototype.parseId=function(e,t,n){if(!this.isCollectionIdNumeric(e,t))return n;var r=parseFloat(n);return isNaN(r)?n:r},e.prototype.isCollectionIdNumeric=function(e,t){return!(!e||!e[0])&&\"number\"==typeof e[0].id},e.prototype.parseRequestUrl=function(e){try{var t=this.getLocation(e),n=this.config.rootPath.length,r=\"\";t.host!==this.config.host&&(n=1,r=t.protocol+\"//\"+t.host+\"/\");var o=t.path.substring(n).split(\"/\"),i=0,s=void 0;void 0==this.config.apiBase?s=o[i++]:i=(s=function(e){return e.replace(/\\/$/,\"\")}(this.config.apiBase.trim()))?s.split(\"/\").length:0;var a=o[i++];return{apiBase:s+=\"/\",collectionName:a=a&&a.split(\".\")[0],id:o[i++],query:this.createQueryMap(t.query),resourceUrl:r+s+a+\"/\"}}catch(t){throw new Error(\"unable to parse url '\"+e+\"'; original error: \"+t.message)}},e.prototype.post=function(e){var t=e.collection,n=e.collectionName,r=e.headers,o=e.id,i=e.resourceUrl,s=e.url,a=this.clone(this.getJsonBody(e.req));if(void 0==a.id)try{a.id=o||this.genId(t,n)}catch(e){var u=e.message||\"\";return/id type is non-numeric/.test(u)?this.createErrorResponseOptions(s,422,u):(console.error(e),this.createErrorResponseOptions(s,500,\"Failed to generate new id for '\"+n+\"'\"))}if(o&&o!==a.id)return this.createErrorResponseOptions(s,400,\"Request id does not match item.id\");var c=this.indexOf(t,o=a.id),l=this.bodify(a);return-1===c?(t.push(a),r.set(\"Location\",i+\"/\"+o),{headers:r,body:l,status:201}):this.config.post409?this.createErrorResponseOptions(s,409,\"'\"+n+\"' item with id='\"+o+\" exists and may not be updated with POST; use PUT instead.\"):(t[c]=a,this.config.post204?{headers:r,status:204}:{headers:r,body:l,status:200})},e.prototype.put=function(e){var t=e.collection,n=e.collectionName,r=e.headers,o=e.id,i=e.url,s=this.clone(this.getJsonBody(e.req));if(void 0==s.id)return this.createErrorResponseOptions(i,404,\"Missing '\"+n+\"' id\");if(o&&o!==s.id)return this.createErrorResponseOptions(i,400,\"Request for '\"+n+\"' id does not match item.id\");var a=this.indexOf(t,o=s.id),u=this.bodify(s);return a>-1?(t[a]=s,this.config.put204?{headers:r,status:204}:{headers:r,body:u,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,\"'\"+n+\"' item with id='\"+o+\" not found and may not be created with PUT; use POST instead.\"):(t.push(s),{headers:r,body:u,status:201})},e.prototype.removeById=function(e,t){var n=this.indexOf(e,t);return n>-1&&(e.splice(n,1),!0)},e.prototype.resetDb=function(e){var t=this;this.dbReadySubject.next(!1);var n=this.inMemDbService.createDb(e);return(n instanceof M?n:\"function\"==typeof n.then?J(n):Wu(n)).pipe(_c()).subscribe(function(e){t.db=e,t.dbReadySubject.next(!0)}),this.dbReady},e}(),vg=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bg=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.xhrFactory=r,o}return vg(t,e),t.prototype.handle=function(e){try{return this.handleRequest(e)}catch(n){var t=this.createErrorResponseOptions(e.url,500,\"\"+(n.message||n));return this.createResponse$(function(){return t})}},t.prototype.getJsonBody=function(e){return e.body},t.prototype.getRequestMethod=function(e){return(e.method||\"get\").toLowerCase()},t.prototype.createHeaders=function(e){return new cd(e)},t.prototype.createQueryMap=function(e){var t=new Map;if(e){var n=new hd({fromString:e});n.keys().forEach(function(e){return t.set(e,n.getAll(e))})}return t},t.prototype.createResponse$fromResponseOptions$=function(e){return e.pipe(G(function(e){return new wd(e)}))},t.prototype.createPassThruBackend=function(){try{return new Id(this.xhrFactory)}catch(e){throw e.message=\"Cannot create passThru404 backend; \"+(e.message||\"\"),e}},t}(yg);function wg(e,t,n){return new bg(e,t,n)}var _g=function(){function e(){}return e.forRoot=function(t,n){return{ngModule:e,providers:[{provide:fg,useClass:t},{provide:dg,useValue:n},{provide:ud,useFactory:wg,deps:[fg,dg,Nd]}]}},e.forFeature=function(t,n){return e.forRoot(t,n)},e}(),Sg=function(){},Cg=function(e,t,n){return new sa(zu,[qu],function(e){return function(e){for(var t={},n=[],r=!1,o=0;o<e.length;o++){var i=e[o];i.token===St&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,t[so(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Ko(512,en,tn,[[8,[Kf,Zd,Km,eg,og,hg]],[3,en],rn]),Ko(5120,vr,_r,[[3,vr]]),Ko(4608,Uc,Vc,[vr,[2,jc]]),Ko(5120,Lt,jt,[]),Ko(5120,hr,br,[]),Ko(5120,fr,wr,[]),Ko(4608,rp,op,[tl]),Ko(6144,$r,null,[rp]),Ko(4608,Zl,Jl,[]),Ko(5120,Cl,function(e,t,n,r,o,i,s,a){return[new Gl(e,t,n),new np(r),new Xl(o,i,s,a)]},[tl,pn,zt,tl,tl,Zl,Ft,[2,Ql]]),Ko(4608,Ol,Ol,[Cl,pn]),Ko(135680,xl,xl,[tl]),Ko(4608,Ml,Ml,[Ol,xl]),Ko(6144,Rn,null,[Ml]),Ko(6144,Tl,null,[xl]),Ko(4608,bn,bn,[pn]),Ko(4608,ym,ym,[]),Ko(5120,kh,qf,[vf]),Ko(4608,Af,Af,[]),Ko(6144,xf,null,[Af]),Ko(135680,If,If,[vf,Ln,Wt,Ke,xf]),Ko(4608,Nf,Nf,[]),Ko(5120,kf,Lf,[vf,rl,Pf]),Ko(5120,$f,Wf,[Ff]),Ko(5120,qt,function(e){return[e]},[$f]),Ko(4608,Rd,Md,[tl,zt,kd]),Ko(4608,Dd,Dd,[Rd,Pd]),Ko(5120,Ed,function(e){return[e]},[Dd]),Ko(4608,fg,mg,[]),Ko(4608,Ad,Ad,[]),Ko(6144,Nd,null,[Ad]),Ko(5120,ud,wg,[fg,dg,Nd]),Ko(4608,ad,Bd,[ud,Ke]),Ko(4608,Cd,Cd,[ad]),Ko(4608,Id,Id,[Nd]),Ko(1073742336,el,el,[]),Ko(1024,_t,hp,[]),Ko(1024,Tn,function(){return[Df()]},[]),Ko(512,Ff,Ff,[Ke]),Ko(1024,Dt,function(e,t){return[(n=e,wl(\"probe\",Sl),wl(\"coreTokens\",i({},_l,(n||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return Sl}),Hf(t)];var n},[[2,Tn],Ff]),Ko(512,Bt,Bt,[[2,Dt]]),Ko(131584,kn,kn,[pn,Ft,Ke,_t,en,Bt]),Ko(1073742336,Sr,Sr,[kn]),Ko(1073742336,fp,fp,[[3,fp]]),Ko(1073742336,Fm,Fm,[]),Ko(1073742336,Hm,Hm,[]),Ko(1024,Rf,Uf,[[3,vf]]),Ko(512,Xp,eh,[]),Ko(512,Of,Of,[]),Ko(256,Pf,{},[]),Ko(1024,Nc,jf,[Tc,[2,Ac],Pf]),Ko(512,Ic,Ic,[Nc]),Ko(512,Wt,Wt,[]),Ko(512,Ln,zn,[Wt,[2,Un]]),Ko(1024,pf,function(){return[[{path:\"\",redirectTo:\"/dashboard\",pathMatch:\"full\"},{path:\"dashboard\",component:$d},{path:\"detail/:id\",component:Wm},{path:\"heroes\",component:Zm},{path:\"mongodb\",component:tg}]]},[]),Ko(1024,vf,zf,[kn,Xp,Of,Ic,Ke,Ln,Wt,pf,Pf,[2,ff],[2,cf]]),Ko(1073742336,Bf,Bf,[[2,Rf],[2,vf]]),Ko(1073742336,Sg,Sg,[]),Ko(1073742336,Ld,Ld,[]),Ko(1073742336,jd,jd,[]),Ko(1073742336,_g,_g,[]),Ko(1073742336,zu,zu,[]),Ko(256,St,!0,[]),Ko(256,kd,\"XSRF-TOKEN\",[]),Ko(256,Pd,\"X-XSRF-TOKEN\",[]),Ko(256,dg,{dataEncapsulation:!1},[])])})}();(function(){if(Cn)throw new Error(\"Cannot enable prod mode after platform setup.\");Sn=!1})(),pp().bootstrapModuleFactory(Cg).catch(function(e){return console.log(e)})}},[[2,0]]]);","extractedComments":[]}